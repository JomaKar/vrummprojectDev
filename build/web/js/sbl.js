!function e(o,t,s){function r(n,i){if(!t[n]){if(!o[n]){var l="function"==typeof require&&require;if(!i&&l)return l(n,!0);if(a)return a(n,!0);var g=new Error("Cannot find module '"+n+"'");throw g.code="MODULE_NOT_FOUND",g}var c=t[n]={exports:{}};o[n][0].call(c.exports,function(e){var t=o[n][1][e];return r(t?t:e)},c,c.exports,e,o,t,s)}return t[n].exports}for(var a="function"==typeof require&&require,n=0;n<s.length;n++)r(s[n]);return r}({1:[function(e,o,t){"use strict";function s(){if("/web/perfil/"!==g.myLocation&&"/web/perfil/index"!==g.myLocation&&"/web/perfil/index.html"!==g.myLocation||(null===u||void 0===u?null!==f&&void 0!==f?c.hashesExist?void 0!==c.queriesT.al&&null!==c.queriesT.al&&(f==c.queriesT.al?r(f,"al"):r(c.queriesT.al,"al")):r(f,"al"):c.hashesExist&&(void 0!==c.queriesT.al&&null!==c.queriesT.al&&c.queriesT.al.length>0?r(c.queriesT.al,"al"):(0,g.navigating)("home")):null!==f&&void 0!==f&&c.hashesExist&&void 0!==c.queriesT.al&&null!==c.queriesT.al&&(f==c.queriesT.al?null:r(c.queriesT.al,"al")),null!==v&&void 0!==v&&"nothing stored"!==v&&null!==f&&void 0!==f&&c.hashesExist&&void 0!==c.queriesT.al&&null!==c.queriesT.al&&(f==c.queriesT.al?null:r(c.queriesT.al,"al"))),"/web/perfil/configuracion"===g.myLocation||"/web/perfil/configuracion.html"===g.myLocation)if(null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")){var e=parseInt(localStorage.getItem("aUsr"));if(null!==sessionStorage.getItem("currentUserInfo")&&void 0!==sessionStorage.getItem("currentUserInfo")){var o=JSON.parse(sessionStorage.getItem("currentUserInfo"))[0],t=parseInt(o.id);e!==t?(r(e,"id"),sessionStorage.removeItem("currentUserInfo")):null}else r(e,"id")}else null!==c.queriesT.al&&void 0!==c.queriesT.al?(0,g.navigating)("perfil/?al="+c.queriesT.al):null!==sessionStorage.getItem("currentUserAlias")&&void 0!==sessionStorage.getItem("currentUserAlias")?(0,g.navigating)("perfil/?al="+sessionStorage.getItem("currentUserAlias")):(0,g.navigating)("home");if("/web/catalogo/index.html"===g.myLocation||"/web/catalogo/index"===g.myLocation||"/web/catalogo/"===g.myLocation){var s=sessionStorage.getItem("catalogBrands");sessionStorage.removeItem("modelsArr"),null!==s&&void 0!==s&&"nothing stored"!==s||a()}if("/web/catalogo/brand-modelo.html"===g.myLocation||"/web/catalogo/brand-modelo"===g.myLocation){var d=sessionStorage.getItem("currentBrandAutos"),m=sessionStorage.getItem("modelsArr");null===d||void 0===d||"nothing store"===d?null!==m&&void 0!==m||(c.hashesExist&&c.queriesT.brdId.length>0?n(c.queriesT.brdId):(0,g.navigating)("catalogo")):null!==m&&void 0!==m||n(c.hashesExist?(c.queriesT.brdId=d)?d:c.queriesT.brdId:d)}if("/web/catalogo/modelo-versiones.html"===g.myLocation||"/web/catalogo/modelo-versiones"===g.myLocation||"/web/catalogo/specific-version.html"===g.myLocation||"/web/catalogo/specific-version"===g.myLocation){var I="/web/catalogo/specific-version.html"!==g.myLocation&&"/web/catalogo/specific-version"!==g.myLocation,S=sessionStorage.getItem("versionsArr"),h=sessionStorage.getItem("versionsPhotos"),p=(c.queriesT.al,localStorage.getItem("modelId"));if(null===p||void 0===p||"nothing store"===p)if(c.hashesExist)if(c.queriesT.mdlId.length>0){var y=c.queriesT.mdlId;null!==S&&void 0!==S||i(y),null!==h&&void 0!==h||I&&l(y)}else(0,g.navigating)("catalogo/brand-modelo");else(0,g.navigating)("catalogo/brand-modelo");else if(null===S||void 0===S||null===h||void 0===h)if(c.hashesExist)if(console.log("hashesExist"),c.queriesT.mdlId.length>0){var U=c.queriesT.mdlId;I?p==U?(i(p),l(p)):(i(U),l(U)):i(p==U?p:U)}else I?(i(p),l(p)):i(p);else I?(i(p),l(p)):i(p);else if(c.hashesExist)if(c.queriesT.mdlId.length>0){var U=c.queriesT.mdlId;p==U?(i(p),l(p)):(i(U),l(U))}else I?(i(p),l(p)):i(p);else I?(i(p),l(p)):i(p)}}function r(e,o){var t="al"===o?{alias:e}:{idUsr:e};if(console.log(localStorage.getItem("visitedUsrs"),e),"al"===o&&null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")){var s=JSON.parse(localStorage.getItem("visitedUsrs"));s.forEach(function(o,t){if(e==o.al||e==o.id){var s=sessionStorage.getItem("deviceId");if(void 0!==s&&null!==s){var r={idUsr:o.id,device:sessionStorage.getItem("deviceId")};r=JSON.stringify(r),(0,d.sendPostToGet)("garage/listar",r,"usrGrg")}}})}t=JSON.stringify(t),(0,d.sendPostToGet)("usuario/info",t,"usrInfoToGet")}function a(){(0,d.sendPostToGet)("catalogo/getmarcas",null,"brands")}function n(e){var o=parseInt(e),t=sessionStorage.getItem("deviceId");if(void 0!==t&&null!==t&&o){console.log("without waiting");var s={device:t,brandId:o};s=JSON.stringify(s),(0,d.sendPostToGet)("catalogo/getmodelos",s,"mdls")}else setTimeout(function(){s={device:sessionStorage.getItem("deviceId"),brandId:o},(0,d.sendPostToGet)("catalogo/getmodelos",JSON.stringify(s),"mdls")},700)}function i(e){var o={};e=parseInt(e);var t=sessionStorage.getItem("deviceId");sessionStorage.getItem("currentUserId");void 0!==t&&null!==t?(o=null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?{device:t,modelId:e,user:localStorage.getItem("aUsr")}:{device:t,modelId:e},"/web/catalogo/modelo-versiones.html"===g.myLocation||"/web/catalogo/modelo-versiones"===g.myLocation?(0,d.sendPostToGet)("catalogo/getversiones",JSON.stringify(o),"vrsInfo"):(0,d.sendPostToGet)("catalogo/getversiones",JSON.stringify(o),"spVrsInfo")):setTimeout(function(){o=null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?{device:sessionStorage.getItem("deviceId"),modelId:e,user:localStorage.getItem("aUsr")}:{device:sessionStorage.getItem("deviceId"),modelId:e},"/web/catalogo/modelo-versiones.html"===g.myLocation||"/web/catalogo/modelo-versiones"===g.myLocation?(0,d.sendPostToGet)("catalogo/getversiones",JSON.stringify(o),"vrsInfo"):(0,d.sendPostToGet)("catalogo/getversiones",JSON.stringify(o),"spVrsInfo")},700)}function l(e){e=parseInt(e);var o=sessionStorage.getItem("deviceId"),t={};void 0!==o&&null!==o?(t={device:o,modelId:e},(0,d.sendPostToGet)("catalogo/getgaleria",JSON.stringify(t),"vrsGal")):setTimeout(function(){t={device:sessionStorage.getItem("deviceId"),modelId:e},(0,d.sendPostToGet)("catalogo/getgaleria",JSON.stringify(t),"vrsGal")},1e3)}var g=e("../scripts/commonFunc/locating.js"),c=e("../scripts/commonFunc/urlEncoder.js"),d=e("../scripts/commonFunc/httpProcesor.js");$(document).ready(function(){$(this).scrollTop(0)});var m=(window.localStorage.getItem("activeSession"),sessionStorage.getItem("deviceId")),u=sessionStorage.getItem("currentUserInfo"),f=(sessionStorage.getItem("currentUserId"),sessionStorage.getItem("currentUserAlias")),v=sessionStorage.getItem("currentUserGarage");void 0!==m&&null!==m?s():setTimeout(function(){s()},1400),window.onbeforeunload=function(){sessionStorage.removeItem("currentUserGarage"),"/web/catalogo/brand-modelo.html"!==g.myLocation&&"/web/catalogo/brand-modelo"!==g.myLocation||sessionStorage.removeItem("modelsArr")}},{"../scripts/commonFunc/httpProcesor.js":4,"../scripts/commonFunc/locating.js":5,"../scripts/commonFunc/urlEncoder.js":6}],2:[function(e,o,t){"use strict";function s(e){console.log(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.con=s},{}],3:[function(e,o,t){"use strict";function s(e){"login"===e&&(n.disBlock(),r.val(""),a.val(""))}Object.defineProperty(t,"__esModule",{value:!0}),t.displayErr=s;var r=(e("./locating.js"),$("#l-email")),a=$("#l-pass"),n=$("div.errorLogin");$.fn.disNone=function(){return this.css({display:"none"}),this},$.fn.disBlock=function(){return this.css({display:"block"}),this},$.fn.an=function(){return this.animate({height:"toggle"},200),this}},{"./locating.js":5}],4:[function(e,o,t){"use strict";function s(e,o,t){console.log(o,"from sendToGo processor",t);var s=localStorage.getItem("aUsrA");if("specVer"===t){var r=e.brand_id,l=e.model_id,m=e.id;a()?(0,g.navigating)("catalogo/specific-version?al="+s+"&brdId="+r+"&mdlId="+l+"&cId="+m):(0,g.navigating)("catalogo/specific-version?brdId="+r+"&mdlId="+l+"&cId="+m)}$.post("https://vrummapp.net/ws/v2/"+e,o).then(function(e){if("perfilLog"===t)if(1===e.estado){var o=e.mensaje.rs;localStorage.setItem("activeSession","yes"),n(o,"user",!0),o.toString(),localStorage.setItem("aUsr",o),i("currentUserId",o)}else(0,d.con)("whatTheFuck"),(0,c.displayErr)("login");if("perfilr"===t&&1===e.estado){var o=e.mensaje.usr.id,r=e.mensaje.usr.alias,l=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[];l.push({al:r,id:o}),l=JSON.stringify(l),localStorage.setItem("visitedUsrs",l),localStorage.setItem("aUsrA",r);var m=null!==e.mensaje.usr.foto_perfil&&void 0!==e.mensaje.usr.foto_perfil?e.mensaje.usr.foto_perfil.toString():"";m.length>0&&localStorage.setItem("aUPP",m);var u=[];u[0]=e.mensaje.usr,u=JSON.stringify(u),o.toString(),localStorage.setItem("aUsr",o),i("currentUserId",o),i("currentUserAlias",r),i("currentUserInfo",u),localStorage.setItem("activeSession","yes"),(0,g.navigating)("perfil?al="+r)}else if("brands"===t&&1===e.estado){var f=JSON.stringify(e.mensaje.rs);sessionStorage.setItem("catalogBrands",f),a()?(0,g.navigating)("catalogo/?al="+s):(0,g.navigating)("catalogo/?")}else if("mdls"===t&&1===e.estado){var v=e.mensaje.rs,I=e.mensaje.rs[0].brand_id;v=JSON.stringify(v),sessionStorage.setItem("modelsArr",v),a()?(0,g.navigating)("catalogo/brand-modelo?al="+s+"&brdId="+I):(0,g.navigating)("catalogo/brand-modelo?brdId="+I)}else if("versiones"===t&&1===e.estado){var S=e.mensaje.rs;sessionStorage.setItem("currentBrandImg",S[0].pic_marca.toString()),localStorage.setItem("modelName",S[0].model_name.toString()),S=JSON.stringify(S),sessionStorage.setItem("versionsArr",S);var I=e.mensaje.rs[0].brand_id,h=e.mensaje.rs[0].model_id;a()?(0,g.navigating)("catalogo/modelo-versiones?al="+s+"&brdId="+I+"&mdlId="+h):(0,g.navigating)("catalogo/modelo-versiones?brdId="+I+"&mdlId="+h)}}).fail(function(e){console.log(e)})}function r(e,o,t){console.log(o,"from sendToGet processor",t);var s=o?o:"";$.post("https://vrummapp.net/ws/v2/"+e,s).then(function(e){if(1===e.estado&&"usrInfoToGo"===t){var o=[];o[0]=e.mensaje.rs[0];var a=null!==o[0].foto_perfil&&void 0!==o[0].foto_perfil?o[0].foto_perfil.toString():"";a.length>0&&localStorage.setItem("aUPP",a);var n=o[0].alias,c=o[0].id,d=sessionStorage.getItem("deviceId");if(void 0!==d&&null!==d&&c){var f={idUsr:c,device:sessionStorage.getItem("deviceId")};f=JSON.stringify(f),r("garage/listar",f,"usrGrg")}var v=-1,I=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[];I.forEach(function(e,o){var t=parseInt(e.id);t===c&&(v=o)}),v===-1&&(I.push({al:n,id:c}),I=JSON.stringify(I),localStorage.setItem("visitedUsrs",I)),o=JSON.stringify(o),localStorage.setItem("aUsrA",n),i("currentUserAlias",n),i("currentUserInfo",o),"/web/perfil/"!==g.myLocation&&"/web/perfil/index"!==g.myLocation&&"/web/perfil/index.html"!==g.myLocation&&(0,g.navigating)("perfil?al="+n)}else if(1===e.estado&&"usrInfoToGet"===t){var o=[];o[0]=e.mensaje.rs[0];var n=o[0].alias,c=o[0].id,v=-1,I=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[];I.forEach(function(e,o){var t=parseInt(e.id);t===c&&(v=o)}),v===-1&&(I.push({al:n,id:c}),I=JSON.stringify(I),localStorage.setItem("visitedUsrs",I)),i("currentUserAlias",n.toString()),i("currentUserId",c.toString()),o=JSON.stringify(o),i("currentUserInfo",o);var d=sessionStorage.getItem("deviceId");if(void 0!==d&&null!==d&&c){var f={idUsr:c,device:sessionStorage.getItem("deviceId")};f=JSON.stringify(f),r("garage/listar",f,"usrGrg")}}else if("usrGrg"===t)if(1===e.estado){var S=e.mensaje.rs;S=JSON.stringify(S),i("currentUserGarage",S)}else sessionStorage.setItem("currentUserGarage","nothing stored");else if("usrAct"===t){if(1===e.estado&&null!==sessionStorage.getItem("temptyImgForLocal")&&void 0!==sessionStorage.getItem("temptyImgForLocal")){var h=sessionStorage.getItem("temptyImgForLocal");if(localStorage.setItem("aUPP",h.toString()),null!==sessionStorage.getItem("currentUserInfo")&&void 0!==sessionStorage.getItem("currentUserInfo")){var p=sessionStorage.getItem("currentUserInfo"),y=JSON.parse(p);$.isArray(y)?y.length>0?y[0].foto_perfil=h:null:"object"===("undefined"==typeof y?"undefined":l(y))&&null!==y&&(y.foto_perfil=h),y=JSON.stringify(y),sessionStorage.setItem("currentUserInfo",y)}}}else if("usrContact"===t)if(1===e.estado){if($("input.referidoEdit").attr("readonly",!0),localStorage.setItem("contactChange","y"),null!==localStorage.getItem("passwordChange")&&void 0!==localStorage.getItem("passwordChange")?null!==localStorage.getItem("infoChange")&&void 0!==localStorage.getItem("infoChange")?u.text("contraseña, nuevo contacto de referencia e información general se ha guardado"):u.text("contraseña y nuevo contacto de referencia se han guardado. Pero la demás información no"):null!==localStorage.getItem("infoChange")&&void 0!==localStorage.getItem("infoChange")?u.text("nuevo contacto de referencia e información general se ha guardado"):u.text("nuevo contacto de referencia se ha guardado. Pero la demás información no"),null!==sessionStorage.getItem("temptyNewContact")&&void 0!==sessionStorage.getItem("temptyNewContact")){var U=sessionStorage.getItem("temptyNewContact");if(null!==sessionStorage.getItem("currentUserInfo")&&void 0!==sessionStorage.getItem("currentUserInfo")){var p=sessionStorage.getItem("currentUserInfo"),y=JSON.parse(p);$.isArray(y)?y.length>0?y[0].invitado_por=U:null:"object"===("undefined"==typeof y?"undefined":l(y))&&null!==y&&(y.invitado_por=U),y=JSON.stringify(y),sessionStorage.setItem("currentUserInfo",y)}}}else console.log(e);else if("usrPass"===t)1===e.estado&&(localStorage.setItem("passwordChange","y"),null!==localStorage.getItem("contactChange")&&void 0!==localStorage.getItem("contactChange")?null!==localStorage.getItem("infoChange")&&void 0!==localStorage.getItem("infoChange")?u.text("contraseña, nuevo contacto de referencia e información general se ha guardado"):u.text("contraseña y nuevo contacto de referencia se han guardado. Pero no la demás información"):null!==localStorage.getItem("infoChange")&&void 0!==localStorage.getItem("infoChange")?u.text("contraseña e información general se ha guardado"):u.text("contraseña se ha guardado. Pero no la demás información"));else if("usrFullEdit"===t){if(1===e.estado&&(localStorage.setItem("infoChange","y"),null!==localStorage.getItem("contactChange")&&void 0!==localStorage.getItem("contactChange")?null!==localStorage.getItem("passwordChange")&&void 0!==localStorage.getItem("passwordChange")?u.text("contraseña, nuevo contacto de referencia e información general se ha guardado"):u.text("nuevo contacto de referencia e información se han guardado"):null!==localStorage.getItem("passwordChange")&&void 0!==localStorage.getItem("passwordChange")?u.text("contraseña e información general se ha guardado"):u.text("información general se ha guardado"),$("div#successEditProfile").modal(),null!==sessionStorage.getItem("currentUserInfo")&&void 0!==sessionStorage.getItem("currentUserInfo"))){var p=sessionStorage.getItem("currentUserInfo"),y=JSON.parse(p),b=JSON.parse(s);if(console.log("actFullBef",b,y),$.isArray(y)){if(y.length>0){var w=y[0],T=["fecha_nac","foto_perfil","full_name","genero","materno","paterno","nombre","tags"];$.each(T,function(e,o){"full_name"===o?w[o]=b.nombre+" "+b.paterno+" "+b.materno:"fecha_nac"===o?w[o]=b.fecha_nacimiento:"foto_perfil"===o?w[o]=b.foto:w[o]=b[o]}),y[0]=w}}else if("object"===("undefined"==typeof y?"undefined":l(y))&&null!==y){var T=["fecha_nac","foto_perfil","full_name","genero","materno","paterno","nombre","tags"];$.each(T,function(e,o){"full_name"===o?y[o]=b.nombre+" "+b.paterno+" "+b.materno:"fecha_nac"===o?y[o]=b.fecha_nacimiento:"foto_perfil"===o?y[o]=b.foto:y[o]=b[o]})}y=JSON.stringify(y),sessionStorage.setItem("currentUserInfo",y)}}else if("brands"===t&&1===e.estado){var O=e.mensaje.rs;O=JSON.stringify(O),sessionStorage.setItem("catalogBrands",O)}else if("mdls"===t&&1===e.estado){var N=e.mensaje.rs;N=JSON.stringify(N),sessionStorage.setItem("modelsArr",N)}else if("vrsInfo"===t&&1===e.estado){var j=e.mensaje.rs;sessionStorage.setItem("currentBrandImg",j[0].pic_marca.toString()),localStorage.setItem("modelName",j[0].model_name.toString()),j=JSON.stringify(j),sessionStorage.setItem("versionsArr",j)}else if("vrsGal"===t&&1===e.estado){var _=e.mensaje.rs;_=JSON.stringify(_),sessionStorage.setItem("versionsPhotos",_)}else if("spVrsInfo"===t&&1===e.estado){var j=e.mensaje.rs,J=e.mensaje.rs;if(sessionStorage.setItem("currentBrandImg",j[0].pic_marca.toString()),localStorage.setItem("modelName",j[0].model_name.toString()),m.hashesExist&&m.queriesT.cId.length>0){var q=parseInt(m.queriesT.cId),x=$.grep(J,function(e,o){var t=parseInt(e.id);if(t===q)return e}),P=x[0];P=JSON.stringify(P),sessionStorage.setItem("versionStored",P)}j=JSON.stringify(j),sessionStorage.setItem("versionsArr",j)}}).fail(function(e){console.log(e)})}function a(){var e=localStorage.getItem("activeSession");return"yes"===e}function n(e,o,t){if("user"===o){var s=sessionStorage.getItem("deviceId"),a={idUsr:e};a=JSON.stringify(a);var n={idUsr:e,device:s};n=JSON.stringify(n),r("garage/listar",n,"usrGrg"),t?r("usuario/info",a,"usrInfoToGo"):r("usuario/info",a,"usrInfoToGet")}}function i(e,o){sessionStorage.removeItem(e),sessionStorage.setItem(e,o)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.sendPostToGo=s,t.sendPostToGet=r;var g=e("./locating.js"),c=e("./displayErrs.js"),d=e("./consoling.js"),m=e("./urlEncoder.js"),u=$("#successEditProfile").find("span.datoDetail")},{"./consoling.js":2,"./displayErrs.js":3,"./locating.js":5,"./urlEncoder.js":6}],5:[function(e,o,t){"use strict";function s(e){"home"===e?window.location=i+"/web/":window.location=i+"/web/"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.navigating=s;var r=window.location.pathname,a=r.search("/web"),n=r.slice(a),i=(t.pathnameRoot=r.slice(0,a+5),t.strongRoot=r.slice(0,a)),l=t.myLocation=n;t.myLocHref=window.location.href,t.totalRoot=i+l},{}],6:[function(e,o,t){"use strict";function s(){for(var e,o={},t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),s=0;s<t.length;s++)e=t[s].split("="),o[e[0]]=e[1];return o}function r(){var e=window.location.href,o=e.indexOf("?");return o!==-1&&(g=e.slice(o)),g}function a(e){var o=[],t="";$.map(e,function(e,t){o.push(t+"="+e)}),$.each(o,function(e,o){o=0===e?"?"+o:"&"+o,t+=o}),console.log(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.setQueriesWithObj=a;var n=window.location.href,i=n.indexOf("?"),l=i!==-1?n.slice(i):"",g="";t.hashesExist=l.length>3,t.queriesT=s(),t.queryText=r()},{}]},{},[1]);