!function e(t,n,o){function a(i,r){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!r&&l)return l(i,!0);if(s)return s(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[i]={exports:{}};t[i][0].call(d.exports,function(e){var n=t[i][1][e];return a(n?n:e)},d,d.exports,e,t,n,o)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(e,t,n){"use strict";var o=e("./commonFunc/locating.js"),a=e("./commonFunc/sizingGarageImgs.js"),s=e("./commonFunc/consoling.js"),i=(e("./commonFunc/httpProcesor.js"),e("./commonFunc/getversiones.js"));$(function(){var e=[];if("/web/catalogo/brand-modelo.html"===o.myLocation||"/web/catalogo/brand-modelo"===o.myLocation){var t,n,r,l,c,d,g;!function(){var m=function(t){null!==t&&void 0!==t&&"nothing stored"!==t&&(clearInterval(l),e=t,u(e))},u=function(e){t=JSON.parse(e);var n=[],o=[],a=[];if(""!==t){t.forEach(function(e,t){var o=$.inArray(e.year,n,0);o===-1&&n.push(e.year)});var s=[];n.forEach(function(e,o){s[o]=[],s[o]=$.grep(t,function(e,t){return e.year===n[o]&&e.uso})}),t.forEach(function(e,t){var n=$.inArray(e.uso,o,0);n===-1&&o.push(e.uso)}),t.forEach(function(e,t){var n=$.inArray(e.tipo_catalogo,a,0);n===-1&&a.push(e.tipo_catalogo)});var i=[];s.forEach(function(e,t){i[t]=[],o.forEach(function(n,a){i[t][a]=[],i[t][a]=$.grep(e,function(e,t){return e.uso===o[a]})})}),i.forEach(function(e,t){i[t]=$.grep(e,function(e,t){return e.length>0})});var r=[];i.forEach(function(e,t){r[t]=[],e.forEach(function(e,n){r[t][n]=[],a.forEach(function(o,s){r[t][n][s]=[],r[t][n][s]=$.grep(e,function(e,t){return e.tipo_catalogo===a[s]})})})}),r.forEach(function(e,t){e.forEach(function(e,n){r[t][n]=$.grep(e,function(e,t){return e.length>0})})}),f(s,i,r)}else d.html("No hay información sobre esta marca para mostrar")},f=function(e,t,n){d.remove(),t.forEach(function(e,t){e.forEach(function(e,t){var n=e[0].year,o=e[0].uso,a='<div class="galleryHead col-xs-12 noPadding noMargin yearFilter'+(n+o)+'">\n\t\t\t\t\t\t\t\t\t\t\t<span class="modelUse">'+o+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="modelY">'+n+'</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="col-xs-12 noPadding noMargin yearFilterCont'+(n+o)+'"></div>';c.append(a)})}),n.forEach(function(e,t){e.forEach(function(e,t){e.forEach(function(e,t){var n=e[0].year,a=e[0].uso,s=n+a,i=$("div.yearFilterCont"+s),r=e[0].tipo_catalogo,l=r;r=r.replace(/ /g,"");var c=s+r,d='<div class="galleryNeck col-xs-12 noPadding noMargin typeFilter'+(n+a+r)+'">\n\t\t\t\t\t\t                    <span class="gallNeckCarSp"></span>\n\t\t\t\t\t\t                    <span class="gallNeckCarTxt">'+l+'</span>\n\t\t\t\t\t\t                </div>\n\t\t\t\t\t\t                <div class="col-xs-12 noPadding noMargin">\n\t\t\t\t\t\t                    <div class="row-fluid noPadding noMargin childHeight modelBox'+(n+a+r)+'">\n\t\t\t\t\t\t                        \n\t\t\t\t\t\t                    </div>\n\t\t\t\t\t\t                </div>';i.append(d),e.forEach(function(e,t){var n=$("div.modelBox"+c),a=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?o.pathnameRoot+"catalogo/modelo-versiones?al="+localStorage.getItem("aUsrA")+"&brdId="+e.brand_id+"&mdlId="+e.model_id:o.pathnameRoot+"catalogo/modelo-versiones?brdId="+e.brand_id+"&mdlId="+e.model_id,s='<div class="col-xs-12 col-sm-4 noPadding noMargin modelItem">\n\t\t\t\t                            <img src="'+e.pic_url+'" class="img-responsive carImg"/>\n\t\t\t\t                            <a href="'+a+'" class="modelItmAnchor">\n\t\t\t\t\t                            <div class="hoverInfo">\n\t\t\t\t\t                                <ul class="mDetails noPadding">\n\t\t\t\t\t                                  <li class="mName">'+e.name+'</li>\n\t\t\t\t\t                                  <li class="vPrice">'+e.desde+" - "+e.hasta+'</li>\n\t\t\t\t\t                                  <li class="yModel">'+e.year+'</li>\n\t\t\t\t\t                                  <li class="hiddenItm modelId">'+e.model_id+"</li>\n\t\t\t\t\t                                </ul>\n\t\t\t\t\t                            </div>\n\t\t\t\t\t                        </a>\n\t\t\t\t                        </div>";n.append(s)})})})}),(0,a.sizingModelItms)()},v=function(){if(null!==sessionStorage.getItem("currentBrandImg")){var e=sessionStorage.getItem("currentBrandImg");n.css({"background-image":"url("+e+")"})}else(0,s.con)("no image brand")};$(document).ready(function(){v()}),t=[],n=$("div.headerBrandImg"),r=sessionStorage.getItem("currentBrandName"),l=setInterval(function(){var e=sessionStorage.getItem("modelsArr");m(e)},5),c=$("div.modelsSpace"),d=$("p.modelsStartTxt"),$(document).on("click","a.modelItmAnchor",function(e){e.preventDefault()}),$(document).on("click","div.hoverInfo",function(){var e=$(this).find("li.modelId").text(),t=$(this).find("li.mName").text(),n=$(this).find("li.vPrice").text();(0,i.getVersions)(e,t,n,"mdls")}),$(window).resize(function(){var e=$("div.modelItem");e.length&&(0,a.alleGleichlich)(e)}),g=$("span.backBtn"),g.click(function(){(0,o.navigating)("catalogo")})}()}})},{"./commonFunc/consoling.js":6,"./commonFunc/getversiones.js":8,"./commonFunc/httpProcesor.js":9,"./commonFunc/locating.js":10,"./commonFunc/sizingGarageImgs.js":11}],2:[function(e,t,n){"use strict";var o=e("./commonFunc/locating.js"),a=(e("./commonFunc/consoling.js"),e("./commonFunc/httpProcesor.js")),s=e("./commonFunc/urlEncoder.js");$(function(){var e=[],t={},n="",i=[],r=$("div.versionsCarousel"),l=$("div.versionDetailCont"),c=$("span.currentVersionId"),d=$("div.thumbImgsBar");if("/web/catalogo/modelo-versiones.html"===o.myLocation||"/web/catalogo/modelo-versiones"===o.myLocation){var g,m,u,f,v,p,h,I,S,b,C,y,w,x,N;!function(){var P=function(t,n){if(null!==t&&void 0!==t&&"nothing stored"!==t&&(clearInterval(m),e=t,A(e)),null!==n&&void 0!==n&&"nothing stored"!==n){clearInterval(u);var o=n;s.hashesExist?j(s.queriesT.mdlId):U(JSON.parse(o))}},A=function(e){i=JSON.parse(e),t=i[0],null!==sessionStorage.getItem("currentBrandImg")&&void 0!==sessionStorage.getItem("currentBrandImg")&&"nothing stored"!==sessionStorage.getItem("currentBrandImg")&&B(),s.hashesExist?(t.model_id=s.queriesT.mdlId)?T():k(s.queriesT.mdlId):T()},j=function(e){e=parseInt(e);var t=sessionStorage.getItem("deviceId"),n={};void 0!==t&&null!==t&&e&&(n={device:t,modelId:e}),n=JSON.stringify(n),$.post("https://vrummapp.net/ws/v2/catalogo/getgaleria",n).then(function(e){if(1===e.estado){var t=e.mensaje.rs;U(t),t=JSON.stringify(t),sessionStorage.setItem("versionsPhotos",t)}}).fail(function(e){console.log(e)})},U=function(e){var t=$("div.thumbImgsCont"),o=$("div.arrowsCont");$.map(e.galeria,function(e,t){v.push({pict:e.pic_url,id:t})}),J(v[0].pict,null),$(r).css({"background-image":"url("+v[0].pict+")"}),p=v[0].id,c.text(p),n=v[0].pict;var a="";v.forEach(function(e,n){a=0===n?"carThumb active":"carThumb";var o='<div class="carThumbImgUnit"><span class="thumbIdSpan hiddenItm">'+e.id+'</span><img src="'+e.pict+'" class="'+a+" img"+n+' thumbImg img-responsive"></div>';t.append(o)}),v.length<=1&&o.hide(),E()},k=function(e){var n=sessionStorage.getItem("deviceId");if(void 0!==n&&null!==n&&e){var o=null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?{device:n,modelId:e,user:localStorage.getItem("aUsr")}:{device:n,modelId:e};o=JSON.stringify(o),$.post("https://vrummapp.net/ws/v2/catalogo/getversiones",o).then(function(e){1===e.estado&&(i=e.mensaje.rs,t=i[0],T(),i=JSON.stringify(i),sessionStorage.setItem("versionsArr",i))}).fail(function(e){console.log(e)})}},T=function(){var e={},t="",n="";$.each(i,function(a,s){var i=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?o.pathnameRoot+"catalogo/specific-version?al="+localStorage.getItem("aUsrA")+"&brdId="+s.brand_id+"&mdlId="+s.model_id+"&cId="+s.id:o.pathnameRoot+"catalogo/specific-version?brdId="+s.brand_id+"&mdlId="+s.model_id+"&cId="+s.id,r=s.name,c=s.starting_price,d=s.id;e=$.isArray(s.pic_web)?{pict:s.pic_web[0],id:s.id}:{pict:s.pic_web,id:s.id},n=0===a?'<div class="row-fluid childHeight versionDetailRow active">':'<div class="row-fluid childHeight versionDetailRow">',t=n+'\n\t                                <div class="versionImg col-xs-3 col-sm-2">\n\t                                    <img src="'+e.pict+'" class="img-responsive">\n\t                                </div>\n\t                                <div class="col-xs-8 col-sm-9 versionDetail">\n\t                                    <span class="versionName">'+r+'</span>\n\t                                    <span class="versionPrice">$ '+c+'</span>\n\t                                    <span class="versionId hiddenItm">'+d+'</span>\n\t                                </div>\n\t                                <div class="col-xs-1 noPadding goToDetailArrow">\n\t                                    <a href="'+i+'" class="goToDetailAnchor">\n\t                                    \t<span class="glyphicon glyphicon-menu-right"></span>\n\t                                    </a>\n\t                                </div>\n\t                            </div>',l.append(t)})},O=function(e,n){var o=$("div.versionDetailRow"),s=$(e).find("span.versionName").text();o.removeClass("active"),e.addClass("active"),sessionStorage.removeItem("versionStored");var r=$.grep(i,function(e,t){var n=e.name.replace(/"/g,"");return n===s});t=r[0],n&&(0,a.sendPostToGo)(t,null,"specVer");var l=JSON.stringify(t);sessionStorage.setItem("versionStored",l)},_=function(e){var t=$("div.carThumbImgUnit").find("img.carThumb");t.removeClass("active"),e.addClass("active")},F=function(e,t){if(null===e){$.each(v,function(e,t){t.id===parseInt(C)&&(y=e)}),"left"===h?0===y?(I=v[v.length-1].pict,S=v[v.length-1].id):(I=v[y-1].pict,S=v[y-1].id):"right"===h&&(y===v.length-1?(I=v[0].pict,S=v[0].id):(I=v[y+1].pict,S=v[y+1].id)),n=I,J(I,null),r.css({"background-image":"url("+I+")"}),c.text(S);var o=$("div.carThumbImgUnit").find("span.thumbIdSpan"),a=o.filter(function(e,t){if(parseInt($(t).text())===S)return t});a=a.next("img.carThumb"),_(a)}else{n=e,J(e,null),r.css({"background-image":"url("+e+")"}),c.text(t);$("div.versionDetailRow").filter(function(e,n){var o=$(n).find("span.versionId").text();if(o===t)return n})}},J=function(e,t){var n=new Image,o=r.width(),a=.6309,s=o*a;n.src=e,$(n).one("load",function(){var e=n.width,a=n.height,i=o/e,l=a<e?i*a:s,c=s-l,d=c/2;a>=e?$(r).css({"background-position":"top center"}):c>0?$(r).css({"background-position":"0 "+d+"px"}):$(r).css({"background-position":"top"}),null!==t?a>=e?r.css({"background-size":"auto "+t+"px"}):r.css({"background-size":"100%"}):a>=e?r.css({"background-size":"auto "+s+"px"}):r.css({"background-size":"100%"})})},G=function(){if(x)return!0;var e;!function(){var n=function(){x=!0,x&&(clearInterval(e),E())};e=setInterval(function(){$.isEmptyObject(t)||n()},10)}()},E=function(){var e=r.width(),t=$(window).width();f.find("div.carThumbImgUnit").length>=7?(f.css({bottom:"11%","justify-content":"initial",height:"65%"}),t<=310?N=.17:t>310&&t<=410?N=.15:t>410&&t<=510?N=.135:t>510&&(N=.12)):N=.1075502;var o=.6309,a=e*o,s=N*e;d.height(s);var i=o+N,l=e*i;n.length>0&&J(n,a),r.height(l)},B=function(){var e=$("div.versionsBrandImg"),t=$("p.modelName"),n=$("p.modelPrice"),o=i[0].pic_marca,a=i[0].model_name;sessionStorage.setItem("currentBrandImg",o),localStorage.setItem("modelName",a),e.css({"background-image":"url("+o+")"}),t.text(a);var s=null!==localStorage.getItem("modelPrice")?localStorage.getItem("modelPrice"):i[0].starting_price;n.text(s)};g=sessionStorage.getItem("currentBrandName"),$(document).ready(function(){null!==sessionStorage.getItem("currentBrandImg")&&i.length>0&&void 0!==sessionStorage.getItem("currentBrandImg")&&"nothing stored"!==sessionStorage.getItem("currentBrandImg")&&B(),G()}),m=setInterval(function(){var e=sessionStorage.getItem("versionsArr");P(e,null)},5),u=setInterval(function(){var e=sessionStorage.getItem("versionsPhotos");P(null,e)},5),f=$("div.thumbImgsCont"),v=[],$(document).on("click","div.versionDetailRow",function(){var e=$(this);O(e,!1)}),$(document).on("click","div.goToDetailArrow",function(){var e=$(this).closest("div.versionDetailRow");O(e,!0)}),$(document).on("click","a.goToDetailAnchor",function(e){e.preventDefault()}),h="",I="",S="",b="",C="",$(document).on("click","div.arrowsCont span",function(){var e=$(this);h=e.hasClass("leftArr")?"left":"right",b=r.css("background-image"),C=r.find("span.currentVersionId").text();var t=b.indexOf('"')+1,n=b.lastIndexOf('"');b=b.substring(t,n),F(null,null)}),$(document).on("click","div.carThumbImgUnit",function(){var e=$(this).find("img").attr("src"),t=$(this).find("img"),n=$(this).find("span.thumbIdSpan").text();F(e,n),_(t)}),y=-1,w="",x=!1,$(window).resize(function(){x?E():G()}),N=0}()}})},{"./commonFunc/consoling.js":6,"./commonFunc/httpProcesor.js":9,"./commonFunc/locating.js":10,"./commonFunc/urlEncoder.js":12}],3:[function(e,t,n){"use strict";var o=e("./commonFunc/locating.js"),a=(e("./commonFunc/consoling.js"),e("./commonFunc/httpProcesor.js"));$(function(){var e=[],t=$("div.brandsSpace"),n=$("button#goToReg-Cat"),s=$("div.firstRow");if(n.click(function(){(0,o.navigating)("registro")}),"/web/catalogo/index.html"===o.myLocation||"/web/catalogo/index"===o.myLocation||"/web/catalogo/"===o.myLocation){var i;!function(){var n=function(t){null!==t&&void 0!==t&&"nothing stored"!==t&&(clearInterval(i),e=t,r(e))},r=function(n){$("p.startingText").remove(),e=JSON.parse(n);var a=e.length,i=0,r=0,l=0,c=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?o.pathnameRoot+"catalogo/brand-modelo?al="+localStorage.getItem("aUsrA")+"&brdId=":o.pathnameRoot+"catalogo/brand-modelo?brdId=";a>5&&(i=Math.floor(a/5),r=a%5);for(var d=0;d<i;d++){if(0===d)for(var g=0;g<5;g++){var m='<div class="noPadding noMargin brandItem dynamicItem'+g+'">\n\t\t\t\t\t\t\t\t\t\t\t<span class="brandName">'+e[g].name+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="brandId">'+e[g].id+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<a href="'+c+e[g].id+'" class="brandImgAnchor"><div class="backImg centerBackImg brandItmImg" style="background-image: url(\''+e[g].pic_url+"');\"></div></a>\n\t\t\t\t\t\t\t\t\t\t</div>";s.append(m),l++}if(d>0){var u='<div class="row-fluid noPadding noMargin brandCatRow dynamicRow'+d+'"></div>';t.append(u);for(var f=$("div.dynamicRow"+d),g=0;g<5;g++){var m='<div class="noPadding noMargin brandItem dynamicItem'+l+'">\n\t\t\t\t\t\t\t\t\t\t\t<span class="brandName">'+e[l].name+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="brandId">'+e[l].id+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<a href="'+c+e[l].id+'" class="brandImgAnchor"><div class="backImg centerBackImg brandItmImg" style="background-image: url(\''+e[l].pic_url+"');\"></div></a>\n\t\t\t\t\t\t\t\t\t\t</div>";f.append(m),l++}}}if(r>0){var v=i+1,u='<div class="row-fluid noPadding noMargin brandCatRow dynamicRow'+v+'"></div>';t.append(u);for(var f=$("div.dynamicRow"+v),p=0;p<r;p++){var m='<div class="noPadding noMargin brandItem dynamicItem'+l+'">\n\t\t\t\t\t\t\t\t\t\t<span class="brandName">'+e[l].name+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="brandId">'+e[l].id+'</span>\n\t\t\t\t\t\t\t\t\t\t<a href="'+c+e[l].id+'" class="brandImgAnchor"><div class="backImg centerBackImg brandItmImg" style="background-image: url(\''+e[l].pic_url+"');\"></div></a>\n\t\t\t\t\t\t\t\t\t</div>";f.append(m),l++}}},l=function(e){var t=parseInt(e),n=sessionStorage.getItem("deviceId");if(void 0!==n&&null!==n&&t){var o={device:n,brandId:t};o=JSON.stringify(o),(0,a.sendPostToGo)("catalogo/getmodelos",o,"mdls")}};i=setInterval(function(){var e=sessionStorage.getItem("catalogBrands");n(e)},5),$(document).on("click","a.brandImgAnchor",function(e){e.preventDefault()}),$(document).on("click","div.brandItem",function(){var e=$(this).find("span.brandId").html(),t=$(this).find("span.brandName").html(),n=$(this).find("div.brandItmImg").css("background-image"),o=n.indexOf('"')+1,a=n.lastIndexOf('"');n=n.substring(o,a),void 0!==e&&null!==e?(l(e),sessionStorage.setItem("currentBrandAutos",e.toString()),void 0!==n&&null!==n&&sessionStorage.setItem("currentBrandImg",n),void 0!==t&&null!==t&&sessionStorage.setItem("currentBrandName",t)):sessionStorage.setItem("currentBrandAutos","nothing stored")})}()}})},{"./commonFunc/consoling.js":6,"./commonFunc/httpProcesor.js":9,"./commonFunc/locating.js":10}],4:[function(e,t,n){"use strict";function o(){function e(){o=!0,n(),clearInterval(m)}function t(e,t){var n="id"===t?{idUsr:e}:{alias:e};n=JSON.stringify(n),$.post("https://vrummapp.net/ws/v2/usuario/info",n).then(function(e){1===e.estado&&(r=e.mensaje.rs[0],i=!0)}).fail(function(e){console.log(e)})}function n(){var e=localStorage.getItem("aUPP"),t=localStorage.getItem("aUsr"),n=localStorage.getItem("aUsrA");if(o&&i){var a=null!==e&&void 0!==e?"data:image/png;base64,"+e:"../img/profileDafault.png",c=null!==n&&void 0!==n?n:r.alias;$("span.aliasNavSpan").text(c),$("div.minProfileImg").css({"background-image":"url("+a+")"})}if(void 0!==t&&null!==t){var g=$("div.loggedNavbar").find("a");g.each(function(e,t){if(!$(t).hasClass("noChangeHref")){var n=$(t).attr("href");n+="?al="+c,$(t).attr("href",n)}}),t=parseInt(t);var m=void 0!==d&&null!==d?parseInt(d):parseInt(r.id);t===m?"/web/perfil/"!==s.myLocation&&"/web/perfil/index"!==s.myLocation&&"/web/perfil/index.html"!==s.myLocation||l.addClass("noPhoto"):l.removeClass("noPhoto")}}var o=!1,i=!1,r={},l=$("nav.myNavBar"),c=sessionStorage.getItem("currentUserInfo"),d=sessionStorage.getItem("currentUserId");sessionStorage.getItem("currentUserGarage");if(null===c||void 0===c)null!==d&&void 0!==d?t(d,"id"):a.hashesExist&&a.queriesT.al.length>0&&t(a.queriesT.al,"al");else if(null!==c&&void 0!==c){var g=JSON.parse(c);r=g[0],i=!0}var m=setInterval(function(){$("div.navbarIn").length&&i&&e()},5)}Object.defineProperty(n,"__esModule",{value:!0}),n.navInfo=o;var a=e("./urlEncoder.js"),s=e("./locating.js")},{"./locating.js":10,"./urlEncoder.js":12}],5:[function(e,t,n){"use strict";function o(e){var t=[{name:["/web/","/web/index","/web/index.html"],parent:null,destiny:"home"},{name:["/web/registro/","/web/registro/index.html","/web/registro/index"],parent:null,destiny:"registro"},{name:["/web/catalogo/","/web/catalogo/index.html","/web/catalogo/index"],parent:["home","perfil"],destiny:""},{name:["/web/perfil/index.html","/web/perfil/index","/web/perfil/"],parent:"home",destiny:"home"},{name:["/web/perfil/detalles.html","/web/perfil/detalles"],parent:"perfil",destiny:"perfil"},{name:["/web/catalogo/brand-modelo.html","/web/catalogo/brand-modelo"],parent:"catalogo",destiny:"catalogo"},{name:["/web/catalogo/modelo-versiones.html","/web/catalogo/modelo-versiones"],parent:"catalogo/brand-modelo",destiny:"catalogo/brand-modelo"},{name:["/web/catalogo/specific-version.html","/web/catalogo/specific-version"],parent:"catalogo/modelo-versiones",destiny:"catalogo/modelo-versiones"}],n=!1,o=$.grep(t,function(t,o){if(!n&&(t.name.forEach(function(t,o){e===t&&(n=!0)}),n))return t}),i=o[0];$.isArray(i.parent)?a(i.parent):"home"===i.parent?(0,s.navigating)("home"):(0,s.navigating)(i.parent+u)}function a(e){$.map(e,function(t,n){"home"!==t&&"registro"!==t&&(0,s.navigating)(e[n]+u)})}Object.defineProperty(n,"__esModule",{value:!0}),n.backing=o;var s=e("./locating.js"),i=(e("./urlEncoder.js"),e("./consoling.js"),s.myLocHref.indexOf("?")),r=i!==-1?s.myLocHref.slice(i):"",l=r.length>3,c=l?r.lastIndexOf("&"):-1,d=c!==-1?r.slice(c+1,r.lastIndexOf("=")):r.slice(0,r.lastIndexOf("=")),g=["?ss","usrId","al"],m=!1;g.forEach(function(e,t){d===e&&(m=!0)});var u=c===-1||m?r:r.slice(0,c)},{"./consoling.js":6,"./locating.js":10,"./urlEncoder.js":12}],6:[function(e,t,n){"use strict";function o(e){console.log(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.con=o},{}],7:[function(e,t,n){"use strict";function o(e){"login"===e&&(i.disBlock(),a.val(""),s.val(""))}Object.defineProperty(n,"__esModule",{value:!0}),n.displayErr=o;var a=(e("./locating.js"),$("#l-email")),s=$("#l-pass"),i=$("div.errorLogin");$.fn.disNone=function(){return this.css({display:"none"}),this},$.fn.disBlock=function(){return this.css({display:"block"}),this},$.fn.an=function(){return this.animate({height:"toggle"},200),this}},{"./locating.js":10}],8:[function(e,t,n){"use strict";function o(e,t,n,o){localStorage.setItem("modelId",e.toString()),localStorage.setItem("modelName",t.toString()),localStorage.setItem("modelPrice",n.toString());var s=sessionStorage.getItem("deviceId"),i=localStorage.getItem("aUsr"),r={};void 0!==s&&null!==s&&e&&(r=void 0!==i&&null!==i?{device:s,modelId:e,user:i}:{device:s,modelId:e},r=JSON.stringify(r),"prof"===o?(0,a.sendPostToGet)("catalogo/getversiones",r,"spVrsInfo"):((0,a.sendPostToGo)("catalogo/getversiones",r,"versiones"),(0,a.sendPostToGet)("catalogo/getgaleria",r,"vrsGal")))}Object.defineProperty(n,"__esModule",{value:!0}),n.getVersions=o;var a=e("./httpProcesor.js")},{"./httpProcesor.js":9}],9:[function(e,t,n){"use strict";function o(e,t,n){console.log(t,"from sendToGo processor",n);var o=localStorage.getItem("aUsrA");if("specVer"===n){var a=e.brand_id,l=e.model_id,m=e.id;s()?(0,c.navigating)("catalogo/specific-version?al="+o+"&brdId="+a+"&mdlId="+l+"&cId="+m):(0,c.navigating)("catalogo/specific-version?brdId="+a+"&mdlId="+l+"&cId="+m)}$.post("https://vrummapp.net/ws/v2/"+e,t).then(function(e){if("perfilLog"===n)if(1===e.estado){var t=e.mensaje.rs;localStorage.setItem("activeSession","yes"),i(t,"user",!0),t.toString(),localStorage.setItem("aUsr",t),r("currentUserId",t)}else(0,g.con)("whatTheFuck"),(0,d.displayErr)("login");if("perfilr"===n&&1===e.estado){var t=e.mensaje.usr.id,a=e.mensaje.usr.alias,l=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[];l.push({al:a,id:t}),l=JSON.stringify(l),localStorage.setItem("visitedUsrs",l),localStorage.setItem("aUsrA",a);var m=null!==e.mensaje.usr.foto_perfil&&void 0!==e.mensaje.usr.foto_perfil?e.mensaje.usr.foto_perfil.toString():"";m.length>0&&localStorage.setItem("aUPP",m);var u=[];u[0]=e.mensaje.usr,u=JSON.stringify(u),t.toString(),localStorage.setItem("aUsr",t),r("currentUserId",t),r("currentUserAlias",a),r("currentUserInfo",u),localStorage.setItem("activeSession","yes"),(0,c.navigating)("perfil?al="+a)}else if("brands"===n&&1===e.estado){var f=JSON.stringify(e.mensaje.rs);sessionStorage.setItem("catalogBrands",f),s()?(0,c.navigating)("catalogo/?al="+o):(0,c.navigating)("catalogo/?")}else if("mdls"===n&&1===e.estado){var v=e.mensaje.rs,p=e.mensaje.rs[0].brand_id;v=JSON.stringify(v),sessionStorage.setItem("modelsArr",v),s()?(0,c.navigating)("catalogo/brand-modelo?al="+o+"&brdId="+p):(0,c.navigating)("catalogo/brand-modelo?brdId="+p)}else if("versiones"===n&&1===e.estado){var h=e.mensaje.rs;sessionStorage.setItem("currentBrandImg",h[0].pic_marca.toString()),localStorage.setItem("modelName",h[0].model_name.toString()),h=JSON.stringify(h),sessionStorage.setItem("versionsArr",h);var p=e.mensaje.rs[0].brand_id,I=e.mensaje.rs[0].model_id;s()?(0,c.navigating)("catalogo/modelo-versiones?al="+o+"&brdId="+p+"&mdlId="+I):(0,c.navigating)("catalogo/modelo-versiones?brdId="+p+"&mdlId="+I)}}).fail(function(e){console.log(e)})}function a(e,t,n){console.log(t,"from sendToGet processor",n);var o=t?t:"";$.post("https://vrummapp.net/ws/v2/"+e,o).then(function(e){if(1===e.estado&&"usrInfoToGo"===n){var t=[];t[0]=e.mensaje.rs[0];var o=null!==t[0].foto_perfil&&void 0!==t[0].foto_perfil?t[0].foto_perfil.toString():"";o.length>0&&localStorage.setItem("aUPP",o);var s=t[0].alias,i=t[0].id,d=sessionStorage.getItem("deviceId");if(void 0!==d&&null!==d&&i){var g={idUsr:i,device:sessionStorage.getItem("deviceId")};g=JSON.stringify(g),a("garage/listar",g,"usrGrg")}var u=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[],f=u.indexOf({al:s,id:i});f===-1&&(u.push({al:s,id:i}),u=JSON.stringify(u),localStorage.setItem("visitedUsrs",u)),t=JSON.stringify(t),localStorage.setItem("aUsrA",s),r("currentUserAlias",s),r("currentUserInfo",t),"/web/perfil/"!==c.myLocation&&"/web/perfil/index"!==c.myLocation&&"/web/perfil/index.html"!==c.myLocation&&(0,c.navigating)("perfil?al="+s)}else if(1===e.estado&&"usrInfoToGet"===n){var t=[];t[0]=e.mensaje.rs[0];var s=t[0].alias,i=t[0].id,u=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[],f=u.indexOf({al:s,id:i});f===-1&&(u.push({al:s,id:i}),u=JSON.stringify(u),localStorage.setItem("visitedUsrs",u)),r("currentUserAlias",s.toString()),r("currentUserId",i.toString()),t=JSON.stringify(t),r("currentUserInfo",t);var d=sessionStorage.getItem("deviceId");if(void 0!==d&&null!==d&&i){var g={idUsr:i,device:sessionStorage.getItem("deviceId")};g=JSON.stringify(g),a("garage/listar",g,"usrGrg")}}else if("usrGrg"===n)if(1===e.estado){var v=e.mensaje.rs;v=JSON.stringify(v),r("currentUserGarage",v)}else sessionStorage.setItem("currentUserGarage","nothing stored");else if("usrAct"===n){if(1===e.estado&&null!==sessionStorage.getItem("temptyImgForLocal")&&void 0!==sessionStorage.getItem("temptyImgForLocal")){var p=sessionStorage.getItem("temptyImgForLocal");if(localStorage.setItem("aUPP",p.toString()),null!==sessionStorage.getItem("currentUserInfo")&&void 0!==sessionStorage.getItem("currentUserInfo")){var h=sessionStorage.getItem("currentUserInfo"),I=JSON.parse(h);$.isArray(I)?I.length>0?I[0].foto_perfil=p:null:"object"===("undefined"==typeof I?"undefined":l(I))&&null!==I&&(I.foto_perfil=p),I=JSON.stringify(I),sessionStorage.setItem("currentUserInfo",I)}}}else if("usrContact"===n){if(1===e.estado&&null!==sessionStorage.getItem("temptyNewContact")&&void 0!==sessionStorage.getItem("temptyNewContact")){var S=sessionStorage.getItem("temptyNewContact");if(null!==sessionStorage.getItem("currentUserInfo")&&void 0!==sessionStorage.getItem("currentUserInfo")){var h=sessionStorage.getItem("currentUserInfo"),I=JSON.parse(h);$.isArray(I)?I.length>0?I[0].invitado_por=S:null:"object"===("undefined"==typeof I?"undefined":l(I))&&null!==I&&(I.invitado_por=S),I=JSON.stringify(I),sessionStorage.setItem("currentUserInfo",I)}}}else if("usrFullEdit"===n);else if("brands"===n&&1===e.estado){var b=e.mensaje.rs;b=JSON.stringify(b),sessionStorage.setItem("catalogBrands",b)}else if("mdls"===n&&1===e.estado){var C=e.mensaje.rs;C=JSON.stringify(C),sessionStorage.setItem("modelsArr",C)}else if("vrsInfo"===n&&1===e.estado){var y=e.mensaje.rs;sessionStorage.setItem("currentBrandImg",y[0].pic_marca.toString()),localStorage.setItem("modelName",y[0].model_name.toString()),y=JSON.stringify(y),sessionStorage.setItem("versionsArr",y)}else if("vrsGal"===n&&1===e.estado){var w=e.mensaje.rs;w=JSON.stringify(w),sessionStorage.setItem("versionsPhotos",w)}else if("spVrsInfo"===n&&1===e.estado){var y=e.mensaje.rs,x=e.mensaje.rs;if(sessionStorage.setItem("currentBrandImg",y[0].pic_marca.toString()),localStorage.setItem("modelName",y[0].model_name.toString()),m.hashesExist&&m.queriesT.cId.length>0){var N=parseInt(m.queriesT.cId),P=$.grep(x,function(e,t){var n=parseInt(e.id);if(n===N)return e}),A=P[0];A=JSON.stringify(A),sessionStorage.setItem("versionStored",A)}y=JSON.stringify(y),sessionStorage.setItem("versionsArr",y)}}).fail(function(e){console.log(e)})}function s(){var e=localStorage.getItem("activeSession");return"yes"===e}function i(e,t,n){if("user"===t){var o=sessionStorage.getItem("deviceId"),s={idUsr:e};s=JSON.stringify(s);var i={idUsr:e,device:o};i=JSON.stringify(i),a("garage/listar",i,"usrGrg"),n?a("usuario/info",s,"usrInfoToGo"):a("usuario/info",s,"usrInfoToGet")}}function r(e,t){sessionStorage.removeItem(e),sessionStorage.setItem(e,t)}Object.defineProperty(n,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.sendPostToGo=o,n.sendPostToGet=a;var c=e("./locating.js"),d=e("./displayErrs.js"),g=e("./consoling.js"),m=e("./urlEncoder.js")},{"./consoling.js":6,"./displayErrs.js":7,"./locating.js":10,"./urlEncoder.js":12}],10:[function(e,t,n){"use strict";function o(e){"home"===e?window.location=r+"/web/":window.location=r+"/web/"+e}Object.defineProperty(n,"__esModule",{value:!0}),n.navigating=o;var a=window.location.pathname,s=a.search("/web"),i=a.slice(s),r=(n.pathnameRoot=a.slice(0,s+5),n.strongRoot=a.slice(0,s)),l=n.myLocation=i;n.myLocHref=window.location.href,n.totalRoot=r+l},{}],11:[function(e,t,n){"use strict";function o(){var e=$("div.modelItem");e.length&&a(e)}function a(e){var t=$(e).find("img").first(),n=$(e).find("img"),o=t.width(),a=.6309*o;n.css({height:a})}Object.defineProperty(n,"__esModule",{value:!0}),n.sizingModelItms=o,n.alleGleichlich=a},{}],12:[function(e,t,n){"use strict";function o(){for(var e,t={},n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<n.length;o++)e=n[o].split("="),t[e[0]]=e[1];return t}function a(){var e=window.location.href,t=e.indexOf("?");return t!==-1&&(c=e.slice(t)),c}function s(e){var t=[],n="";$.map(e,function(e,n){t.push(n+"="+e)}),$.each(t,function(e,t){t=0===e?"?"+t:"&"+t,n+=t}),console.log(n)}Object.defineProperty(n,"__esModule",{value:!0}),n.setQueriesWithObj=s;var i=window.location.href,r=i.indexOf("?"),l=r!==-1?i.slice(r):"",c="";n.hashesExist=l.length>3,n.queriesT=o(),n.queryText=a()},{}],13:[function(e,t,n){"use strict";var o=e("./commonFunc/locating.js"),a=e("./commonFunc/consoling.js"),s=(e("./commonFunc/urlEncoder.js"),e("./commonFunc/httpProcesor.js"));$(function(){if("/web/perfil/configuracion"===o.myLocation||"/web/perfil/configuracion.html"===o.myLocation){var e,t,n,i,r;!function(){var o=function(e){void 0!==e&&null!==e&&(clearInterval(r),e=JSON.parse(e),l(e))},l=function(e){(0,a.con)(e),$.map(e[0],function(e,t){if("foto_perfil"===t)$("img."+t).attr("src","data:image/png;base64,"+e);else if("genero"===t){var o=u.find("input[name='"+t+"']");o.each(function(t,n){$(n).val()===e&&$(n).attr("checked",!0)})}else if("mca_okmail"===t){var a=parseInt(e);1===a&&(g("y"),C.css({"padding-right":"5px !important"}),y.remove())}else u.find("input[name='"+t+"']").val(e),"tags"===t&&u.find("textarea[name='"+t+"']").val(e),"invitado_por"===t&&"Sin invitación"===e&&(u.find("input[name='"+t+"']").removeAttr("readonly"),n=e)})},c=function(e,t){parseInt(e);sessionStorage.setItem("temptyNewContact",t.toString());var n={device:sessionStorage.getItem("deviceId"),user:localStorage.getItem("aUsr"),campo:"refered",dato:e};n=JSON.stringify(n),(0,s.sendPostToGet)("usuario/actualizadato",n,"usrContact")},d=function(){var e=$(window).outerWidth(),t=p.height(),n=p.width(),o=h.width(),a=h.height(),s=t/2-a/2,i=n/2-o/2;h.css({"margin-top":s-12,"margin-left":i-12}),g(null),e<768?(f.removeClass("NorightP halfL").addClass("noPadding"),v.removeClass("NoleftP halfR").addClass("noPadding"),m("down")):e>=768&&(f.addClass("NorightP halfL").removeClass("noPadding"),v.addClass("NoleftP halfR").removeClass("noPadding"),m(e<992?"down":"up"))},g=function(t){if("y"===t)e=!1;else if(e){var n=y.outerWidth();C.css({"padding-right":n+4})}},m=function(e){"down"===e?(S.closest("div.col-md-6").removeClass("NorightP halfL").addClass("noPadding"),b.closest("div.col-md-6").removeClass("NoleftP halfR").addClass("noPadding")):(S.closest("div.col-md-6").addClass("NorightP halfL").removeClass("noPadding"),b.closest("div.col-md-6").addClass("NoleftP halfR").removeClass("noPadding"))},u=$("form#configForm"),f=$("div.formSecondPart"),v=$("div.formFirstPart"),p=$("div.passwordChangeArea"),h=$("button.passEditBtn"),I=$("div.passwordChangeInptsCont"),S=$("input#inpPassNewConf"),b=$("input#inpPassNew"),C=$("input.mailInpEdit"),y=$("button.validateMailBtn"),w=$("input#referido");e=!0,
t=!1,n="",$(document).ready(function(){d()}),$(window).resize(function(){d()}),r=setInterval(function(){o(sessionStorage.getItem("currentUserInfo"))},5),h.click(function(){$(this).addClass("hiddenItm"),I.css({visibility:"visible"}),t=!0}),$(document).on("click","li.posibleFriend",function(e){i=$(e).find("span.friendId").text(),i=parseInt(i)}),u.submit(function(t){t.preventDefault();var o=$(this).serializeArray();(0,a.con)(o);o.forEach(function(t,o){if("invitado_por"===t.name&&e){var s=w.val();s===n?c(i,s):null}else"actual"!==t.name&&"nueva"!==t.name&&"nuevaConf"!==t.name||(0,a.con)(t.value)})})}()}})},{"./commonFunc/consoling.js":6,"./commonFunc/httpProcesor.js":9,"./commonFunc/locating.js":10,"./commonFunc/urlEncoder.js":12}],14:[function(e,t,n){"use strict";e("./commonFunc/consoling.js");$(function(){function e(){s.next("label#referido-error").css({display:"none"})}function t(){var e=s.outerWidth();i.css({height:0,border:0,width:e}),r.outerWidth(e)}function n(e){if(o(),e.length>0){e=e.replace(/ /g,"");var t=JSON.stringify({abuscar:e});$.post("https://vrummapp.net/ws/v2/usuario/buscarqtinv",t).then(function(e){a(e)}).fail(function(e){a("noOne")})}}function o(){var e='<li class="posibleFriend noFriends regInputs"><span class="psFrName"></span><span class="psFrAlias">Nadie con ese nombre </span> </li>';$("li.posibleFriend").each(function(e,t){e>0&&t.remove()}),s.val().length>0&&i.append(e);var t=i.children("li").length;i.animate({height:25*t},20)}function a(e){var t=[],n=i.children("li"),o=[];$.map(n,function(e,t){var n=$(e).find("span.friendId").html();o.push(n)}),"noOne"!==e&&(t=e.mensaje.rs,t.forEach(function(e,t){var n='<li class="posibleFriend regInputs">\n\t\t\t\t\t\t\t\t\t<span class="psFrName">'+e.full_name+'</span>\n\t\t\t\t\t\t\t\t\t<span class="friendId">'+e.id+'</span>\n\t\t\t\t\t\t\t\t\t<span class="psFrAlias">'+e.alias+"</span>\n\t\t\t\t\t\t\t\t</li>";if($("li.noFriends")&&$("li.noFriends").remove(),e.id.length>0){var a=parseInt(e.id),s=e.id.toString(),r=o.indexOf(a),l=o.indexOf(s);l===-1&&r===-1&&i.append(n)}}));var n=i.children("li").length;i.animate({height:25*n},20)}var s=$("input#referido"),i=$("ul.posibleFriendsList"),r=i.children("li"),l=$("div.errorFriendNick");$(document).ready(function(){t()}),$(window).resize(function(){t()}),s.on("keyup",function(t){var a=$(this).val();8===t.which&&(setTimeout(e,5),o()),a.length>0&&n(a)}),s.focus(function(){var t=$(this).val();t.length>0?n(t):o(),setTimeout(e,5),l.css({display:"none"});var a=i.children("li").length;i.animate({height:25*a},20)}).blur(function(){setTimeout(e,5),setTimeout(function(){i.animate({height:0},20)},190)}),$(document).on("click","li.posibleFriend",function(){var e=($(this).children("span.friendId").html(),$(this).children("span.psFrAlias").html());void 0!==e&&s.val(e)})})},{"./commonFunc/consoling.js":6}],15:[function(e,t,n){"use strict";e("./commonFunc/consoling.js");$(function(){function e(){var e=$(window).width();e<420?(m.hide(),d.removeClass("col-xs-2").addClass("col-xs-3"),g.removeClass("col-xs-2").addClass("col-xs-3")):(d.addClass("col-xs-2").removeClass("col-xs-3"),m.show(),g.addClass("col-xs-2").removeClass("col-xs-3"))}function t(){var e=s.width(),t=e/2+20;s.css({height:e}),c.height(t),n(e)}function n(e){var t=a.children(),n=0;t.each(function(e,t){1!==e&&(n+=$(t).height())}),a.height(n-6);var o=$(window).width();r.css({top:-(e/2)+"px"}),l.css({top:-(e+6)+"px"}),o>420&&o<750.5?(s.removeClass("col-xs-4").addClass("col-xs-3 NorightM halfML"),f.removeClass("NotopM"),i.removeClass("col-xs-7 NorightP").addClass("col-xs-8"),d.removeClass("col-xs-offset-4 noPadding").addClass("col-xs-offset-3 NorightP"),m.removeClass("col-xs-offset-2").addClass("col-xs-offset-3")):o<420?(s.removeClass("col-xs-3").addClass("col-xs-4"),i.addClass("col-xs-7").removeClass("col-xs-8"),d.addClass("col-xs-offset-4").removeClass("col-xs-offset-3"),m.addClass("col-xs-offset-2").removeClass("col-xs-offset-3")):o>750.5&&o<975?(s.removeClass("NorightM halfML"),f.addClass("NotopM"),i.addClass("NorightP"),d.removeClass("dblleftP NorightP").addClass("noPadding")):o>=975&&(s.removeClass("NorightM halfML"),f.addClass("NotopM"),i.addClass("NorightP"),d.removeClass("noPadding").addClass("dblleftP NorightP"))}function o(){var e=$(window).width(),t=$(window).outerWidth();console.log(e,"windowWidth"),console.log(t,"outerWidth"),e<481?u.addClass("col-xs-12").removeClass("col-xs-6"):u.removeClass("col-xs-12").addClass("col-xs-6"),e<975?(A.forEach(function(e,t){$.map(C,function(n,o){t<=1?e.removeClass(n).css({padding:"0 0 6.5px 0"}):e.removeClass(n).css({padding:"6.5px 0 0 0"})})}),y.addClass("NoleftP halfR").removeClass("NorightP"),w.css({height:"100%"}).addClass("NorightP halfL"),e<880?S.css({width:"387",left:"-6%"}):S.css({width:"459",left:"0"})):e>=975&&(A.forEach(function(e,t){$.map(C,function(t,n){e.addClass(t).css({"padding-top":0,"padding-bottom":0})})}),y.removeClass("NoleftP halfR butVertHalf").css({"padding-top":"7.5px","padding-bottom":"7.5px"}).addClass("NorightP halfL"),w.css({height:"auto"}).removeClass("NorightP halfL"),S.closest("div").css({"text-align":"center"}),S.css({width:"459",left:"0"}),e>1070&&e<1278?(S.css({width:"535"}),b.removeClass("col-lg-5 col-lg-offset-1")):e>1278&&(b.addClass("col-lg-5 col-lg-offset-1").removeClass("col-lg-offset-2 col-lg-4"),e<1472&&b.addClass("col-lg-offset-1 col-lg-5")))}var a=$("header.p-header"),s=$("div.p-profilePhoto"),i=$("div.p-profileInfo"),r=$("div.p-profileInfoCont"),l=$("div.p-profActDetCont"),c=$("div.garagaInfoDetails"),d=$("div.garageCarsCounter"),g=$("div.garageShareCounter"),m=$("div.membershipDateCounter"),u=$("div.garageImgCont"),f=$("h4.profileName"),v=$("#inputPassword").closest("div.col-md-6"),p=$("#inputPassword2").closest("div.col-md-6"),h=$("#inputPaterno").closest("div.col-md-6"),I=$("#inputMaterno").closest("div.col-md-6"),S=$("img.sideImage"),b=$("div.sideImageCont"),C=["NorightP","NoleftP"],y=$("#r-fileInputGrp"),w=$("#r-textACont"),x=($("#registrationTitle"),$("div.errorLogin")),N=$("input#l-pass"),P=$("input#l-email");$("#simInputsCont");P.focus(function(){"block"===x.css("display")&&x.css({display:"none"})}),N.focus(function(){"block"===x.css("display")&&x.css({display:"none"})});var A=[v,h,p,I];$(document).ready(function(){n(s.width()),t(),e(),o()}),$(window).resize(function(){n(s.width()),t(),e();var a=$(window).width();console.log(a),o()})})},{"./commonFunc/consoling.js":6}],16:[function(e,t,n){"use strict";var o=e("./commonFunc/backPage.js"),a=e("./commonFunc/locating.js"),s=e("./commonFunc/activeSessionNav.js"),i=e("./commonFunc/httpProcesor.js"),r=e("./commonFunc/consoling.js");$(function(){function e(e,t){var n=localStorage.getItem("activeSession");"never"!==e&&("yes"===n?(_.load("../templates/navbarIn.html"),(0,s.navInfo)()):_.load("../templates/navbarOut.html")),null===t?"yes"===n?F.load("../templates/footerIn.html"):F.load("../templates/footerOut.html"):"/web/"!==a.myLocation&&"/web/index"!==a.myLocation&&"/web/index.html"!==a.myLocation?F.load("../templates/footerIn.html"):F.load("./templates/footerIndex.html")}function t(){var e="",t=sessionStorage.getItem("deviceId");sessionStorage.removeItem("nickGood"),sessionStorage.removeItem("mailGood"),null!==t&&void 0!==t?(e=t,(0,r.con)("el device id fue el mismo")):((0,r.con)("el device id no fue el mismo"),d(),(0,r.con)(e))}function n(e){var t={},n=g(),o=e,a=["device","type","serie","os"],s={device:n},i={type:"web"},r={serie:n},c=[];void 0===o?o={os:"noAccesible"}:(o={os:o},c=[s,i,r,o]),0!==c.length&&(a.forEach(function(e,n){t[e]=c[n][e]}),t=JSON.stringify(t),$.post("https://vrummapp.net/ws/v2/acceso/getdevice",t).then(function(e){if(1===e.estado){var t=e.mensaje.rs[0].id;l(t)}}).fail(function(e){console.log(e)}))}function l(e){return 0===x?(w=e.toString(),x++,void sessionStorage.setItem("deviceId",w)):w}function c(e){N=e.value,n(N)}function d(){(new Fingerprint2).get(function(e,t){g(e),c(t[0])})}function g(e){return 0===P?(C=e,void P++):C}function m(e){return 0===y?(b=e,void y++):b}function u(){var e=sessionStorage.getItem("location");void 0!==e&&null!==e?m(e):navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,n=e.coords.longitude;I=t+", "+n,m(I),sessionStorage.setItem("location",I)})}function f(e){var t=U.children("li");return $.map(t,function(n,o){var a=$(t[o]).find("span.psFrAlias").html(),s=$(t[o]).find("span.friendId").html();if(a===e)return void 0!==s&&null!==s&&s.length>0&&(s=s.toString(),sessionStorage.setItem("id",s)),!0})}function v(e){return null!==e?void(S=e):S}function p(e){var t={},n=l(),o=n,a={device:o},s=m(),r=v(null);if(s=void 0===s?{geoloc:"noAccesible"}:{geoloc:s},r=void 0===r||null===r?{foto:""}:{foto:r},void 0!==e&&e.length>0){e.unshift(a,s,r),$.each(e,function(n,o){if(n<=2)for(var a in o)t[a]=e[n][a];else"refered_by"===o.name?t[o.name]=sessionStorage.getItem("id"):"tags"===o.name?t[o.name]=o.value+", "+t.alias+", "+t.email+", "+t.nombre:t[o.name]=o.value});var c=JSON.stringify(t),d=sessionStorage.getItem("mailGood"),g=sessionStorage.getItem("nickGood");if("yes"===d&&"yes"===g)(0,i.sendPostToGo)("usuario/registro",c,"perfilr");else{var u="<p id='nicknameText' class='badText'>Te falto algún dato o escribiste algo mal</p>";T.before(u)}}}d();var h=!1;h&&t();var I,S,b,C=0,y=0,w=0,x=0,N="",P=0,A=($("#alias"),$("button#goToLogin")),j=$("input#referido"),U=$("ul.posibleFriendsList"),k=$("div.errorFriendNick"),T=$("button.registrarbtn"),O=$("div#r-inpFileImgCont"),_=$("nav.myNavBar"),F=$("div.mainFooter");A.click(function(){(0,a.navigating)("home")}),$(document).ready(function(){$(this).scrollTop(0),u(),"/web/"!==a.myLocation&&"/web/registro/"!==a.myLocation&&"/web/index"!==a.myLocation&&"/web/registro/index"!==a.myLocation&&"/web/index.html"!==a.myLocation&&"/web/registro/index.html"!==a.myLocation?e(null,null):e("never","never")}),$(window).resize(function(){}),$(document).on("click","span.navbarBackBtn",function(){(0,r.con)("here"),(0,o.backing)(a.myLocation)});var J=$("form#registro");$("input.genderM"),$("input.genderF");J.on("submit",function(e){e.preventDefault();var t=$(this).serializeArray(),n=j.val();if(n.length>0&&"Sin invitación"!==n){var o=f(n);o.length>0&&o[0]===!0?p(t):k.toggle()}else"Sin invitación"===n&&p(t)}),$(document).on("click","div.ok",function(){setTimeout(function(){if(O.find("img").length){var e=O.find("img").attr("src").replace(/^data:image\/(png|jpg);base64,/,"");v(e)}},200)});$(document).on("click","a.closeSession",function(){localStorage.clear();var e=["cUsrA","currentUserId","currentUserInfo"];$.map(e,function(e,t){console.log(e),sessionStorage.removeItem(e)})})})},{"./commonFunc/activeSessionNav.js":4,"./commonFunc/backPage.js":5,"./commonFunc/consoling.js":6,"./commonFunc/httpProcesor.js":9,"./commonFunc/locating.js":10}],17:[function(e,t,n){"use strict";var o=e("./commonFunc/locating.js"),a=(e("./commonFunc/consoling.js"),e("./commonFunc/httpProcesor.js"));$(function(){function e(){r(),v.disNone(),p.an().remove(),f.an().remove(),S.disNone(),C.disNone(),y.disBlock(),b.disBlock(),N.disBlock(),w.css({display:"flex"}),x.addClass("NorightM halfML"),I=!0}function t(){I=!1,w.disBlock(),h.after(p),v.after(f),b.disNone(),S.disBlock(),y.disNone(),C.disBlock(),p.an(),f.an().click(e),N.disNone(),x.removeClass("NorightM halfML")}function n(e){var t=JSON.stringify(e);(0,a.sendPostToGo)("usuario/login",t,"perfilLog")}function s(e,t){$.post("https://vrummapp.net/ws/v2/usuario/getpasswd",e).then(function(e){2===e.estado&&(null===t?l():P.hide())}).fail(function(e){i(),console.log(e)})}function i(){v.disBlock(),d.val(""),g.val("")}function r(){var e=x.prev("p#nicknameText");e.remove(),p.disBlock()}function l(){P.css({display:"flex"});var e=sessionStorage.getItem("deviceId");e=e.toString();var t=d.val(),n=sessionStorage.getItem("location"),o={device:e,mail:t,geoloc:n};j.click(function(){o=JSON.stringify(o),s(o,"etw")})}var c=$("#login"),d=$("#l-email"),g=$("#l-pass"),m=$("button#goToReg"),u=$("button#goToCatBrand"),f=$("div.passRecover"),v=$("div.errorLogin"),p=$("div#l-passCont"),h=$("div#r-emailInputGrp"),I=!1,S=$("span#normalText"),b=$("span#recoverPassTxt"),C=$("span#subBtnNrTxt"),y=$("span#subBtnRecTxt"),w=$("div.loginBtnCont"),x=$("button.registrarbtn"),N=$("button.cancelarBtn"),P=$("div.passModalCont"),A=$("span.closeModal"),j=$("div.resendPart");$("span.mailRecover");d.focus(r),g.focus(r),f.click(e),N.click(t),m.click(function(){(0,a.sendPostToGet)("catalogo/getmarcas",null,"brands"),(0,o.navigating)("registro")}),A.click(function(){P.hide()}),u.click(function(){(0,a.sendPostToGo)("catalogo/getmarcas",null,"brands")}),c.submit(function(e){e.preventDefault();var o=sessionStorage.getItem("deviceId");if(o=o.toString(),I){t();var a=d.val(),i=sessionStorage.getItem("location"),r={device:o,mail:a,geoloc:i};r=JSON.stringify(r),s(r,null)}else{var l=$(this).serializeArray(),c={device:o};$.map(l,function(e,t){c[e.name]=e.value}),n(c)}}),$.fn.disNone=function(){return this.css({display:"none"}),this},$.fn.disBlock=function(){return this.css({display:"block"}),this},$.fn.an=function(){return this.animate({height:"toggle"},200),this}})},{"./commonFunc/consoling.js":6,"./commonFunc/httpProcesor.js":9,"./commonFunc/locating.js":10}],18:[function(e,t,n){"use strict";e("./commonFunc/consoling.js");$(function(){var e=$("input#inputEmail"),t=($("#l-email"),$("input#inputPassword")),n=$("div.passRecover"),o=$("button.registrarbtn.loginBtn"),a=$("input#inputPassword2");$.fn.validatePass=function(){function e(e){var n=t.val();if(n.length>0&&n!==e){var o="<p id='passConfText' class='badText'>Las contraseñas no coinciden</p>";a.after(o)}}return $(this).keyup(function(){var e=$("p#passConfText");e.remove()}),$(this).focus(function(){var e=$("p#passConfText");e.remove()}).blur(function(){var t=$(this).val();e(t)}),this},a.validatePass(),$.fn.validateMail=function(e,t){function a(e){if(e.length>0){var t=sessionStorage.getItem("deviceId");t=t.toString();var n=JSON.stringify({email:e,device:t});$.post("https://vrummapp.net/ws/v2/usuario/validacorreo",n).then(function(e){2===e.estado?s(e):1===e.estado&&i(e)}).fail(function(e){s("noOne")})}}function s(n){var o=e.val();if("noOne"!==n&&"l"===t){var a="<p id='mailValText' class='goodText'>"+o+" es un buen mail</p>";sessionStorage.setItem("mailGood","yes"),r(),e.after(a)}else if("noOne"===n){$("p#mailValText");r(),sessionStorage.setItem("mailGood","no")}else if("noOne"!==n&&"r"===t){sessionStorage.setItem("mailGood","no");var s="<p id='mailValText' class='badText'>"+o+" es un mail que ya existe</p>";r(),e.after(s)}}function i(n){var o=e.val();if("r"===t){var a="<p id='mailValText' class='goodText'>"+o+" es un buen mail</p>";sessionStorage.setItem("mailGood","yes"),r(),e.after(a)}else if("l"===t){var s="<p id='mailValText' class='badText'>"+o+" es un mail que no existe aún</p>";sessionStorage.setItem("mailGood","no"),r(),e.after(s)}}function r(){var e=$("p#mailValText");e.remove()}return $(document).ready(function(){setTimeout(function(){var t=$(e).val();void 0!==t&&t.length>0&&a(t)},300)}),n.click(function(){var t=$(e).val();void 0!==t&&t.length>0&&a(t)}),o.click(function(){var t=$(e).val();void 0!==t&&t.length>0&&a(t)}),$(this).keyup(function(){var e=$("p#mailValText");e.remove()}),$(this).focus(function(){var e=$("p#mailValText");e.remove();var t=$(this).val();t.length>0&&a(t)}).blur(function(){var e=$(this).val();a(e)}),this},e.validateMail(e,"r")})},{"./commonFunc/consoling.js":6}],19:[function(e,t,n){"use strict";e("./commonFunc/consoling.js");$(function(){var e=$("input#alias");$.fn.nicknameValidation=function(e){function t(e){if(e.length>0){var t=JSON.stringify({nickname:e});$.post("https://vrummapp.net/ws/v2/usuario/validanickname",t).then(function(e){2===e.estado?o(e):1===e.estado&&n(e)}).fail(function(e){n("noOne")})}}function n(t){var n=e.val();if("noOne"!==t){var o="<p id='nicknameText' class='goodText'>"+n+" es un nickname bueno</p>";sessionStorage.setItem("nickGood","yes"),e.after(o)}else{var a="<p id='nicknameText' class='badText'>"+n+" es un nickname que ya existe</p>";e.after(a),sessionStorage.setItem("nickGood","no")}}function o(){var t=e.val(),n="<p id='nicknameText' class='badText'>"+t+" es un nickname que ya existe</p>";sessionStorage.setItem("nickGood","no"),e.after(n)}$(this).keyup(function(){var e=$("p#nicknameText");e.remove()}),$(this).focus(function(){var e=$("p#nicknameText");e.remove()}).blur(function(){var e=$(this).val();t(e)})},e.nicknameValidation(e)})},{"./commonFunc/consoling.js":6}],20:[function(e,t,n){"use strict";$(function(){function e(){s=!0}function t(){s=!1}var n=!0,o=$("div.passModalCont"),a=$("div.recoverPassModal"),s=!1;a.mouseleave(function(){t(),setTimeout(function(){n=!0},3)}),a.mousemove(function(){e()}),a.mouseenter(function(){e()}),o.mouseleave(function(){e(),n=!0}),o.mouseenter(function(){n&&(t(),n=!1)}),o.click(function(){setTimeout(function(){s||o.hide()},210)})})},{}],21:[function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("./commonFunc/locating.js"),s=e("./commonFunc/consoling.js"),i=e("./commonFunc/sizingGarageImgs.js"),r=e("./commonFunc/urlEncoder.js"),l=e("./commonFunc/httpProcesor.js"),c=e("./commonFunc/getversiones.js");$(function(){if("/web/perfil/"===a.myLocation||"/web/perfil/index"===a.myLocation||"/web/perfil/index.html"===a.myLocation){var e,t,n,d,g,m,u,f,v,p,h,I,S,b,C,y,w,x,N,P,A,j,U,k,T,O,_,F,J,G;!function(){var E=function(){var e=.6309*v.width();v.css({height:e})},B=function(e){var t=$(e).find("div.userCarCatCont"),n=t.find("div.selectionContainer"),o=n.find("div.notSelectedCat"),a=o.prev("div.selectedCat"),s=a.children("div");s.appendTo(o),O.appendTo(a);var i="yes";M(e),R(O,e,i)},M=function(e){var t=$(e).find("span.msgErrAddCat");t.removeClass("hiddenItm"),setTimeout(function(){t.addClass("hiddenItm")},3e3)},L=function(e,t,n,o){"none"===o.css("display")?(o.css({display:"flex"}),e.width(108),t.width(108),n.addClass("grayColor")):(o.css({display:"none"}),e.width("100%"),t.width(36),n.removeClass("grayColor"))},R=function(e,t,n){var o=["dream","someday","soonday"],a="",s=$(t).find("span.garageUsrCarId").text();o.forEach(function(o,i){e.hasClass(o)&&(a=o,"yes"!==n&&V(a,s,t)),t.hasClass(o)&&t.removeClass(o)}),t.addClass(a,s)},V=function(e,t,n){var o=sessionStorage.getItem("currentUserId"),a=sessionStorage.getItem("deviceId"),s={user:o,device:a,tipo:e,garage:t};s=JSON.stringify(s),$.post("https://vrummapp.net/ws/v2/garage/cambiartipo",s).then(function(e){1!==e.estado&&B(n)}).fail(function(e){B(n),console.log(e)})},q=function(e){if(null!==e&&void 0!==e&&"nothing stored"!==e)if(clearInterval(T),d=JSON.parse(e),r.hashesExist)if(r.queriesT.al.length>0&&null!==sessionStorage.getItem("currentUserAlias")){var t=sessionStorage.getItem("currentUserAlias");if(t==r.queriesT.al)K();else if(null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")){var n=JSON.parse(localStorage.getItem("visitedUsrs"));n.forEach(function(e,t){alias==e.al?H(e.id):null})}else D(r.queriesT.al)}else K();else K();else if(null===e||"nothing stored"===e||void 0===e)if(r.hashesExist){if(r.queriesT.al.length>0&&null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")){var n=JSON.parse(localStorage.getItem("visitedUsrs"));n.forEach(function(e,t){r.queriesT.al==e.al?(H(e.id),clearInterval(T)):null})}}else S>=100&&null!==sessionStorage.getItem("currentUserId")&&void 0!==sessionStorage.getItem("currentUserId")&&(clearInterval(T),H(sessionStorage.getItem("currentUserId")))},z=function(e){null!==e&&void 0!==e&&"nothing stored"!==e&&(clearInterval(k),e=JSON.parse(e),$.isArray(e)?e.length>0&&(r.hashesExist?e[0].alias==r.queriesT.al?(W(e[0]),A=parseInt(e[0].id)):D(r.queriesT.al):(W(e[0]),A=parseInt(e[0].id))):"object"===("undefined"==typeof e?"undefined":o(e))&&null!==e?r.hashesExist?e.alias==r.queriesT.al?(W(e),A=parseInt(e.id)):D(r.queriesT.al):(W(e),A=parseInt(e.id)):(0,s.con)("no user"))},D=function(e){var t={alias:e};if(t=JSON.stringify(t),null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")){var n=JSON.parse(localStorage.getItem("visitedUsrs"));n.forEach(function(t,n){e==t.al?H(t.id):null})}$.post("https://vrummapp.net/ws/v2/usuario/info",t).then(function(e){if(1===e.estado){var t=e.mensaje.rs;W(t[0]),A=parseInt(t[0].id);var n=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[],o=n.indexOf({al:t[0].alias,id:t[0].id});o===-1&&(n.push({al:t[0].alias,id:t[0].id}),n=JSON.stringify(n),localStorage.setItem("visitedUsrs",n)),U?null:H(A),t=JSON.stringify(t),sessionStorage.setItem("currentUserInfo",t)}}).fail(function(e){console.log(e)})},H=function(e){var t=sessionStorage.getItem("deviceId"),n={idUsr:e,device:t};n=JSON.stringify(n),$.post("https://vrummapp.net/ws/v2/garage/listar",n).then(function(e){1===e.estado?(d=e.mensaje.rs,U=!0,K()):2===e.estado&&((0,s.con)("sin autos en garage"),Y(),f.addClass("hiddenItm"),u.removeClass("hiddenItm"))}).fail(function(e){console.log(e)})},W=function(e){$.map(e,function(e,t){if("created_at"===t){e.trim();var n=e.indexOf(" ");e=e.slice(0,n)}else if("full_name"===t){e.trim();var n=e.indexOf(" ");e=e.slice(0,n)}else"foto_perfil"===t&&null!==e&&(_=!0,e="data:image/png;base64,"+e);$.each(P,function(n,o){if(t===o){var a=N[n];"foto_perfil"===o&&_?$(a).css({"background-image":"url("+e+")"}):"foto_perfil"!==o||_?$(a).html(e):$(a).css({"background-image":"url(../img/profileDafault.png)"})}})})},K=function(){var e=['<div class="calendarGroup someday">\n\t                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">\n\t                      <path d="M16.2 2.2v0.6 0.6 0 0.4c0 0.9-0.8 1.7-1.7 1.7s-1.7-0.7-1.7-1.7V3.4 2.8 2.2H8.1v0.6 0.6 0.4c0 0.9-0.8 1.7-1.7 1.7 -0.9 0-1.7-0.7-1.7-1.7V3.4v0V2.8v0V2.2C3.2 2.3 2 3.4 2 4.8v0.3 2.5 8.6C2 17.7 3.3 19 4.9 19h11.2c1.6 0 2.9-1.3 2.9-2.9V7.5 5.1 4.8C19 3.4 17.7 2.2 16.2 2.2zM17.7 16.1c0 0.9-0.7 1.6-1.6 1.6H4.9c-0.9 0-1.6-0.7-1.6-1.6V7.5h14.5V16.1zM6.4 4.5c0.4 0 0.7-0.3 0.7-0.7V3.4 2.8 2.2 1.7C7.2 1.3 6.8 1 6.4 1 6 1 5.7 1.3 5.7 1.7v0.5 0.6 0.6 0.4C5.7 4.2 6 4.5 6.4 4.5zM14.5 4.5c0.4 0 0.7-0.3 0.7-0.7V3.4 2.8 2.2 1.7c0-0.4-0.3-0.7-0.7-0.7 -0.4 0-0.7 0.3-0.7 0.7v0.5 0.6 0.6 0.4C13.8 4.2 14.1 4.5 14.5 4.5zM8.4 16.1c0.8 0 1.4-0.2 1.9-0.7 0.4-0.5 0.6-1 0.6-1.6 0-0.6-0.2-1-0.5-1.3 -0.1-0.1-0.2-0.2-0.3-0.2 -0.1-0.1-0.2-0.2 0-0.3 0.1-0.1 0.2-0.1 0.2-0.2 0.2-0.3 0.4-0.6 0.4-1.1 0-0.6-0.2-1.1-0.6-1.4C9.6 9 9.1 8.8 8.4 8.8 8 8.8 7.7 8.9 7.4 9S7 9.2 6.8 9.3c-0.2 0.2-0.4 0.5-0.5 0.8 -0.1 0.2-0.1 0.5-0.2 0.7 0 0.2 0.1 0.3 0.3 0.3h0.7c0.2 0 0.3-0.1 0.3-0.3 0-0.2 0.1-0.4 0.2-0.5C7.8 10.1 8 10 8.3 10 8.6 10 8.8 10 9 10.2c0.2 0.2 0.2 0.4 0.2 0.7 0 0.4-0.2 0.7-0.5 0.8 -0.1 0.1-0.3 0.1-0.6 0.1 -0.2 0-0.3 0.2-0.3 0.3v0.4c0 0.2 0.1 0.3 0.3 0.3 0.3 0 0.5 0.1 0.7 0.1 0.4 0.2 0.6 0.5 0.6 0.9 0 0.4-0.1 0.6-0.3 0.8C8.9 14.9 8.7 15 8.4 15c-0.4 0-0.8-0.2-0.9-0.5 -0.1-0.1-0.1-0.2-0.1-0.4 0-0.2-0.2-0.3-0.3-0.3H6.3c-0.2 0-0.3 0.1-0.3 0.3 0 0.4 0.2 0.8 0.3 1.1C6.7 15.8 7.4 16.1 8.4 16.1zM12.3 11.1h1.1c0.2 0 0.3 0.1 0.3 0.3v4.3c0 0.2 0.1 0.3 0.3 0.3h0.8c0.2 0 0.3-0.1 0.3-0.3V9.2c0-0.2-0.1-0.3-0.3-0.3h-0.5c-0.2 0-0.3 0.1-0.3 0.1 0 0 0 0.1 0 0.1 -0.1 0.2-0.2 0.4-0.3 0.5 -0.2 0.2-0.4 0.3-0.7 0.4 -0.1 0-0.3 0.1-0.6 0.1 -0.2 0-0.3 0.2-0.3 0.3v0.3C12 10.9 12.1 11.1 12.3 11.1z" />\n\t                </svg>\n\t            </div>','<div class="heartGroup dream">\n                    <span class="userCarCat fa fa-heart"></span>\n                </div>','<div class="soonGroup soonday">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">\n                            <path d="M10.4 2c-3.7 0-6.8 2.3-8 5.5l2.2 1c0.8-2.4 3.1-4.1 5.8-4.1 3.4 0 6.1 2.7 6.1 6.1s-2.7 6.1-6.1 6.1c-2.4 0-4.5-1.4-5.5-3.4l1.8-0.7L2.2 9.7l-1.2 5 1.6-0.7C4 17 7 19 10.4 19c4.7 0 8.6-3.8 8.6-8.5S15.2 2 10.4 2z"/>\n                            <rect x="9" y="6" width="2" height="5"/>\n                            <rect x="11" y="10" transform="matrix(0.6002 -0.7999 0.7999 0.6002 -5.2003 14.5968)" width="2" height="5"/>\n                    </svg>\n                </div>'],n="",o=["someday","dream","soonday"];j||(Y(),d.forEach(function(s,i){var r="";$.map(o,function(t,o){t===s.tipo?n=e[o]:r+=e[o]});var l=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?a.pathnameRoot+"catalogo/specific-version?al="+localStorage.getItem("aUsrA")+"&brdId="+s.brand_id+"&mdlId="+s.model_id+"&cId="+s.version_id:a.pathnameRoot+"catalogo/specific-version?brdId="+s.brand_id+"&mdlId="+s.model_id+"&cId="+s.version_id,c=null!==s.esta_comparador&&"false"!==s.esta_comparador?'<span class="fa fa-check-circle circle"></span><span class="message">En comparador</span>':'<span class="fa fa-plus-circle circle"></span><span class="message">Agrega al comparador</span>',d=null!==s.esta_comparador&&"false"!==s.esta_comparador?"defaultPointer":"",g='<div class="col-xs-12 modelItem defaultPointer noPadding col-sm-6 col-md-4 garageImgCont '+s.tipo+'">\n\t\t                            <div class="sideInfoBar">\n\t\t                            \t<span class="msgErrAddCat hiddenItm">No se pudo cambiar la categoría\n\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\tIntente más tarde\n\t\t                            \t</span>\n\t\t                                <div class="userCarCatCont">\n\t\t                                    <div class="selectionContainer">\n\t\t                                        <div class="selectedCat">\n\t\t                                            '+n+'\n\t\t                                        </div>\n\t\t                                        <div class="notSelectedCat">\n\t\t                                            '+r+'\n\t\t                                        </div>\n\t\t                                    </div>\n\t\t                                </div>\n\t\t                                <div class="toggleableIcons">\n\t\t                                    <div class="compareGroup '+d+'">\n\t\t                                        <span class="fa fa-long-arrow-right right"></span>\n\t\t                                        <span class="fa fa-long-arrow-left left"></span>\n\t\t                                        '+c+'\n\t\t                                    </div>\n\t\t                                    <div class="shareGroup">\n\t\t                                        <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">\n\t\t                                          <g>\n\t\t                                                <path d="M17.8 6.2h-2.2c-0.4 0-0.8 0.4-0.8 0.8s0.4 0.8 0.8 0.8h1.4v10.7H4.2v-10.7h1.7c0.4 0 0.8-0.4 0.8-0.8s-0.4-0.8-0.9-0.8h-2.4c-0.5 0-0.8 0.4-0.8 0.8v12.3c0 0.4 0.3 0.7 0.8 0.7h14.5c0.4 0 0.8-0.3 0.8-0.7v-12.3C18.6 6.6 18.3 6.2 17.8 6.2zM9.4 3.9l0.3-0.1v10.2c0 0.4 0.4 0.8 0.8 0.8s0.8-0.4 0.8-0.8v-10.6l0.8 0.5c0.1 0.1 0.3 0.2 0.5 0.2 0.2 0 0.4-0.1 0.6-0.3 0.3-0.3 0.3-0.8-0.1-1.1l-2-1.5c-0.3-0.2-0.7-0.3-1 0 -0.1 0.1-1.8 1.5-1.8 1.5 -0.3 0.3-0.3 0.8 0 1.1C8.6 4.2 9.1 4.2 9.4 3.9z" />\n\t\t                                          </g>\n\t\t                                        </svg>\n\t\t                                        <!-- <span class="fa fa-long-arrow-up arUp"></span>\n\t\t                                        <span class="fa fa-square-o sqEmp"></span> -->\n\t\t                                        <span class="message">Compartir</span>\n\t\t                                    </div>\n\t\t                                    <div class="toggleTrashGrp">\n\t\t                                        <span class="fa fa-trash trash"></span>\n\t\t                                        <span class="message">Eliminar</span>\n\t\t                                    </div>\n\t\t                                </div>\n\t\t                                <span class="fa fa-ellipsis-h dots"></span>\n\t\t                            </div>\n\t\t                            <a href="'+l+'" class="garageItmAnchor">\n\t\t\t                            <img  src="'+s.pic_url+'" class="noMargin garageImg img-responsive" border="0"/>\n\t\t\t                            <span class="hiddenItm garageVersionId">'+s.version_id+'</span>\n\t\t\t                            <span class="hiddenItm garageModelId">'+s.model_id+'</span>\n\t\t\t                            <span class="hiddenItm garageModelName">'+s.model_name+'</span>\n\t\t\t                            <span class="hiddenItm garageModelPrice">'+s.starting_price+'</span>\n\t\t\t                            <span class="hiddenItm garageUsrCarId">'+s.garage_id+'</span>\n\t\t\t                            <span class="hiddenItm garageUsrBrandId">'+s.brand_id+"</span>\n\t\t                            </a>\n\t\t                        </div>";f.length&&f.remove(),t.prepend(g)})),(0,i.sizingModelItms)(),j=!0},Q=function(e){var t={device:sessionStorage.getItem("deviceId"),user:A,campo:"foto_perfil",dato:e};t=JSON.stringify(t),(0,l.sendPostToGet)("usuario/actualizadato",t,"usrAct")},Y=function(){var e=(localStorage.getItem("aUPP"),localStorage.getItem("aUsr")),n=(localStorage.getItem("aUsrA"),sessionStorage.getItem("currentUserInfo")),s=sessionStorage.getItem("currentUserId"),i=null!==n&&void 0!==n&&"nothing stored"!==n,r={};if(i&&($.isArray(n)?r=n[0]:"object"===("undefined"==typeof n?"undefined":o(n))&&null!==n&&(r=n)),void 0!==e&&null!==e){e=parseInt(e);var l=void 0!==s&&null!==s?parseInt(s):parseInt(r.id);if(e===l){if(w.removeClass("hiddenItm"),x.removeClass("hiddenItm"),h.removeClass("hiddenItm"),y.addClass("p-profilePhoto").removeClass("p-profPict"),G.hasClass("hiddenItm")?null:G.addClass("hiddenItm"),J.hasClass("hiddenItm")?J.removeClass("hiddenItm"):null,t.hasClass("noToggleArea")?t.removeClass("noToggleArea"):null,$("nav.myNavBar").length){var c=$("nav.myNavBar");"/web/perfil/"===a.myLocation||"/web/perfil/index"===a.myLocation||"/web/perfil/index.html"===a.myLocation?c.addClass("noPhoto"):null}}else if(w.addClass("hiddenItm"),x.addClass("hiddenItm"),h.addClass("hiddenItm"),y.removeClass("p-profilePhoto").addClass("p-profPict"),G.hasClass("hiddenItm")?null:G.addClass("hiddenItm"),J.hasClass("hiddenItm")?J.removeClass("hiddenItm"):null,t.hasClass("noToggleArea")?null:t.addClass("noToggleArea"),$("nav.myNavBar").length&&i){var c=$("nav.myNavBar");c.removeClass("noPhoto")}}else"yes"!==localStorage.getItem("activeSession")&&(w.addClass("hiddenItm"),x.addClass("hiddenItm"),h.addClass("hiddenItm"),y.removeClass("p-profilePhoto").addClass("p-profPict"),J.hasClass("hiddenItm")?null:J.addClass("hiddenItm"),G.hasClass("hiddenItm")?G.removeClass("hiddenItm"):null,t.hasClass("noToggleArea")?null:t.addClass("noToggleArea"))};e=$("select#filterSelect"),t=$("div.garageGrid"),n=[],d=[],g=$("span.aliasSpan"),m=$("h4.fullName"),u=$("p.usrGarageInitialTxt"),f=$("div.sk-circle"),v=$("div.addGarageBtnCon"),p=$("span.selectCaret"),h=$("a.editProfileAnchor"),I=$("span.editProfileSpan"),S=0,b=$("span.carsNumb"),C=$("span.memDateNumb"),y=$("div#profilePict"),w=$("span.profImgCameraIcon"),x=$("span.cameraIconHead"),N=[g,C,m,b,y],P=["alias","created_at","full_name","total_garage","foto_perfil"],j=!1,U=!1,k=setInterval(function(){var e=sessionStorage.getItem("currentUserInfo");z(e)},5),T=setInterval(function(){var e=sessionStorage.getItem("currentUserGarage");q(e),S++},5),$(document).ready(function(){E();var e=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?a.pathnameRoot+"perfil/configuracion?al="+localStorage.getItem("aUsrA"):a.pathnameRoot+"perfil/configuracion";h.attr("href",e)}),$(window).resize(function(){E();var e=$("div.modelItem");e.length&&(0,i.alleGleichlich)(e)}),h.click(function(e){}),I.click(function(){
alert("editar perfil")}),$(document).on("click","span.dots",function(){var e=$(this).closest("div.sideInfoBar"),t=e.find("div.toggleableIcons");t.css({display:"flex"}),e.height("100%"),$(this).hide()}),$(document).on("click","div.toggleableIcons div",function(){var e=$(this).closest("div.sideInfoBar"),t=$(this).closest("div.toggleableIcons"),n=e.find("span.dots");t.css({display:"none"}),e.height("auto"),n.show()}),$(document).on("click","div.selectedCat",function(){var e=$(this).closest("div.userCarCatCont"),t=$(this).closest("div.selectionContainer"),o=$(this).find("div"),a=t.find("div.notSelectedCat");if("yes"===localStorage.getItem("activeSession")){var s=localStorage.getItem("aUsr"),i=sessionStorage.getItem("currentUserId");if(null!==s&&void 0!==s){s=parseInt(s);var r=void 0!==i&&null!==i?parseInt(i):parseInt(n.id);s===r?L(e,t,o,a):null}}}),O="",$(document).on("click","div.notSelectedCat div",function(){var e=$(this).closest("div.userCarCatCont"),t=e.find("div.selectionContainer"),n=$(this).closest("div.notSelectedCat"),o=n.prev("div.selectedCat");O=o.children("div");var a=$(this),s=e.closest("div.garageImgCont");R(a,s,null),O.appendTo(n),o.append($(this)),L(e,t,O,n)}),_=!1,$(document).on("click","div.modelItem",function(e){var t=$(e).find("a.garageItmAnchor"),n=t.children("span.garageModelId").text(),o=t.children("span.garageModelName").text(),a=t.children("span.garageModelPrice").text();(0,c.getVersions)(n,o,a,"prof")}),$(document).on("click","div.compareGroup",function(e){var t=$(this),n=t.closest("div.garageImgCont"),o=n.find("span.garageVersionId").text();console.log(t,n,o),o=parseInt(o);var a=parseInt(localStorage.getItem("aUsr")),i=sessionStorage.getItem("deviceId"),r=null!==localStorage.getItem("addedInComAutosArr")&&void 0!==localStorage.getItem("addedInComAutosArr")?JSON.parse(localStorage.getItem("addedInComAutosArr")):[],l=JSON.stringify({device:i,idUsr:a,version:o});(0,s.con)(l),$.post("https://vrummapp.net/ws/v2/comparador/agregar",l).then(function(e){1===e.estado&&($("#successComparador").modal(),r.push(o),r=JSON.stringify(r),localStorage.setItem("addedInComAutosArr",r),t.find("span.circle").removeClass("fa-plus-circle").addClass("fa-check-circle"),t.addClass("defaultPointer"),t.find("span.message").text("En Comparador"))})}),$(document).on("click","span.trash",function(){var e=$(this),t=e.closest("div.garageImgCont"),n=t.find("span.garageUsrCarId").text(),o=t.find("span.garageVersionId").text(),a=localStorage.getItem("aUsr"),i=sessionStorage.getItem("deviceId"),r={user:a,device:i,garage:n};r=JSON.stringify(r),$.post("https://vrummapp.net/ws/v2/garage/quitar",r).then(function(e){if(1===e.estado){if((0,s.con)(e),t.remove(),null!==localStorage.getItem("addedAutosArr")&&void 0!==localStorage.getItem("addedAutosArr")){var n=JSON.parse(localStorage.getItem("addedAutosArr"));o=parseInt(o);var a=$.grep(n,function(e,t){var n=parseInt(e);return n!==o});a=JSON.stringify(a),localStorage.setItem("addedAutosArr",a)}}else(0,s.con)(e),alert("No se pudo eliminar el auto, intenta más tarde")}).fail(function(e){(0,s.con)("No se pudo eliminar el auto, intenta más tarde"),console.log(e)})}),F=$("div.p-headerBackImg"),$(document).on("click","div.ok",function(){if("yes"===localStorage.getItem("activeSession")){var e=localStorage.getItem("aUsr"),t=sessionStorage.getItem("currentUserId");if(null!==e&&void 0!==e){e=parseInt(e);var o=void 0!==t&&null!==t?parseInt(t):parseInt(n.id);e===o?setTimeout(function(){if(y.find("img").length){y.css({"background-image":"none"});var e=y.find("img").attr("src").replace(/^data:image\/(png|jpg);base64,/,"");sessionStorage.setItem("temptyImgForLocal",e.toString()),y.append('<span class="glyphicon glyphicon-camera profImgCameraIcon"></span>'),Q(e)}if(F.find("img").length)var e=F.find("img").attr("src").replace(/^data:image\/(png|jpg);base64,/,"")},200):(alert("tienes estar logueado y usar tu perfil para cambiar la foto"),setTimeout(function(){y.find("img").length&&y.find("img").remove()},200))}}}),J=$("div.membershipDateCounter"),G=$("div.dateProfileRgtBtnCont"),e.change(function(){var e=$(this).val();$("div.garageImgCont").each(function(t,n){$(n).hasClass(e)?$(n).show():$(n).hide()})})}()}})},{"./commonFunc/consoling.js":6,"./commonFunc/getversiones.js":8,"./commonFunc/httpProcesor.js":9,"./commonFunc/locating.js":10,"./commonFunc/sizingGarageImgs.js":11,"./commonFunc/urlEncoder.js":12}],22:[function(e,t,n){"use strict";var o=e("./commonFunc/consoling.js"),a=e("./commonFunc/locating.js"),s=e("./commonFunc/urlEncoder.js");$(function(){if("/web/catalogo/specific-version.html"==a.myLocation||"/web/catalogo/specific-version"==a.myLocation){var e,t,n,i,r,l,c,d,g,m,u,f,v,p,h,I,S,b,C,y,w,x,N;!function(){var a=function(){setTimeout(function(){if(null!==sessionStorage.getItem("versionStored"))if(e=JSON.parse(sessionStorage.getItem("versionStored")),t=JSON.parse(sessionStorage.getItem("versionsArr")),s.hashesExist){var n=parseInt(e.id),o=parseInt(s.queriesT.cId);n===o?(U("wait"),A(t,"wait")):j(t,"wait")}else U("wait"),A(t,"wait");else P()},1600)},P=function(){if(s.hashesExist){var e=null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?{device:sessionStorage.getItem("deviceId"),modelId:parseInt(s.queriesT.mdlId),user:localStorage.getItem("aUsr")}:{device:sessionStorage.getItem("deviceId"),modelId:parseInt(s.queriesT.mdlId)};e=JSON.stringify(e),$.post("https://vrummapp.net/ws/v2/catalogo/getversiones",e).then(function(e){1===e.estado&&(t=e.mensaje.rs,A(t,"askVersionsAgain"),j(t,"askVersionsAgain"))}).fail(function(e){console.log(e)})}else a()},A=function(e,t){e.length>1?null:(r.hide(),l.css({margin:"0 auto"}))},j=function(t,n){var o=parseInt(s.queriesT.cId),a=$.grep(t,function(e,t){var n=parseInt(e.id);if(n===o)return e});e=a[0],void 0!==e&&null!==e?U("selectVersionStart"):P()},U=function(e){E(),V(),k(),T(null)},k=function(){var t=$("div.thumbImgsCont"),o=$("div.arrowsCont");S?(h=[],$.isArray(b.pic_web)?h=b.pic_web:h[0]=b.pic_web):$.isArray(e.pic_web)?h=e.pic_web:h[0]=e.pic_web,$(n).css({"background-image":"url("+h[0]+")"}),I=h[0];var a="";t.find("div.carThumbImgUnit").remove(),h.forEach(function(e,n){a=0===n?"carThumb active":"carThumb";var o='<div class="carThumbImgUnit"><img src="'+e+'" class="'+a+' img-responsive"></div>';t.append(o)}),h.length<=1&&o.hide()},T=function(n){var o=[];if(S){if(n.length>0&&S){C=!1,O();var a,s=t.length-1;a=0===N?"right"===n?2:t.length:N===s?"right"===n?1:N:"right"===n?parseInt(c.text())+1:parseInt(c.text())-1,c.text(a),b=0===N?"left"===n?t[s]:t[N+1]:N===s?"left"===n?t[N-1]:t[0]:"left"===n?t[N-1]:t[N+1],o=b.ficha_tecnica,_(b.id),F(o),E(),k()}}else O(),c.text(N+1),d.text(t.length),o=e.ficha_tecnica,F(o)},O=function(){$.map(t,function(t,n){void 0!==b.id&&null!==b.id?t.id===b.id&&(N=n):t.id===e.id&&(N=n)})},_=function(e){var t=window.location.href,n=t.search("cId");if(n!==-1){var a=t.indexOf("&",n),s=t.slice(0,n),i="cId="+e,r=a!==-1?""+s+i+t.slice(a):""+s+i;(0,o.con)(r)}},F=function(e){$("div.fichaTecnicaDetail").empty(),$("div.fichaCat").empty();var t=e[0].tab;e.forEach(function(e,n){if(0===n){var o='<div class="'+e.tab+' fichaCat">\n\t\t\t\t\t\t\t\t\t<h2>'+e.tab+"</h2>\n\t\t\t\t\t\t\t\t</div>";i.append(o)}else if(e.tab!==t&&!i.find("div."+e.tab).length){t=e.tab;var o='<div class="'+t+' fichaCat">\n\t\t\t\t\t\t\t\t\t<h2>'+t+"</h2>\n\t\t\t\t\t\t\t\t</div>";i.append(o)}if(null!==e.dato&&void 0!==e.dato){var a='<p class="'+e.tab+'">'+e.valor+" : "+e.dato+"</p>";i.find("div."+e.tab).append(a)}})},J=function(t){var n=localStorage.getItem("aUsr"),o=sessionStorage.getItem("deviceId"),a=S?b.id:e.id,s=null!==localStorage.getItem("addedAutosArr")&&void 0!==localStorage.getItem("addedAutosArr")?JSON.parse(localStorage.getItem("addedAutosArr")):[],i={device:o,user:n,version:a,tipo:t};i=JSON.stringify(i),C||$.post("https://vrummapp.net/ws/v2/garage/agregar",i).then(function(e){1===e.estado&&($("#success-modal").modal(),s.push(a),s=JSON.stringify(s),localStorage.setItem("addedAutosArr",s),g.attr("src","../img/ic_OKGarage@2x.png"))})},G=function(t){var n=parseInt(t),a=sessionStorage.getItem("deviceId"),s=S?b.id:e.id,i=null!==localStorage.getItem("addedInComAutosArr")&&void 0!==localStorage.getItem("addedInComAutosArr")?JSON.parse(localStorage.getItem("addedInComAutosArr")):[],r=JSON.stringify({device:a,idUsr:n,version:s});(0,o.con)(r),y||$.post("https://vrummapp.net/ws/v2/comparador/agregar",r).then(function(e){1===e.estado&&($("#successComparador").modal(),i.push(s),i=JSON.stringify(i),localStorage.setItem("addedInComAutosArr",i),p.find("span.circle").removeClass("fa-plus-circle").addClass("fa-check-circle"))})},E=function(){var t=$("div.versionsBrandImg"),n=$("p.modelName"),o=$("p.modelPrice"),a=$("p.versionName"),s=e.pic_marca,i=null!==localStorage.getItem("modelName")?localStorage.getItem("modelName"):e.model_name;sessionStorage.setItem("currentBrandImg",e.pic_marca),localStorage.setItem("modelName",e.model_name);var r="",l="";S?(r=b.starting_price,l=b.name,B(b),M(b)):(r=e.starting_price,l=e.name,B(e),M(e)),t.css({"background-image":"url("+s+")"}),n.text(i),o.text(r),a.text(l)},B=function(e){if(null!==localStorage.getItem("addedAutosArr")&&void 0!==localStorage.getItem("addedAutosArr")){var t=JSON.parse(localStorage.getItem("addedAutosArr")),n=t.length-1,o=parseInt(e.id);"string"==typeof e.esta_garage?L():t.length>0?$.each(t,function(e,t){var a=parseInt(t);o===a&&L(),e!==n||o===a||C||(g.attr("src","../img/ic_AddGarage@2x.png"),null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?(C=!1,u.text("Agregar a Mi Garage"),m.removeClass("defaultPointer")):(C=!0,v.addClass("hiddenItm")))}):(g.attr("src","../img/ic_AddGarage@2x.png"),null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?(C=!1,u.text("Agregar a Mi Garage"),m.removeClass("defaultPointer")):(C=!0,v.addClass("hiddenItm")))}else"string"==typeof e.esta_garage?L():(g.attr("src","../img/ic_AddGarage@2x.png"),null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?(C=!1,u.text("Agregar a Mi Garage"),m.removeClass("defaultPointer")):(C=!0,v.addClass("hiddenItm")))},M=function(e){if(null!==localStorage.getItem("addedInComAutosArr")&&void 0!==localStorage.getItem("addedInComAutosArr")){var t=JSON.parse(localStorage.getItem("addedInComAutosArr")),n=(t.length-1,parseInt(e.id));if(null!==e.esta_comparador&&"false"!==e.esta_comparador)R();else if(t.length>0){var o=$.grep(t,function(e,t){var o=parseInt(e);return o===n});o.length>0&&n===parseInt(o[0])?R():(p.find("span.circle").addClass("fa-plus-circle").removeClass("fa-check-circle"),y=!1,f.text("Agregar al Comparador"),p.removeClass("defaultPointer"))}}else null!==e.esta_comparador&&"false"!==e.esta_comparador&&R()},L=function(){C=!0,g.attr("src","../img/ic_OKGarage@2x.png"),v.addClass("hiddenItm"),m.addClass("defaultPointer"),u.text("Agregado al Garage")},R=function(){y=!0,p.find("span.circle").removeClass("fa-plus-circle").addClass("fa-check-circle"),p.addClass("defaultPointer"),f.text("Agregado al Comparador")},V=function(){var e=n.width(),t=.6309*e;n.height(t)};e={},t=[],n=$("div.versionsCarousel"),i=$("div.versionDetailCont"),r=$("span.versionArrow"),l=$("div.versionRecognizerGroup"),c=$("span.versionNum"),d=$("span.versionTotal"),g=$("#btnAddToGarage img.isGarage"),m=$("a#btnAddToGarage"),u=$("span.addToGrgMsg"),f=$("span.addToCmpMsg"),v=$("ul.addToGarage"),p=$("div.compareGroup.specificVersion"),h=[],I="",S=!1,b={},C=!1,y=!1,null!==sessionStorage.getItem("versionsArr")&&null!==sessionStorage.getItem("versionStored")?(e=JSON.parse(sessionStorage.getItem("versionStored")),t=JSON.parse(sessionStorage.getItem("versionsArr")),s.hashesExist?(w=parseInt(e.id),x=parseInt(s.queriesT.cId),w===x?(U("start"),A(t,"start")):j(t,"start")):(U("start"),A(t,"start"))):a(),$(window).resize(function(){V()}),r.on("click",function(){var e=$(this);S=!0,e.hasClass("left")?T("left"):e.hasClass("right")&&T("right")}),N=-1,$(".addToGarage a").on("click",function(e){e.preventDefault();var t=$(this).data("type");J(t)}),g.click(function(){null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?null:alert("Loguéate para añadir coches a tu garage")}),p.click(function(e){null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?G(localStorage.getItem("aUsr")):alert("Loguéate para añadir coches a tu comparador")})}()}})},{"./commonFunc/consoling.js":6,"./commonFunc/locating.js":10,"./commonFunc/urlEncoder.js":12}]},{},[16,15,14,19,18,1,17,3,20,21,2,22,13]);