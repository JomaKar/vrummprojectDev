!function e(t,n,a){function o(i,r){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!r&&l)return l(i,!0);if(s)return s(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[i]={exports:{}};t[i][0].call(d.exports,function(e){var n=t[i][1][e];return o(n?n:e)},d,d.exports,e,t,n,a)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}({1:[function(e,t,n){"use strict";var a=e("./commonFunc/locating.js"),o=e("./commonFunc/sizingGarageImgs.js"),s=e("./commonFunc/consoling.js"),i=(e("./commonFunc/httpProcesor.js"),e("./commonFunc/getversiones.js")),r=e("./commonFunc/brandsImgs.js"),l=e("./commonFunc/urlEncoder.js");$(function(){var e=[];if("/web/catalogo/brand-modelo.html"===a.myLocation||"/web/catalogo/brand-modelo"===a.myLocation){var t,n,c,d,g,m,u,f,v;!function(){var p=function(e){m<60?setTimeout(function(){null!==e&&void 0!==e&&e&&(clearInterval(g),b(e.pic_url)),m++},15):(clearInterval(g),b(null))},h=function(t){null!==t&&void 0!==t&&"nothing stored"!==t&&(clearInterval(d),e=t,I(e))},I=function(e){t=JSON.parse(e);var n=[],a=[],o=[];if(""!==t){t.forEach(function(e,t){var a=$.inArray(e.year,n,0);a===-1&&n.push(e.year)});var s=[];n.forEach(function(e,a){s[a]=[],s[a]=$.grep(t,function(e,t){return e.year===n[a]&&e.uso})}),t.forEach(function(e,t){var n=$.inArray(e.uso,a,0);n===-1&&a.push(e.uso)}),t.forEach(function(e,t){var n=$.inArray(e.tipo_catalogo,o,0);n===-1&&o.push(e.tipo_catalogo)});var i=[];s.forEach(function(e,t){i[t]=[],a.forEach(function(n,o){i[t][o]=[],i[t][o]=$.grep(e,function(e,t){return e.uso===a[o]})})}),i.forEach(function(e,t){i[t]=$.grep(e,function(e,t){return e.length>0})});var r=[];i.forEach(function(e,t){r[t]=[],e.forEach(function(e,n){r[t][n]=[],o.forEach(function(a,s){r[t][n][s]=[],r[t][n][s]=$.grep(e,function(e,t){return e.tipo_catalogo===o[s]})})})}),r.forEach(function(e,t){e.forEach(function(e,n){r[t][n]=$.grep(e,function(e,t){return e.length>0})})}),S(s,i,r)}else f.html("No hay informaci√≥n sobre esta marca para mostrar")},S=function(e,t,n){f.remove(),t.forEach(function(e,t){e.forEach(function(e,t){var n=e[0].year,a=e[0].uso,o='<div class="galleryHead col-xs-12 noPadding noMargin yearFilter'+(n+a)+'">\n\t\t\t\t\t\t\t\t\t\t\t<span class="modelUse">'+a+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="modelY">'+n+'</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="col-xs-12 noPadding noMargin yearFilterCont'+(n+a)+'"></div>';u.append(o)})}),n.forEach(function(e,t){e.forEach(function(e,t){e.forEach(function(e,t){var n=e[0].year,o=e[0].uso,s=n+o,i=$("div.yearFilterCont"+s),r=e[0].tipo_catalogo,l=r;r=r.replace(/ /g,"");var c=s+r,d='<div class="galleryNeck col-xs-12 noPadding noMargin typeFilter'+(n+o+r)+'">\n\t\t\t\t\t\t                    <span class="gallNeckCarSp"></span>\n\t\t\t\t\t\t                    <span class="gallNeckCarTxt">'+l+'</span>\n\t\t\t\t\t\t                </div>\n\t\t\t\t\t\t                <div class="col-xs-12 noPadding noMargin">\n\t\t\t\t\t\t                    <div class="row-fluid noPadding noMargin childHeight modelBox'+(n+o+r)+'">\n\t\t\t\t\t\t                        \n\t\t\t\t\t\t                    </div>\n\t\t\t\t\t\t                </div>';i.append(d),e.forEach(function(e,t){var n=$("div.modelBox"+c),o=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?a.pathnameRoot+"catalogo/modelo-versiones?al="+localStorage.getItem("aUsrA")+"&brdId="+e.brand_id+"&mdlId="+e.model_id:a.pathnameRoot+"catalogo/modelo-versiones?brdId="+e.brand_id+"&mdlId="+e.model_id,s='<div class="col-xs-12 col-sm-4 noPadding noMargin modelItem">\n\t\t\t\t                            <img src="'+e.pic_url+'" class="img-responsive carImg"/>\n\t\t\t\t                            <a href="'+o+'" class="modelItmAnchor">\n\t\t\t\t\t                            <div class="hoverInfo">\n\t\t\t\t\t                                <ul class="mDetails noPadding">\n\t\t\t\t\t                                  <li class="mName">'+e.name+'</li>\n\t\t\t\t\t                                  <li class="vPrice">'+e.desde+" - "+e.hasta+'</li>\n\t\t\t\t\t                                  <li class="yModel">'+e.year+'</li>\n\t\t\t\t\t                                  <li class="hiddenItm modelId">'+e.model_id+"</li>\n\t\t\t\t\t                                </ul>\n\t\t\t\t\t                            </div>\n\t\t\t\t\t                        </a>\n\t\t\t\t                        </div>";n.append(s)})})})}),(0,o.sizingModelItms)()},b=function(e){if(e)n.css({"background-image":"url("+e+")"});else if(e||null===sessionStorage.getItem("currentBrandImg"))(0,s.con)("no image brand");else{var t=sessionStorage.getItem("currentBrandImg");n.css({"background-image":"url("+t+")"})}};t=[],n=$("div.headerBrandImg"),c=sessionStorage.getItem("currentBrandName"),d=setInterval(function(){var e=sessionStorage.getItem("modelsArr");h(e)},5),g=setInterval(function(){var e=(0,r.theBrand)(l.queriesT.brdId)[0];p(e)},5),m=0,u=$("div.modelsSpace"),f=$("p.modelsStartTxt"),$(document).on("click","a.modelItmAnchor",function(e){e.preventDefault()}),$(document).on("click","div.hoverInfo",function(){var e=$(this).find("li.modelId").text(),t=$(this).find("li.mName").text(),n=$(this).find("li.vPrice").text();(0,i.getVersions)(e,t,n,"mdls")}),$(window).resize(function(){var e=$("div.modelItem");e.length&&(0,o.alleGleichlich)(e)}),v=$("span.backBtn"),v.click(function(){(0,a.navigating)("catalogo")})}()}})},{"./commonFunc/brandsImgs.js":7,"./commonFunc/consoling.js":9,"./commonFunc/getversiones.js":11,"./commonFunc/httpProcesor.js":12,"./commonFunc/locating.js":13,"./commonFunc/sizingGarageImgs.js":14,"./commonFunc/urlEncoder.js":15}],2:[function(e,t,n){"use strict";var a=e("./commonFunc/urlEncoder.js");$(function(){var e=$("div.breadCrum");if(e.length){var t=e.find("a");t.each(function(e,t){if(!$(t).hasClass("noChangeHref")){var n=$(t).attr("href");$(t).hasClass("brdId")&&(n+=a.queriesT.al?"?al="+a.queriesT.al+"&brdId="+a.queriesT.brdId:"?brdId="+a.queriesT.brdId),$(t).hasClass("mdlId")&&(n+=a.queriesT.al?"?al="+a.queriesT.al+"&brdId="+a.queriesT.brdId+"&mdlId="+a.queriesT.mdlId:"?brdId="+a.queriesT.brdId+"&mdlId="+a.queriesT.mdlId),$(t).attr("href",n)}})}})},{"./commonFunc/urlEncoder.js":15}],3:[function(e,t,n){"use strict";var a=e("./commonFunc/locating.js"),o=(e("./commonFunc/consoling.js"),e("./commonFunc/httpProcesor.js")),s=e("./commonFunc/urlEncoder.js");$(function(){var e=[],t={},n="",i=[],r=$("div.versionsCarousel"),l=$("div.versionDetailCont"),c=$("span.currentVersionId"),d=$("div.thumbImgsBar"),g=$("meta.metaTitle"),m=$("meta.metaDescrip"),u=$("meta.metaImg");if("/web/catalogo/modelo-versiones.html"===a.myLocation||"/web/catalogo/modelo-versiones"===a.myLocation){var f,v,p,h,I,S,b,C,y,w,x,P,N,j,k;!function(){var T=function(t,n){if(null!==t&&void 0!==t&&"nothing stored"!==t&&(clearInterval(v),e=t,A(e)),null!==n&&void 0!==n&&"nothing stored"!==n){clearInterval(p);var a=n;s.hashesExist?_(s.queriesT.mdlId):U(JSON.parse(a))}},A=function(e){i=JSON.parse(e),t=i[0],null!==sessionStorage.getItem("currentBrandImg")&&void 0!==sessionStorage.getItem("currentBrandImg")&&"nothing stored"!==sessionStorage.getItem("currentBrandImg")&&V(),s.hashesExist?(t.model_id=s.queriesT.mdlId)?F():O(s.queriesT.mdlId):F()},_=function(e){e=parseInt(e);var t=sessionStorage.getItem("deviceId"),n={};void 0!==t&&null!==t&&e&&(n={device:t,modelId:e}),n=JSON.stringify(n),$.post("https://vrummapp.net/ws/v2/catalogo/getgaleria",n).then(function(e){if(1===e.estado){var t=e.mensaje.rs;U(t),t=JSON.stringify(t),sessionStorage.setItem("versionsPhotos",t)}}).fail(function(e){console.log(e)})},U=function(e){var t=$("div.thumbImgsCont"),a=$("div.arrowsCont");$.map(e.galeria,function(e,t){I.push({pict:e.pic_url,id:t})}),G(I[0].pict,null),u.attr("content",I[0].pict),r.find("div.sk-circle").remove(),$(r).css({"background-image":"url("+I[0].pict+")"}),S=I[0].id,c.text(S),n=I[0].pict;var o="";I.forEach(function(e,n){o=0===n?"carThumb active":"carThumb";var a='<div class="carThumbImgUnit"><span class="thumbIdSpan hiddenItm">'+e.id+'</span><img src="'+e.pict+'" class="'+o+" img"+n+' thumbImg img-responsive"></div>';t.append(a)}),I.length<=1&&a.hide(),M()},O=function(e){var n=sessionStorage.getItem("deviceId");if(void 0!==n&&null!==n&&e){var a=null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?{device:n,modelId:e,user:localStorage.getItem("aUsr")}:{device:n,modelId:e};a=JSON.stringify(a),$.post("https://vrummapp.net/ws/v2/catalogo/getversiones",a).then(function(e){1===e.estado&&(i=e.mensaje.rs,t=i[0],F(),i=JSON.stringify(i),sessionStorage.setItem("versionsArr",i))}).fail(function(e){console.log(e)})}},F=function(){var e={},t="",n="";$.each(i,function(o,s){var i=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?a.pathnameRoot+"catalogo/specific-version?al="+localStorage.getItem("aUsrA")+"&brdId="+s.brand_id+"&mdlId="+s.model_id+"&cId="+s.id:a.pathnameRoot+"catalogo/specific-version?brdId="+s.brand_id+"&mdlId="+s.model_id+"&cId="+s.id,r=s.name,c=s.starting_price,d=s.id;e=$.isArray(s.pic_web)?{pict:s.pic_web[0],id:s.id}:{pict:s.pic_web,id:s.id},n=0===o?'<div class="row-fluid childHeight versionDetailRow active">':'<div class="row-fluid childHeight versionDetailRow">',t=n+'\n\t                                <div class="versionImg col-xs-3 col-sm-2">\n\t                                    <img src="'+e.pict+'" class="img-responsive">\n\t                                </div>\n\t                                <div class="col-xs-8 col-sm-9 versionDetail">\n\t                                    <span class="versionName">'+r+'</span>\n\t                                    <span class="versionPrice">$ '+c+'</span>\n\t                                    <span class="versionId hiddenItm">'+d+'</span>\n\t                                </div>\n\t                                <div class="col-xs-1 noPadding goToDetailArrow">\n\t                                    <a href="'+i+'" class="goToDetailAnchor">\n\t                                    \t<span class="glyphicon glyphicon-menu-right"></span>\n\t                                    </a>\n\t                                </div>\n\t                            </div>',l.append(t)})},E=function(e,n){var a=$("div.versionDetailRow"),s=$(e).find("span.versionName").text();a.removeClass("active"),e.addClass("active"),sessionStorage.removeItem("versionStored");var r=$.grep(i,function(e,t){var n=e.name.replace(/"/g,"");return n===s});t=r[0],n&&(0,o.sendPostToGo)(t,null,"specVer");var l=JSON.stringify(t);sessionStorage.setItem("versionStored",l)},J=function(e){var t=$("div.carThumbImgUnit").find("img.carThumb");t.removeClass("active"),e.addClass("active")},L=function(e,t){if(null===e){$.each(I,function(e,t){t.id===parseInt(x)&&(P=e)}),"left"===b?0===P?(C=I[I.length-1].pict,y=I[I.length-1].id):(C=I[P-1].pict,y=I[P-1].id):"right"===b&&(P===I.length-1?(C=I[0].pict,y=I[0].id):(C=I[P+1].pict,y=I[P+1].id)),n=C,G(C,null),r.css({"background-image":"url("+C+")"}),c.text(y);var a=$("div.carThumbImgUnit").find("span.thumbIdSpan"),o=a.filter(function(e,t){if(parseInt($(t).text())===y)return t});o=o.next("img.carThumb"),J(o)}else{n=e,G(e,null),r.css({"background-image":"url("+e+")"}),c.text(t);$("div.versionDetailRow").filter(function(e,n){var a=$(n).find("span.versionId").text();if(a===t)return n})}},G=function(e,t){var n=new Image,a=r.width(),o=.6309,s=a*o;n.src=e,$(n).one("load",function(){var e=n.width,o=n.height,i=a/e,l=o<e?i*o:s,c=s-l,d=c/2;o>=e?$(r).css({"background-position":"top center"}):c>0?$(r).css({"background-position":"0 "+d+"px"}):$(r).css({"background-position":"top"}),null!==t?o>=e?r.css({"background-size":"auto "+t+"px"}):r.css({"background-size":"100%"}):o>=e?r.css({"background-size":"auto "+s+"px"}):r.css({"background-size":"100%"})})},B=function(){if(j)return!0;var e;!function(){var n=function(){j=!0,j&&(clearInterval(e),M())};e=setInterval(function(){$.isEmptyObject(t)||n()},10)}()},M=function(){var e=r.width(),t=$(window).width();h.find("div.carThumbImgUnit").length>=7?(h.css({bottom:"11%","justify-content":"initial",height:"65%"}),t<=310?k=.17:t>310&&t<=410?k=.15:t>410&&t<=510?k=.135:t>510&&(k=.12)):k=.1075502;var a=.6309,o=e*a,s=k*e;d.height(s);var i=a+k,l=e*i;n.length>0&&G(n,o),r.height(l)},V=function(){var e=$("div.versionsBrandImg"),t=$("p.modelName"),n=$("p.modelPrice"),a=i[0].pic_marca,o=i[0].model_name;sessionStorage.setItem("currentBrandImg",a),sessionStorage.setItem("currentBrandAutos",i[0].brand_id),localStorage.setItem("modelName",o),g.attr("content","Checa el "+o+" en Vrumm"),m.attr("content","Vrumm te permite ver todos los autos del mercado mexicano, como el "+o),e.css({"background-image":"url("+a+")"}),t.text(o);var s=null!==localStorage.getItem("modelPrice")?localStorage.getItem("modelPrice"):i[0].starting_price;n.text(s)};f=sessionStorage.getItem("currentBrandName"),$(document).ready(function(){null!==sessionStorage.getItem("currentBrandImg")&&i.length>0&&void 0!==sessionStorage.getItem("currentBrandImg")&&"nothing stored"!==sessionStorage.getItem("currentBrandImg")&&V(),B()}),v=setInterval(function(){var e=sessionStorage.getItem("versionsArr");T(e,null)},5),p=setInterval(function(){var e=sessionStorage.getItem("versionsPhotos");T(null,e)},5),h=$("div.thumbImgsCont"),I=[],$(document).on("click","div.versionDetailRow",function(){var e=$(this);E(e,!1)}),$(document).on("click","div.goToDetailArrow",function(){var e=$(this).closest("div.versionDetailRow");E(e,!0)}),$(document).on("click","a.goToDetailAnchor",function(e){e.preventDefault()}),b="",C="",y="",w="",x="",$(document).on("click","div.arrowsCont span",function(){var e=$(this);b=e.hasClass("leftArr")?"left":"right",w=r.css("background-image"),x=r.find("span.currentVersionId").text();var t=w.indexOf('"')+1,n=w.lastIndexOf('"');w=w.substring(t,n),L(null,null)}),$(document).on("click","div.carThumbImgUnit",function(){var e=$(this).find("img").attr("src"),t=$(this).find("img"),n=$(this).find("span.thumbIdSpan").text();L(e,n),J(t)}),P=-1,N="",j=!1,$(window).resize(function(){j?M():B()}),k=0}()}})},{"./commonFunc/consoling.js":9,"./commonFunc/httpProcesor.js":12,"./commonFunc/locating.js":13,"./commonFunc/urlEncoder.js":15}],4:[function(e,t,n){"use strict";var a=e("./commonFunc/locating.js"),o=(e("./commonFunc/consoling.js"),e("./commonFunc/httpProcesor.js"));$(function(){var e=[],t=$("div.brandsSpace"),n=$("button#goToReg-Cat"),s=$("div.firstRow");if(n.click(function(){(0,a.navigating)("registro")}),"/web/catalogo/index.html"===a.myLocation||"/web/catalogo/index"===a.myLocation||"/web/catalogo/"===a.myLocation){var i;!function(){var n=function(t){null!==t&&void 0!==t&&"nothing stored"!==t&&(clearInterval(i),e=t,r(e))},r=function(n){$("p.startingText").remove(),e=JSON.parse(n);var o=e.length,i=0,r=0,l=0,c=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?a.pathnameRoot+"catalogo/brand-modelo?al="+localStorage.getItem("aUsrA")+"&brdId=":a.pathnameRoot+"catalogo/brand-modelo?brdId=";o>5&&(i=Math.floor(o/5),r=o%5);for(var d=0;d<i;d++){if(0===d)for(var g=0;g<5;g++){var m='<div class="noPadding noMargin brandItem dynamicItem'+g+'">\n\t\t\t\t\t\t\t\t\t\t\t<span class="brandName">'+e[g].name+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="brandId">'+e[g].id+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<a href="'+c+e[g].id+'" class="brandImgAnchor"><div class="backImg centerBackImg brandItmImg" style="background-image: url(\''+e[g].pic_url+"');\"></div></a>\n\t\t\t\t\t\t\t\t\t\t</div>";s.append(m),l++}if(d>0){var u='<div class="row-fluid noPadding noMargin brandCatRow dynamicRow'+d+'"></div>';t.append(u);for(var f=$("div.dynamicRow"+d),g=0;g<5;g++){var m='<div class="noPadding noMargin brandItem dynamicItem'+l+'">\n\t\t\t\t\t\t\t\t\t\t\t<span class="brandName">'+e[l].name+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="brandId">'+e[l].id+'</span>\n\t\t\t\t\t\t\t\t\t\t\t<a href="'+c+e[l].id+'" class="brandImgAnchor"><div class="backImg centerBackImg brandItmImg" style="background-image: url(\''+e[l].pic_url+"');\"></div></a>\n\t\t\t\t\t\t\t\t\t\t</div>";f.append(m),l++}}}if(r>0){var v=i+1,u='<div class="row-fluid noPadding noMargin brandCatRow dynamicRow'+v+'"></div>';t.append(u);for(var f=$("div.dynamicRow"+v),p=0;p<r;p++){var m='<div class="noPadding noMargin brandItem dynamicItem'+l+'">\n\t\t\t\t\t\t\t\t\t\t<span class="brandName">'+e[l].name+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="brandId">'+e[l].id+'</span>\n\t\t\t\t\t\t\t\t\t\t<a href="'+c+e[l].id+'" class="brandImgAnchor"><div class="backImg centerBackImg brandItmImg" style="background-image: url(\''+e[l].pic_url+"');\"></div></a>\n\t\t\t\t\t\t\t\t\t</div>";f.append(m),l++}}},l=function(e){var t=parseInt(e),n=sessionStorage.getItem("deviceId");if(void 0!==n&&null!==n&&t){var a={device:n,brandId:t};a=JSON.stringify(a),(0,o.sendPostToGo)("catalogo/getmodelos",a,"mdls")}};i=setInterval(function(){var e=sessionStorage.getItem("catalogBrands");n(e)},5),$(document).on("click","a.brandImgAnchor",function(e){e.preventDefault()}),$(document).on("click","div.brandItem",function(){var e=$(this).find("span.brandId").html(),t=$(this).find("span.brandName").html(),n=$(this).find("div.brandItmImg").css("background-image"),a=n.indexOf('"')+1,o=n.lastIndexOf('"');n=n.substring(a,o),void 0!==e&&null!==e?(l(e),sessionStorage.setItem("currentBrandAutos",e.toString()),void 0!==n&&null!==n&&sessionStorage.setItem("currentBrandImg",n),void 0!==t&&null!==t&&sessionStorage.setItem("currentBrandName",t)):sessionStorage.setItem("currentBrandAutos","nothing stored")})}()}})},{"./commonFunc/consoling.js":9,"./commonFunc/httpProcesor.js":12,"./commonFunc/locating.js":13}],5:[function(e,t,n){"use strict";function a(){function e(){a=!0,n(),clearInterval(m)}function t(e,t){var n="id"===t?{idUsr:e}:{alias:e};n=JSON.stringify(n),$.post("https://vrummapp.net/ws/v2/usuario/info",n).then(function(e){1===e.estado&&(r=e.mensaje.rs[0],i=!0)}).fail(function(e){console.log(e)})}function n(){var e=localStorage.getItem("aUPP"),t=localStorage.getItem("aUsr"),n=localStorage.getItem("aUsrA");if(a&&i){var o=null!==e&&void 0!==e?"data:image/png;base64,"+e:"../img/profileDafault.png",c=null!==n&&void 0!==n?n:r.alias;$("span.aliasNavSpan").text(c),$("div.minProfileImg").css({"background-image":"url("+o+")"})}if(void 0!==t&&null!==t){var g=$("div.loggedNavbar").find("a");g.each(function(e,t){if(!$(t).hasClass("noChangeHref")){var n=$(t).attr("href");n+="?al="+c,$(t).attr("href",n)}}),t=parseInt(t);var m=void 0!==d&&null!==d?parseInt(d):parseInt(r.id);t===m?"/web/perfil/"!==s.myLocation&&"/web/perfil/index"!==s.myLocation&&"/web/perfil/index.html"!==s.myLocation||l.addClass("noPhoto"):l.removeClass("noPhoto")}}var a=!1,i=!1,r={},l=$("nav.myNavBar"),c=sessionStorage.getItem("currentUserInfo"),d=sessionStorage.getItem("currentUserId");sessionStorage.getItem("currentUserGarage");if(null===c||void 0===c)null!==d&&void 0!==d?t(d,"id"):o.hashesExist&&o.queriesT.al.length>0&&t(o.queriesT.al,"al");else if(null!==c&&void 0!==c){var g=JSON.parse(c);r=g[0],i=!0}var m=setInterval(function(){$("div.navbarIn").length&&i&&e()},5)}Object.defineProperty(n,"__esModule",{value:!0}),n.navInfo=a;var o=e("./urlEncoder.js"),s=e("./locating.js")},{"./locating.js":13,"./urlEncoder.js":15}],6:[function(e,t,n){"use strict";function a(e){var t=[{name:["/web/","/web/index","/web/index.html"],parent:null,destiny:"home"},{name:["/web/registro/","/web/registro/index.html","/web/registro/index"],parent:null,destiny:"registro"},{name:["/web/catalogo/","/web/catalogo/index.html","/web/catalogo/index"],parent:["home","perfil"],destiny:""},{name:["/web/perfil/index.html","/web/perfil/index","/web/perfil/"],parent:"home",destiny:"home"},{name:["/web/perfil/configuracion.html","/web/perfil/configuracion"],parent:"perfil",destiny:"perfil"},{name:["/web/perfil/detalles.html","/web/perfil/detalles"],parent:"perfil",destiny:"perfil"},{name:["/web/catalogo/brand-modelo.html","/web/catalogo/brand-modelo"],parent:"catalogo",destiny:"catalogo"},{name:["/web/catalogo/modelo-versiones.html","/web/catalogo/modelo-versiones"],parent:"catalogo/brand-modelo",destiny:"catalogo/brand-modelo"},{name:["/web/catalogo/specific-version.html","/web/catalogo/specific-version"],parent:"catalogo/modelo-versiones",destiny:"catalogo/modelo-versiones"}],n=!1,a=$.grep(t,function(t,a){if(!n&&(t.name.forEach(function(t,a){e===t&&(n=!0)}),n))return t}),i=a[0];$.isArray(i.parent)?o(i.parent):"home"===i.parent?(0,s.navigating)("home"):(0,s.navigating)(i.parent+u)}function o(e){$.map(e,function(t,n){"home"!==t&&"registro"!==t&&(0,s.navigating)(e[n]+u)})}Object.defineProperty(n,"__esModule",{value:!0}),n.backing=a;var s=e("./locating.js"),i=(e("./urlEncoder.js"),e("./consoling.js"),s.myLocHref.indexOf("?")),r=i!==-1?s.myLocHref.slice(i):"",l=r.length>3,c=l?r.lastIndexOf("&"):-1,d=c!==-1?r.slice(c+1,r.lastIndexOf("=")):r.slice(0,r.lastIndexOf("=")),g=["?ss","usrId","al"],m=!1;g.forEach(function(e,t){d===e&&(m=!0)});var u=c===-1||m?r:r.slice(0,c)},{"./consoling.js":9,"./locating.js":13,"./urlEncoder.js":15}],7:[function(e,t,n){"use strict";function a(){$.post("https://vrummapp.net/ws/v2/catalogo/getmarcas").then(function(e){1===e.estado&&(s=e.mensaje.rs)})}function o(e){return $.grep(s,function(t,n){return t.id==e})}Object.defineProperty(n,"__esModule",{value:!0}),n.askBrands=a,n.theBrand=o;var s=[]},{}],8:[function(e,t,n){"use strict";function a(e,t){var n={device:sessionStorage.getItem("deviceId"),user:t,campo:"foto_perfil",dato:e};n=JSON.stringify(n),(0,o.sendPostToGet)("usuario/actualizadato",n,"usrAct")}Object.defineProperty(n,"__esModule",{value:!0}),n.changeProfilePhoto=a;var o=e("./httpProcesor.js")},{"./httpProcesor.js":12}],9:[function(e,t,n){"use strict";function a(e){console.log(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.con=a},{}],10:[function(e,t,n){"use strict";function a(e){"login"===e&&(i.disBlock(),o.val(""),s.val(""))}Object.defineProperty(n,"__esModule",{value:!0}),n.displayErr=a;var o=(e("./locating.js"),$("#l-email")),s=$("#l-pass"),i=$("div.errorLogin");$.fn.disNone=function(){return this.css({display:"none"}),this},$.fn.disBlock=function(){return this.css({display:"block"}),this},$.fn.an=function(){return this.animate({height:"toggle"},200),this}},{"./locating.js":13}],11:[function(e,t,n){"use strict";function a(e,t,n,a){localStorage.setItem("modelId",e.toString()),localStorage.setItem("modelName",t.toString()),localStorage.setItem("modelPrice",n.toString());var s=sessionStorage.getItem("deviceId"),i=localStorage.getItem("aUsr"),r={};void 0!==s&&null!==s&&e&&(r=void 0!==i&&null!==i?{device:s,modelId:e,user:i}:{device:s,modelId:e},r=JSON.stringify(r),"prof"===a?(0,o.sendPostToGet)("catalogo/getversiones",r,"spVrsInfo"):((0,o.sendPostToGo)("catalogo/getversiones",r,"versiones"),(0,o.sendPostToGet)("catalogo/getgaleria",r,"vrsGal")))}Object.defineProperty(n,"__esModule",{value:!0}),n.getVersions=a;var o=e("./httpProcesor.js")},{"./httpProcesor.js":12}],12:[function(e,t,n){"use strict";function a(e,t,n){console.log(t,"from sendToGo processor",n);var a=localStorage.getItem("aUsrA");if("specVer"===n){var o=e.brand_id,l=e.model_id,m=e.id;s()?(0,c.navigating)("catalogo/specific-version?al="+a+"&brdId="+o+"&mdlId="+l+"&cId="+m):(0,c.navigating)("catalogo/specific-version?brdId="+o+"&mdlId="+l+"&cId="+m)}$.post("https://vrummapp.net/ws/v2/"+e,t).then(function(e){if("perfilLog"===n||"perfilLogIrgenwo"===n)if(1===e.estado){var t=e.mensaje.rs;localStorage.setItem("activeSession","yes"),"perfilLogIrgenwo"!==n?i(t,"user",!0):i(t,"user",!1),t.toString(),localStorage.setItem("aUsr",t),r("currentUserId",t)}else(0,g.con)("whatTheFuck"),(0,d.displayErr)("login");if("perfilr"===n&&1===e.estado){var t=e.mensaje.usr.id,o=e.mensaje.usr.alias,l=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[];l.push({al:o,id:t}),l=JSON.stringify(l),localStorage.setItem("visitedUsrs",l),localStorage.setItem("aUsrA",o);var m=null!==e.mensaje.usr.foto_perfil&&void 0!==e.mensaje.usr.foto_perfil?e.mensaje.usr.foto_perfil.toString():"";m.length>0&&localStorage.setItem("aUPP",m);var u=[];u[0]=e.mensaje.usr,u=JSON.stringify(u),t.toString(),localStorage.setItem("aUsr",t),r("currentUserId",t),r("currentUserAlias",o),r("currentUserInfo",u),localStorage.setItem("activeSession","yes"),(0,c.navigating)("perfil?al="+o)}else if("brands"===n&&1===e.estado){var f=JSON.stringify(e.mensaje.rs);sessionStorage.setItem("catalogBrands",f),s()?(0,c.navigating)("catalogo/?al="+a):(0,c.navigating)("catalogo/?")}else if("mdls"===n&&1===e.estado){var v=e.mensaje.rs,p=e.mensaje.rs[0].brand_id;v=JSON.stringify(v),sessionStorage.setItem("modelsArr",v),s()?(0,c.navigating)("catalogo/brand-modelo?al="+a+"&brdId="+p):(0,c.navigating)("catalogo/brand-modelo?brdId="+p)}else if("versiones"===n&&1===e.estado){var h=e.mensaje.rs;sessionStorage.setItem("currentBrandImg",h[0].pic_marca.toString()),localStorage.setItem("modelName",h[0].model_name.toString()),h=JSON.stringify(h),sessionStorage.setItem("versionsArr",h);var p=e.mensaje.rs[0].brand_id,I=e.mensaje.rs[0].model_id;s()?(0,c.navigating)("catalogo/modelo-versiones?al="+a+"&brdId="+p+"&mdlId="+I):(0,c.navigating)("catalogo/modelo-versiones?brdId="+p+"&mdlId="+I)}}).fail(function(e){console.log(e)})}function o(e,t,n){console.log(t,"from sendToGet processor",n);var a=t?t:"";$.post("https://vrummapp.net/ws/v2/"+e,a).then(function(e){if("usrInfoToGetR"===n||"usrInfoToGo"===n){if(1===e.estado){var t=[];t[0]=e.mensaje.rs[0];var o=null!==t[0].foto_perfil&&void 0!==t[0].foto_perfil?t[0].foto_perfil.toString():"";o.length>0&&localStorage.setItem("aUPP",o);var s=t[0].alias,i=t[0].id,d=(sessionStorage.getItem("deviceId"),-1),g=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[];if(g.forEach(function(e,t){var n=parseInt(e.id);n===i&&(d=t)}),d===-1&&(g.push({al:s,id:i}),g=JSON.stringify(g),localStorage.setItem("visitedUsrs",g)),t=JSON.stringify(t),localStorage.setItem("aUsrA",s),r("currentUserAlias",s),r("currentUserInfo",t),"/web/perfil/"!==c.myLocation&&"/web/perfil/index"!==c.myLocation&&"/web/perfil/index.html"!==c.myLocation)if("usrInfoToGetR"===n){var f=window.location.href,v=f.slice(f.indexOf("?")+1);window.location=window.location.pathname+"?al="+s+"&"+v}else(0,c.navigating)("perfil?al="+s)}}else if(1===e.estado&&"usrInfoToGet"===n){var t=[];t[0]=e.mensaje.rs[0];var s=t[0].alias,i=t[0].id,d=-1,g=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[];g.forEach(function(e,t){var n=parseInt(e.id);n===i&&(d=t)}),d===-1&&(g.push({al:s,id:i}),g=JSON.stringify(g),localStorage.setItem("visitedUsrs",g)),r("currentUserAlias",s.toString()),r("currentUserId",i.toString()),t=JSON.stringify(t),r("currentUserInfo",t);sessionStorage.getItem("deviceId")}else if("usrGrg"===n)if(1===e.estado){var p=e.mensaje.rs;p=JSON.stringify(p),r("currentUserGarage",p)}else sessionStorage.setItem("currentUserGarage","nothing stored");else if("usrAct"===n){if(1===e.estado&&null!==sessionStorage.getItem("temptyImgForLocal")&&void 0!==sessionStorage.getItem("temptyImgForLocal")){var h=sessionStorage.getItem("temptyImgForLocal");if(localStorage.setItem("aUPP",h.toString()),null!==sessionStorage.getItem("currentUserInfo")&&void 0!==sessionStorage.getItem("currentUserInfo")){var I=sessionStorage.getItem("currentUserInfo"),S=JSON.parse(I);$.isArray(S)?S.length>0?S[0].foto_perfil=h:null:"object"===("undefined"==typeof S?"undefined":l(S))&&null!==S&&(S.foto_perfil=h),S=JSON.stringify(S),sessionStorage.setItem("currentUserInfo",S)}}}else if("usrContact"===n)if(1===e.estado){if($("input.referidoEdit").attr("readonly",!0),localStorage.setItem("contactChange","y"),null!==localStorage.getItem("passwordChange")&&void 0!==localStorage.getItem("passwordChange")?null!==localStorage.getItem("infoChange")&&void 0!==localStorage.getItem("infoChange")?u.text("contrase√±a, nuevo contacto de referencia e informaci√≥n general se ha guardado"):u.text("contrase√±a y nuevo contacto de referencia se han guardado. Pero la dem√°s informaci√≥n no"):null!==localStorage.getItem("infoChange")&&void 0!==localStorage.getItem("infoChange")?u.text("nuevo contacto de referencia e informaci√≥n general se ha guardado"):u.text("nuevo contacto de referencia se ha guardado. Pero la dem√°s informaci√≥n no"),null!==sessionStorage.getItem("temptyNewContact")&&void 0!==sessionStorage.getItem("temptyNewContact")){var b=sessionStorage.getItem("temptyNewContact");if(null!==sessionStorage.getItem("currentUserInfo")&&void 0!==sessionStorage.getItem("currentUserInfo")){var I=sessionStorage.getItem("currentUserInfo"),S=JSON.parse(I);$.isArray(S)?S.length>0?S[0].invitado_por=b:null:"object"===("undefined"==typeof S?"undefined":l(S))&&null!==S&&(S.invitado_por=b),S=JSON.stringify(S),sessionStorage.setItem("currentUserInfo",S)}}}else console.log(e);else if("usrPass"===n)1===e.estado&&(localStorage.setItem("passwordChange","y"),null!==localStorage.getItem("contactChange")&&void 0!==localStorage.getItem("contactChange")?null!==localStorage.getItem("infoChange")&&void 0!==localStorage.getItem("infoChange")?u.text("contrase√±a, nuevo contacto de referencia e informaci√≥n general se ha guardado"):u.text("contrase√±a y nuevo contacto de referencia se han guardado. Pero no la dem√°s informaci√≥n"):null!==localStorage.getItem("infoChange")&&void 0!==localStorage.getItem("infoChange")?u.text("contrase√±a e informaci√≥n general se ha guardado"):u.text("contrase√±a se ha guardado. Pero no la dem√°s informaci√≥n"));else if("usrFullEdit"===n){if(1===e.estado&&(localStorage.setItem("infoChange","y"),null!==localStorage.getItem("contactChange")&&void 0!==localStorage.getItem("contactChange")?null!==localStorage.getItem("passwordChange")&&void 0!==localStorage.getItem("passwordChange")?u.text("contrase√±a, nuevo contacto de referencia e informaci√≥n general se ha guardado"):u.text("nuevo contacto de referencia e informaci√≥n se han guardado"):null!==localStorage.getItem("passwordChange")&&void 0!==localStorage.getItem("passwordChange")?u.text("contrase√±a e informaci√≥n general se ha guardado"):u.text("informaci√≥n general se ha guardado"),$("div#successEditProfile").modal(),null!==sessionStorage.getItem("currentUserInfo")&&void 0!==sessionStorage.getItem("currentUserInfo"))){var I=sessionStorage.getItem("currentUserInfo"),S=JSON.parse(I),C=JSON.parse(a);if(console.log("actFullBef",C,S),$.isArray(S)){if(S.length>0){var y=S[0],w=["fecha_nac","foto_perfil","full_name","genero","materno","paterno","nombre","tags"];$.each(w,function(e,t){"full_name"===t?y[t]=C.nombre+" "+C.paterno+" "+C.materno:"fecha_nac"===t?y[t]=C.fecha_nacimiento:"foto_perfil"===t?y[t]=C.foto:y[t]=C[t]}),S[0]=y}}else if("object"===("undefined"==typeof S?"undefined":l(S))&&null!==S){var w=["fecha_nac","foto_perfil","full_name","genero","materno","paterno","nombre","tags"];$.each(w,function(e,t){"full_name"===t?S[t]=C.nombre+" "+C.paterno+" "+C.materno:"fecha_nac"===t?S[t]=C.fecha_nacimiento:"foto_perfil"===t?S[t]=C.foto:S[t]=C[t]})}S=JSON.stringify(S),sessionStorage.setItem("currentUserInfo",S)}}else if("brands"===n&&1===e.estado){var x=e.mensaje.rs;x=JSON.stringify(x),sessionStorage.setItem("catalogBrands",x)}else if("mdls"===n&&1===e.estado){var P=e.mensaje.rs;P=JSON.stringify(P),sessionStorage.setItem("modelsArr",P)}else if("vrsInfo"===n&&1===e.estado){var N=e.mensaje.rs;sessionStorage.setItem("currentBrandImg",N[0].pic_marca.toString()),localStorage.setItem("modelName",N[0].model_name.toString()),N=JSON.stringify(N),sessionStorage.setItem("versionsArr",N)}else if("vrsGal"===n&&1===e.estado){var j=e.mensaje.rs;j=JSON.stringify(j),sessionStorage.setItem("versionsPhotos",j)}else if("spVrsInfo"===n&&1===e.estado){var N=e.mensaje.rs,k=e.mensaje.rs;
if(sessionStorage.setItem("currentBrandImg",N[0].pic_marca.toString()),localStorage.setItem("modelName",N[0].model_name.toString()),m.hashesExist&&m.queriesT.cId.length>0){var T=parseInt(m.queriesT.cId),A=$.grep(k,function(e,t){var n=parseInt(e.id);if(n===T)return e}),_=A[0];_=JSON.stringify(_),sessionStorage.setItem("versionStored",_)}N=JSON.stringify(N),sessionStorage.setItem("versionsArr",N)}}).fail(function(e){console.log(e)})}function s(){var e=localStorage.getItem("activeSession");return"yes"===e}function i(e,t,n){if("user"===t){var a=sessionStorage.getItem("deviceId"),s={idUsr:e};s=JSON.stringify(s);var i={idUsr:e,device:a};i=JSON.stringify(i),o("garage/listar",i,"usrGrg"),n?o("usuario/info",s,"usrInfoToGo"):o("usuario/info",s,"usrInfoToGetR")}}function r(e,t){sessionStorage.removeItem(e),sessionStorage.setItem(e,t)}Object.defineProperty(n,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.sendPostToGo=a,n.sendPostToGet=o;var c=e("./locating.js"),d=e("./displayErrs.js"),g=e("./consoling.js"),m=e("./urlEncoder.js"),u=$("#successEditProfile").find("span.datoDetail")},{"./consoling.js":9,"./displayErrs.js":10,"./locating.js":13,"./urlEncoder.js":15}],13:[function(e,t,n){"use strict";function a(e){"home"===e?window.location=r+"/web/":window.location=r+"/web/"+e}Object.defineProperty(n,"__esModule",{value:!0}),n.navigating=a;var o=window.location.pathname,s=o.search("/web"),i=o.slice(s),r=(n.pathnameRoot=o.slice(0,s+5),n.strongRoot=o.slice(0,s)),l=n.myLocation=i;n.myLocHref=window.location.href,n.totalRoot=r+l},{}],14:[function(e,t,n){"use strict";function a(){var e=$("div.modelItem");e.length&&o(e)}function o(e){var t=$(e).find("img").first(),n=$(e).find("img"),a=t.width(),o=.6309*a;n.css({height:o})}Object.defineProperty(n,"__esModule",{value:!0}),n.sizingModelItms=a,n.alleGleichlich=o},{}],15:[function(e,t,n){"use strict";function a(){for(var e,t={},n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++)e=n[a].split("="),t[e[0]]=e[1];return t}function o(){var e=window.location.href,t=e.indexOf("?");return t!==-1&&(c=e.slice(t)),c}function s(e){var t=[],n="";$.map(e,function(e,n){t.push(n+"="+e)}),$.each(t,function(e,t){t=0===e?"?"+t:"&"+t,n+=t}),console.log(n)}Object.defineProperty(n,"__esModule",{value:!0}),n.setQueriesWithObj=s;var i=window.location.href,r=i.indexOf("?"),l=r!==-1?i.slice(r):"",c="";n.hashesExist=l.length>3,n.queriesT=a(),n.queryText=o()},{}],16:[function(e,t,n){"use strict";var a=e("./commonFunc/locating.js"),o=e("./commonFunc/consoling.js"),s=(e("./commonFunc/urlEncoder.js"),e("./commonFunc/httpProcesor.js")),i=e("./commonFunc/changeProfilePhoto.js");$(function(){if("/web/perfil/configuracion"===a.myLocation||"/web/perfil/configuracion.html"===a.myLocation){var e,t,n,r,l,c,d,g,m,u,f;!function(){var a=function(e){void 0!==e&&null!==e&&(clearInterval(f),e=JSON.parse(e),v(e))},v=function(t){(0,o.con)(t),g=t[0],m=t[0].foto_perfil,$.map(t[0],function(t,n){if("foto_perfil"===n)$("img."+n).attr("src","data:image/png;base64,"+t);else if("genero"===n){var a=y.find("input[name='"+n+"']");a.each(function(e,n){$(n).val()===t&&$(n).attr("checked",!0)})}else if("mca_okmail"===n){var o=parseInt(t);1===o&&b("y")}else y.find("input[name='"+n+"']").val(t),"tags"===n&&y.find("textarea[name='"+n+"']").val(t),"invitado_por"===n&&(d=t,"Usuario Pruebas"===t||null===t?(y.find("input[name='"+n+"']").removeAttr("readonly"),e=!0):e=!1)})},p=function(){if(!r){r=!0;var e=k.val(),t=T.val(),n=A.val();if(""!==t&&t===n&&""!==n&&""!==e&&t!==e){c=!0;var a=JSON.stringify({device:sessionStorage.getItem("deviceId"),geoloc:sessionStorage.getItem("location"),user:localStorage.getItem("aUsr"),actual:e,nueva:t});(0,s.sendPostToGet)("usuario/cambiapsw",a,"usrPass")}else alert("las nuevas contrase√±as no son iguales"),c=!1,r=!1}},h=function(e,t){parseInt(e);sessionStorage.setItem("temptyNewContact",t.toString());var n={device:sessionStorage.getItem("deviceId"),user:localStorage.getItem("aUsr"),campo:"refered",dato:e};n=JSON.stringify(n),(0,s.sendPostToGet)("usuario/actualizadato",n,"usrContact")},I=function(e){e.foto=m,(0,o.con)(e),e=JSON.stringify(e),c?(0,s.sendPostToGet)("usuario/actualizar",e,"usrFullEdit"):null},S=function(){var e=$(window).outerWidth(),t=P.height(),n=P.width(),a=N.width(),o=N.height(),s=t/2-o/2,i=n/2-a/2;N.css({"margin-top":s-12,"margin-left":i-12}),b(null),e<768?(w.removeClass("NorightP halfL").addClass("noPadding"),x.removeClass("NoleftP halfR").addClass("noPadding"),C("down")):e>=768&&(w.addClass("NorightP halfL").removeClass("noPadding"),x.addClass("NoleftP halfR").removeClass("noPadding"),C(e<992?"down":"up"))},b=function(e){if("y"===e)t=!0,_.css({"padding-right":"5px !important"}),U.remove();else if(!t){var n=U.outerWidth();_.css({"padding-right":n+4})}},C=function(e){"down"===e?(L.removeClass("NoleftP halfR").css({padding:"0px 0px 6px"}),J.removeClass("NorightP halfL").css({padding:"6px 0px 0px"}),A.closest("div.col-md-6").removeClass("NorightP halfL").addClass("noPadding"),T.closest("div.col-md-6").removeClass("NoleftP halfR").addClass("noPadding"),F.removeClass("NorightP halfL").addClass("NoleftP halfR"),E.addClass("NorightP halfL")):(A.closest("div.col-md-6").addClass("NorightP halfL").removeClass("noPadding"),T.closest("div.col-md-6").addClass("NoleftP halfR").removeClass("noPadding"),L.addClass("NoleftP halfR"),J.addClass("NorightP halfL").removeClass("noPadding"))},y=$("form#configForm"),w=$("div.formSecondPart"),x=$("div.formFirstPart"),P=$("div.passwordChangeArea"),N=$("button.passEditBtn"),j=$("div.passwordChangeInptsCont"),k=$("input#inpOldPass"),T=$("input#inpPassNew"),A=$("input#inpPassNewConf"),_=$("input.mailInpEdit"),U=$("button.validateMailBtn"),O=$("input#referido"),F=$("div.profileImgCont"),E=$("div.editTagsCont"),J=$("div.divMaterno"),L=$("div.divPaterno");e=!1,t=!1,n=!1,r=!1,l=!1,c=!0,d="",g={},m="",u={device:sessionStorage.getItem("deviceId"),geoloc:sessionStorage.getItem("location"),user:localStorage.getItem("aUsr")},$(document).ready(function(){S()}),$(window).resize(function(){S()}),f=setInterval(function(){a(sessionStorage.getItem("currentUserInfo"))},5),N.click(function(){$(this).addClass("hiddenItm"),j.css({visibility:"visible"}),n=!0,k.prop("required",!0),T.prop("required",!0),A.prop("required",!0)}),$(document).on("click","li.posibleFriend",function(e){var t=$(this).find("span.friendId").text();sessionStorage.setItem("idPsFriend",t)}),$(document).on("click","div.ok",function(){l=!0,setTimeout(function(){F.find("img").length&&(F.css({"background-image":"none"}),m=F.find("img").attr("src").replace(/^data:image\/(png|jpg);base64,/,""),sessionStorage.setItem("temptyImgForLocal",m.toString()))},200)}),y.submit(function(t){t.preventDefault();var a=$(this).serializeArray();if(a.forEach(function(t,a){if("invitado_por"===t.name&&e){var o=O.val();o!==d?h(sessionStorage.getItem("idPsFriend"),o):null}else"actual"===t.name||"nueva"===t.name||"nuevaConf"===t.name?""!==t.value&&n?p():null:"nombre"!==t.name&&"paterno"!==t.name&&"materno"!==t.name&&"genero"!==t.name&&"tags"!==t.name&&"fecha_nac"!==t.name||$.isEmptyObject(g)||("fecha_nac"!==t.name?g[t.name]==t.value?u[t.name]=g[t.name]:u[t.name]=t.value:g[t.name]==t.value?u.fecha_nacimiento=g[t.name]:u.fecha_nacimiento=t.value)}),l){var o=parseInt(localStorage.getItem("aUsr"));(0,i.changeProfilePhoto)(m,o)}I(u)})}()}})},{"./commonFunc/changeProfilePhoto.js":8,"./commonFunc/consoling.js":9,"./commonFunc/httpProcesor.js":12,"./commonFunc/locating.js":13,"./commonFunc/urlEncoder.js":15}],17:[function(e,t,n){"use strict";e("./commonFunc/consoling.js");$(function(){function e(){s.next("label#referido-error").css({display:"none"})}function t(){var e=s.outerWidth();i.css({height:0,border:0,width:e}),r.outerWidth(e)}function n(e){if(a(),e.length>0){e=e.replace(/ /g,"");var t=JSON.stringify({abuscar:e});$.post("https://vrummapp.net/ws/v2/usuario/buscarqtinv",t).then(function(e){o(e)}).fail(function(e){o("noOne")})}}function a(){var e='<li class="posibleFriend noFriends regInputs"><span class="psFrName"></span><span class="psFrAlias">Nadie con ese nombre </span> </li>';$("li.posibleFriend").each(function(e,t){e>0&&t.remove()}),s.val().length>0&&i.append(e);var t=i.children("li").length;i.animate({height:25*t},20)}function o(e){var t=[],n=i.children("li"),a=[];$.map(n,function(e,t){var n=$(e).find("span.friendId").html();a.push(n)}),"noOne"!==e&&(t=e.mensaje.rs,t.forEach(function(e,t){var n='<li class="posibleFriend regInputs">\n\t\t\t\t\t\t\t\t\t<span class="psFrName">'+e.full_name+'</span>\n\t\t\t\t\t\t\t\t\t<span class="friendId">'+e.id+'</span>\n\t\t\t\t\t\t\t\t\t<span class="psFrAlias">'+e.alias+"</span>\n\t\t\t\t\t\t\t\t</li>";if($("li.noFriends")&&$("li.noFriends").remove(),e.id.length>0){var o=parseInt(e.id),s=e.id.toString(),r=a.indexOf(o),l=a.indexOf(s);l===-1&&r===-1&&i.append(n)}}));var n=i.children("li").length;i.animate({height:25*n},20)}var s=$("input#referido"),i=$("ul.posibleFriendsList"),r=i.children("li"),l=$("div.errorFriendNick");$(document).ready(function(){t()}),$(window).resize(function(){t()}),s.on("keyup",function(t){var o=$(this).val();8===t.which&&(setTimeout(e,5),a()),o.length>0&&n(o)}),s.focus(function(){var t=$(this).val();t.length>0?n(t):a(),setTimeout(e,5),l.css({display:"none"});var o=i.children("li").length;i.animate({height:25*o},20)}).blur(function(){setTimeout(e,5),setTimeout(function(){i.animate({height:0},20)},190)}),$(document).on("click","li.posibleFriend",function(){var e=($(this).children("span.friendId").html(),$(this).children("span.psFrAlias").html());void 0!==e&&s.val(e)})})},{"./commonFunc/consoling.js":9}],18:[function(e,t,n){"use strict";e("./commonFunc/consoling.js");$(function(){function e(){var e=$(window).width();e<420?(m.hide(),d.removeClass("col-xs-2").addClass("col-xs-3"),g.removeClass("col-xs-2").addClass("col-xs-3")):(d.addClass("col-xs-2").removeClass("col-xs-3"),m.show(),g.addClass("col-xs-2").removeClass("col-xs-3"))}function t(){var e=s.width(),t=e/2+20;s.css({height:e}),c.height(t),n(e)}function n(e){var t=o.children(),n=0;t.each(function(e,t){1!==e&&(n+=$(t).height())}),o.height(n-6);var a=$(window).width();r.css({top:-(e/2)+"px"}),l.css({top:-(e+6)+"px"}),a>420&&a<750.5?(s.removeClass("col-xs-4").addClass("col-xs-3 NorightM halfML"),f.removeClass("NotopM"),i.removeClass("col-xs-7 NorightP").addClass("col-xs-8"),d.removeClass("col-xs-offset-4 noPadding").addClass("col-xs-offset-3 NorightP"),m.removeClass("col-xs-offset-2").addClass("col-xs-offset-3")):a<420?(s.removeClass("col-xs-3").addClass("col-xs-4"),i.addClass("col-xs-7").removeClass("col-xs-8"),d.addClass("col-xs-offset-4").removeClass("col-xs-offset-3"),m.addClass("col-xs-offset-2").removeClass("col-xs-offset-3")):a>750.5&&a<975?(s.removeClass("NorightM halfML"),f.addClass("NotopM"),i.addClass("NorightP"),d.removeClass("dblleftP NorightP").addClass("noPadding")):a>=975&&(s.removeClass("NorightM halfML"),f.addClass("NotopM"),i.addClass("NorightP"),d.removeClass("noPadding").addClass("dblleftP NorightP"))}function a(){var e=$(window).width(),t=$(window).outerWidth();console.log(e,"windowWidth"),console.log(t,"outerWidth"),e<481?u.addClass("col-xs-12").removeClass("col-xs-6"):u.removeClass("col-xs-12").addClass("col-xs-6"),e<975?(j.forEach(function(e,t){$.map(C,function(n,a){t<=1?e.removeClass(n).css({padding:"0 0 6.5px 0"}):e.removeClass(n).css({padding:"6.5px 0 0 0"})})}),y.addClass("NoleftP halfR").removeClass("NorightP"),w.css({height:"100%"}).addClass("NorightP halfL"),e<880?S.css({width:"387",left:"-6%"}):S.css({width:"459",left:"0"})):e>=975&&(j.forEach(function(e,t){$.map(C,function(t,n){e.addClass(t).css({"padding-top":0,"padding-bottom":0})})}),y.removeClass("NoleftP halfR butVertHalf").css({"padding-top":"7.5px","padding-bottom":"7.5px"}).addClass("NorightP halfL"),w.css({height:"auto"}).removeClass("NorightP halfL"),S.closest("div").css({"text-align":"center"}),S.css({width:"459",left:"0"}),e>1070&&e<1278?(S.css({width:"535"}),b.removeClass("col-lg-5 col-lg-offset-1")):e>1278&&(b.addClass("col-lg-5 col-lg-offset-1").removeClass("col-lg-offset-2 col-lg-4"),e<1472&&b.addClass("col-lg-offset-1 col-lg-5")))}var o=$("header.p-header"),s=$("div.p-profilePhoto"),i=$("div.p-profileInfo"),r=$("div.p-profileInfoCont"),l=$("div.p-profActDetCont"),c=$("div.garagaInfoDetails"),d=$("div.garageCarsCounter"),g=$("div.garageShareCounter"),m=$("div.membershipDateCounter"),u=$("div.garageImgCont"),f=$("h4.profileName"),v=$("#inputPassword").closest("div.col-md-6"),p=$("#inputPassword2").closest("div.col-md-6"),h=$("#inputPaterno").closest("div.col-md-6"),I=$("#inputMaterno").closest("div.col-md-6"),S=$("img.sideImage"),b=$("div.sideImageCont"),C=["NorightP","NoleftP"],y=$("#r-fileInputGrp"),w=$("#r-textACont"),x=($("#registrationTitle"),$("div.errorLogin")),P=$("input#l-pass"),N=$("input#l-email");$("#simInputsCont");N.focus(function(){"block"===x.css("display")&&x.css({display:"none"})}),P.focus(function(){"block"===x.css("display")&&x.css({display:"none"})});var j=[v,h,p,I];$(document).ready(function(){n(s.width()),t(),e(),a()}),$(window).resize(function(){n(s.width()),t(),e();var o=$(window).width();console.log(o),a()})})},{"./commonFunc/consoling.js":9}],19:[function(e,t,n){"use strict";var a=e("./commonFunc/backPage.js"),o=e("./commonFunc/locating.js"),s=e("./commonFunc/activeSessionNav.js"),i=e("./commonFunc/httpProcesor.js"),r=e("./commonFunc/consoling.js"),l=e("./commonFunc/brandsImgs.js");(0,l.askBrands)(),$(function(){function e(e,t){var n=localStorage.getItem("activeSession");"never"!==e&&("yes"===n?(O.load("../templates/navbarIn.html"),(0,s.navInfo)()):O.load("../templates/navbarOut.html")),null===t?"yes"===n?F.load("../templates/footerIn.html"):F.load("../templates/footerOut.html"):"/web/"!==o.myLocation&&"/web/index"!==o.myLocation&&"/web/index.html"!==o.myLocation?F.load("../templates/footerIn.html"):F.load("./templates/footerIndex.html")}function t(){var e="",t=sessionStorage.getItem("deviceId");sessionStorage.removeItem("nickGood"),sessionStorage.removeItem("mailGood"),null!==t&&void 0!==t?(e=t,(0,r.con)("el device id fue el mismo")):((0,r.con)("el device id no fue el mismo"),d(),(0,r.con)(e))}function n(e){var t={},n=g(),a=e,o=["device","type","serie","os"],s={device:n},i={type:"web"},r={serie:n},c=[];void 0===a?a={os:"noAccesible"}:(a={os:a},c=[s,i,r,a]),0!==c.length&&(o.forEach(function(e,n){t[e]=c[n][e]}),t=JSON.stringify(t),$.post("https://vrummapp.net/ws/v2/acceso/getdevice",t).then(function(e){if(1===e.estado){var t=e.mensaje.rs[0].id;l(t)}}).fail(function(e){console.log(e)}))}function l(e){return 0===x?(w=e.toString(),x++,void sessionStorage.setItem("deviceId",w)):w}function c(e){P=e.value,n(P)}function d(){(new Fingerprint2).get(function(e,t){g(e),c(t[0])})}function g(e){return 0===N?(C=e,void N++):C}function m(e){return 0===y?(b=e,void y++):b}function u(){var e=sessionStorage.getItem("location");void 0!==e&&null!==e?m(e):navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,n=e.coords.longitude;I=t+", "+n,m(I),sessionStorage.setItem("location",I)})}function f(e){var t=T.children("li");return $.map(t,function(n,a){var o=$(t[a]).find("span.psFrAlias").html(),s=$(t[a]).find("span.friendId").html();if(o===e)return void 0!==s&&null!==s&&s.length>0&&(s=s.toString(),sessionStorage.setItem("idPsFriend",s)),!0})}function v(e){return null!==e?void(S=e):S}function p(e){var t={},n=l(),a=n,o={device:a},s=m(),r=v(null);if(s=void 0===s?{geoloc:"noAccesible"}:{geoloc:s},r=void 0===r||null===r?{foto:""}:{foto:r},void 0!==e&&e.length>0){e.unshift(o,s,r),$.each(e,function(n,a){if(n<=2)for(var o in a)t[o]=e[n][o];else"refered_by"===a.name?t[a.name]=sessionStorage.getItem("idPsFriend"):"tags"===a.name?t[a.name]=a.value+", "+t.alias+", "+t.email+", "+t.nombre:t[a.name]=a.value});var c=JSON.stringify(t),d=sessionStorage.getItem("mailGood"),g=sessionStorage.getItem("nickGood");if("yes"===d&&"yes"===g)(0,i.sendPostToGo)("usuario/registro",c,"perfilr");else{var u="<p id='nicknameText' class='badText'>Te falto alg√∫n dato o escribiste algo mal</p>";_.before(u)}}}d();var h=!1;h&&t();var I,S,b,C=0,y=0,w=0,x=0,P="",N=0,j=($("#alias"),$("button#goToLogin")),k=$("input#referido"),T=$("ul.posibleFriendsList"),A=$("div.errorFriendNick"),_=$("button.registrarbtn"),U=$("div#r-inpFileImgCont"),O=$("nav.myNavBar"),F=$("div.mainFooter");j.click(function(){(0,o.navigating)("home")}),$(document).ready(function(){$(this).scrollTop(0),u(),"/web/"!==o.myLocation&&"/web/registro/"!==o.myLocation&&"/web/index"!==o.myLocation&&"/web/registro/index"!==o.myLocation&&"/web/index.html"!==o.myLocation&&"/web/registro/index.html"!==o.myLocation?e(null,null):e("never","never")});var E=$("div#failLog");$(document).on("click","li.disabled",function(){E.modal()}),$(window).resize(function(){}),$(document).on("click","span.navbarBackBtn",function(){(0,a.backing)(o.myLocation)});var J=$("form#registro");$("input.genderM"),$("input.genderF");J.on("submit",function(e){e.preventDefault();var t=$(this).serializeArray(),n=k.val();if(n.length>0&&"Sin invitaci√≥n"!==n){var a=f(n);a.length>0&&a[0]===!0?p(t):A.toggle()}else"Sin invitaci√≥n"===n&&p(t)}),$(document).on("click","div.ok",function(){setTimeout(function(){if(U.find("img").length){var e=U.find("img").attr("src").replace(/^data:image\/(png|jpg);base64,/,"");v(e)}},200)});$(document).on("click","a.closeSession",function(){localStorage.clear();var e=["currentUserId","currentUserInfo","idPsFriend","currentUserAlias","currentUserGarage","infoChange","contactChange","passwordChange"];$.map(e,function(e,t){console.log(e),sessionStorage.removeItem(e)})})})},{"./commonFunc/activeSessionNav.js":5,"./commonFunc/backPage.js":6,"./commonFunc/brandsImgs.js":7,"./commonFunc/consoling.js":9,"./commonFunc/httpProcesor.js":12,"./commonFunc/locating.js":13}],20:[function(e,t,n){"use strict";var a=e("./commonFunc/locating.js"),o=(e("./commonFunc/consoling.js"),e("./commonFunc/httpProcesor.js"));$(function(){function e(){r(),v.disNone(),p.an().remove(),f.an().remove(),S.disNone(),C.disNone(),y.disBlock(),b.disBlock(),P.disBlock(),w.css({display:"flex"}).removeClass("centerAlone"),x.addClass("NorightM halfML"),I=!0}function t(){I=!1,w.disBlock().addClass("centerAlone"),h.after(p),v.after(f),b.disNone(),S.disBlock(),y.disNone(),C.disBlock(),p.an(),f.an().click(e),P.disNone(),x.removeClass("NorightM halfML")}function n(e){var t=JSON.stringify(e);"/web/"!==a.myLocation&&"/web/index"!==a.myLocation&&"/web/index.html"!==a.myLocation?(0,o.sendPostToGo)("usuario/login",t,"perfilLogIrgenwo"):(0,o.sendPostToGo)("usuario/login",t,"perfilLog")}function s(e,t){$.post("https://vrummapp.net/ws/v2/usuario/getpasswd",e).then(function(e){2===e.estado&&(null===t?($("div#failLog").length&&$("div#failLog").modal("hide"),l()):N.hide())}).fail(function(e){i(),console.log(e)})}function i(){v.disBlock(),d.val(""),g.val("")}function r(){var e=x.prev("p#nicknameText");e.remove(),p.disBlock()}function l(){N.css({display:"flex"});var e=sessionStorage.getItem("deviceId");e=e.toString();var t=d.val(),n=sessionStorage.getItem("location"),a={device:e,mail:t,geoloc:n};k.click(function(){a=JSON.stringify(a),s(a,"etw")})}var c=$("#login"),d=$("#l-email"),g=$("#l-pass"),m=$("button#goToReg"),u=$("button#goToCatBrand"),f=$("div.passRecover"),v=$("div.errorLogin"),p=$("div#l-passCont"),h=$("div#r-emailInputGrp"),I=!1,S=$("span#normalText"),b=$("span#recoverPassTxt"),C=$("span#subBtnNrTxt"),y=$("span#subBtnRecTxt"),w=$("div.loginBtnCont"),x=$("button.registrarbtn"),P=$("button.cancelarBtn"),N=$("div.passModalCont"),j=$("span.closeModal"),k=$("div.resendPart");$("span.mailRecover");d.focus(r),g.focus(r),f.click(e),P.click(t),m.click(function(){(0,o.sendPostToGet)("catalogo/getmarcas",null,"brands"),(0,a.navigating)("registro")}),j.click(function(){N.hide()}),u.click(function(){(0,o.sendPostToGo)("catalogo/getmarcas",null,"brands")}),c.submit(function(e){e.preventDefault();var a=sessionStorage.getItem("deviceId");if(a=a.toString(),I){t();var o=d.val(),i=sessionStorage.getItem("location"),r={device:a,mail:o,geoloc:i};r=JSON.stringify(r),s(r,null)}else{var l=$(this).serializeArray(),c={device:a};$.map(l,function(e,t){c[e.name]=e.value}),n(c)}}),$.fn.disNone=function(){return this.css({display:"none"}),this},$.fn.disBlock=function(){return this.css({display:"block"}),this},$.fn.an=function(){return this.animate({height:"toggle"},200),this}})},{"./commonFunc/consoling.js":9,"./commonFunc/httpProcesor.js":12,"./commonFunc/locating.js":13}],21:[function(e,t,n){"use strict";e("./commonFunc/consoling.js");$(function(){var e=$("input#inputEmail"),t=($("#l-email"),$("input#inputPassword")),n=$("div.passRecover"),a=$("button.registrarbtn.loginBtn"),o=$("input#inputPassword2");$.fn.validatePass=function(){function e(e){var n=t.val();if(n.length>0&&n!==e){var a="<p id='passConfText' class='badText'>Las contrase√±as no coinciden</p>";o.after(a)}}return $(this).keyup(function(){var e=$("p#passConfText");e.remove()}),$(this).focus(function(){var e=$("p#passConfText");e.remove()}).blur(function(){var t=$(this).val();e(t)}),this},o.validatePass(),$.fn.validateMail=function(e,t){function o(e){if(e.length>0){var t=sessionStorage.getItem("deviceId");t=t.toString();var n=JSON.stringify({email:e,device:t});$.post("https://vrummapp.net/ws/v2/usuario/validacorreo",n).then(function(e){2===e.estado?s(e):1===e.estado&&i(e)}).fail(function(e){s("noOne")})}}function s(n){var a=e.val();if("noOne"!==n&&"l"===t){var o="<p id='mailValText' class='goodText'>"+a+" es un buen mail</p>";sessionStorage.setItem("mailGood","yes"),r(),e.after(o)}else if("noOne"===n){$("p#mailValText");r(),sessionStorage.setItem("mailGood","no")}else if("noOne"!==n&&"r"===t){sessionStorage.setItem("mailGood","no");var s="<p id='mailValText' class='badText'>"+a+" es un mail que ya existe</p>";r(),e.after(s)}}function i(n){var a=e.val();if("r"===t){var o="<p id='mailValText' class='goodText'>"+a+" es un buen mail</p>";sessionStorage.setItem("mailGood","yes"),r(),e.after(o)}else if("l"===t){var s="<p id='mailValText' class='badText'>"+a+" es un mail que no existe a√∫n</p>";sessionStorage.setItem("mailGood","no"),r(),e.after(s)}}function r(){var e=$("p#mailValText");e.remove()}return $(document).ready(function(){setTimeout(function(){var t=$(e).val();void 0!==t&&t.length>0&&o(t)},300)}),n.click(function(){var t=$(e).val();void 0!==t&&t.length>0&&o(t)}),a.click(function(){var t=$(e).val();void 0!==t&&t.length>0&&o(t)}),$(this).keyup(function(){var e=$("p#mailValText");e.remove()}),$(this).focus(function(){var e=$("p#mailValText");e.remove();var t=$(this).val();t.length>0&&o(t)}).blur(function(){var e=$(this).val();o(e)}),this},e.validateMail(e,"r")})},{"./commonFunc/consoling.js":9}],22:[function(e,t,n){"use strict";e("./commonFunc/consoling.js");$(function(){var e=$("input#alias");$.fn.nicknameValidation=function(e){function t(e){if(e.length>0){var t=JSON.stringify({nickname:e});$.post("https://vrummapp.net/ws/v2/usuario/validanickname",t).then(function(e){2===e.estado?a(e):1===e.estado&&n(e)}).fail(function(e){n("noOne")})}}function n(t){var n=e.val();if("noOne"!==t){var a="<p id='nicknameText' class='goodText'>"+n+" es un nickname bueno</p>";sessionStorage.setItem("nickGood","yes"),e.after(a)}else{var o="<p id='nicknameText' class='badText'>"+n+" es un nickname que ya existe</p>";e.after(o),sessionStorage.setItem("nickGood","no")}}function a(){var t=e.val(),n="<p id='nicknameText' class='badText'>"+t+" es un nickname que ya existe</p>";sessionStorage.setItem("nickGood","no"),e.after(n)}$(this).keyup(function(){var e=$("p#nicknameText");e.remove()}),$(this).focus(function(){var e=$("p#nicknameText");e.remove()}).blur(function(){var e=$(this).val();t(e)})},e.nicknameValidation(e)})},{"./commonFunc/consoling.js":9}],23:[function(e,t,n){"use strict";$(function(){function e(){s=!0}function t(){s=!1}var n=!0,a=$("div.passModalCont"),o=$("div.recoverPassModal"),s=!1;o.mouseleave(function(){t(),setTimeout(function(){n=!0},3)}),o.mousemove(function(){e()}),o.mouseenter(function(){e()}),a.mouseleave(function(){e(),n=!0}),a.mouseenter(function(){n&&(t(),n=!1)}),a.click(function(){setTimeout(function(){s||a.hide()},210)})})},{}],24:[function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("./commonFunc/locating.js"),s=e("./commonFunc/consoling.js"),i=e("./commonFunc/sizingGarageImgs.js"),r=e("./commonFunc/urlEncoder.js"),l=(e("./commonFunc/httpProcesor.js"),e("./commonFunc/changeProfilePhoto.js")),c=e("./commonFunc/getversiones.js");$(function(){if("/web/perfil/"===o.myLocation||"/web/perfil/index"===o.myLocation||"/web/perfil/index.html"===o.myLocation){var e,t,n,d,g,m,u,f,v,p,h,I,S,b,C,y,w,x,P,N,j,k,T,A,_,U,O,F,E,J,L,G,B;!function(){var M=function(){var e=.6309*v.width();v.css({height:e})},V=function(e){var t=$(e).find("div.userCarCatCont"),n=t.find("div.selectionContainer"),a=n.find("div.notSelectedCat"),o=a.prev("div.selectedCat"),s=o.children("div");s.appendTo(a),E.appendTo(o);var i="yes";q(e),D(E,e,i)},q=function(e){var t=$(e).find("span.msgErrAddCat");t.removeClass("hiddenItm"),setTimeout(function(){t.addClass("hiddenItm")},3e3)},R=function(e,t,n,a){"none"===a.css("display")?(a.css({display:"flex"}),e.width(108),t.width(108),n.addClass("grayColor")):(a.css({display:"none"}),e.width("100%"),t.width(36),n.removeClass("grayColor"))},D=function(e,t,n){var a=["dream","someday","soonday"],o="",s=$(t).find("span.garageUsrCarId").text();a.forEach(function(a,i){e.hasClass(a)&&(o=a,"yes"!==n&&z(o,s,t)),t.hasClass(a)&&t.removeClass(a)}),t.addClass(o,s)},z=function(e,t,n){var a=sessionStorage.getItem("currentUserId"),o=sessionStorage.getItem("deviceId"),s={user:a,device:o,tipo:e,garage:t};s=JSON.stringify(s),$.post("https://vrummapp.net/ws/v2/garage/cambiartipo",s).then(function(e){1!==e.estado&&V(n)}).fail(function(e){V(n),console.log(e)})},H=function(e){if(null!==e&&void 0!==e&&"nothing stored"!==e)if(clearInterval(F),d=JSON.parse(e),r.hashesExist)if(r.queriesT.al.length>0&&null!==sessionStorage.getItem("currentUserAlias")){var t=sessionStorage.getItem("currentUserAlias");if(t==r.queriesT.al)X();else if(null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")){var n=JSON.parse(localStorage.getItem("visitedUsrs"));n.forEach(function(e,t){alias==e.al?Q(e.id):null})}else K(r.queriesT.al)}else X();else X();else if(null===e||"nothing stored"===e||void 0===e)if(r.hashesExist){if(r.queriesT.al.length>0&&null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")){var n=JSON.parse(localStorage.getItem("visitedUsrs"));n.forEach(function(e,t){r.queriesT.al==e.al?(Q(e.id),clearInterval(F)):null})}}else S>=100&&null!==sessionStorage.getItem("currentUserId")&&void 0!==sessionStorage.getItem("currentUserId")&&(clearInterval(F),Q(sessionStorage.getItem("currentUserId")))},W=function(e){null!==e&&void 0!==e&&"nothing stored"!==e&&(clearInterval(O),e=JSON.parse(e),$.isArray(e)?e.length>0&&(r.hashesExist?e[0].alias==r.queriesT.al?(Y(e[0]),j=parseInt(e[0].id)):K(r.queriesT.al):(Y(e[0]),j=parseInt(e[0].id))):"object"===("undefined"==typeof e?"undefined":a(e))&&null!==e?r.hashesExist?e.alias==r.queriesT.al?(Y(e),j=parseInt(e.id)):K(r.queriesT.al):(Y(e),j=parseInt(e.id)):(0,s.con)("no user"))},K=function(e){var t={alias:e};if(t=JSON.stringify(t),null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")){var n=JSON.parse(localStorage.getItem("visitedUsrs"));n.forEach(function(t,n){e==t.al?Q(t.id):null})}$.post("https://vrummapp.net/ws/v2/usuario/info",t).then(function(e){if(1===e.estado){var t=e.mensaje.rs;Y(t[0]),j=parseInt(t[0].id);var n=-1,a=null!==localStorage.getItem("visitedUsrs")&&void 0!==localStorage.getItem("visitedUsrs")?JSON.parse(localStorage.getItem("visitedUsrs")):[];a.forEach(function(e,t){var a=parseInt(e.id);a===j&&(n=t)}),n===-1&&(a.push({al:t[0].alias,id:t[0].id}),a=JSON.stringify(a),localStorage.setItem("visitedUsrs",a)),T?null:Q(j),t=JSON.stringify(t),sessionStorage.setItem("currentUserInfo",t)}}).fail(function(e){console.log(e)})},Q=function(e){var t=sessionStorage.getItem("deviceId"),n={idUsr:e,device:t};n=JSON.stringify(n),$.post("https://vrummapp.net/ws/v2/garage/listar",n).then(function(e){1===e.estado?(d=e.mensaje.rs,T=!0,X()):2===e.estado&&((0,s.con)("sin autos en garage"),Z(),f.addClass("hiddenItm"),u.removeClass("hiddenItm"))}).fail(function(e){console.log(e)})},Y=function(e){$.map(e,function(e,t){if("created_at"===t){e.trim();var n=e.indexOf(" ");e=e.slice(0,n)}else if("full_name"===t){e.trim();var n=e.indexOf(" ");e=e.slice(0,n),A.attr("content",e+" est√° en Vrumm"),_.attr("content","Checa los coches en el garage de "+e)}else"foto_perfil"===t&&null!==e&&(J=!0,e="data:image/png;base64,"+e);$.each(N,function(n,a){if(t===a){var o=P[n];"foto_perfil"===a&&J?($(o).css({"background-image":"url("+e+")"}),U.attr("content",e)):"foto_perfil"!==a||J?$(o).html(e):$(o).css({"background-image":"url(../img/profileDafault.png)"})}})})},X=function(){var e=['<div class="calendarGroup someday">\n\t                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">\n\t                      <path d="M16.2 2.2v0.6 0.6 0 0.4c0 0.9-0.8 1.7-1.7 1.7s-1.7-0.7-1.7-1.7V3.4 2.8 2.2H8.1v0.6 0.6 0.4c0 0.9-0.8 1.7-1.7 1.7 -0.9 0-1.7-0.7-1.7-1.7V3.4v0V2.8v0V2.2C3.2 2.3 2 3.4 2 4.8v0.3 2.5 8.6C2 17.7 3.3 19 4.9 19h11.2c1.6 0 2.9-1.3 2.9-2.9V7.5 5.1 4.8C19 3.4 17.7 2.2 16.2 2.2zM17.7 16.1c0 0.9-0.7 1.6-1.6 1.6H4.9c-0.9 0-1.6-0.7-1.6-1.6V7.5h14.5V16.1zM6.4 4.5c0.4 0 0.7-0.3 0.7-0.7V3.4 2.8 2.2 1.7C7.2 1.3 6.8 1 6.4 1 6 1 5.7 1.3 5.7 1.7v0.5 0.6 0.6 0.4C5.7 4.2 6 4.5 6.4 4.5zM14.5 4.5c0.4 0 0.7-0.3 0.7-0.7V3.4 2.8 2.2 1.7c0-0.4-0.3-0.7-0.7-0.7 -0.4 0-0.7 0.3-0.7 0.7v0.5 0.6 0.6 0.4C13.8 4.2 14.1 4.5 14.5 4.5zM8.4 16.1c0.8 0 1.4-0.2 1.9-0.7 0.4-0.5 0.6-1 0.6-1.6 0-0.6-0.2-1-0.5-1.3 -0.1-0.1-0.2-0.2-0.3-0.2 -0.1-0.1-0.2-0.2 0-0.3 0.1-0.1 0.2-0.1 0.2-0.2 0.2-0.3 0.4-0.6 0.4-1.1 0-0.6-0.2-1.1-0.6-1.4C9.6 9 9.1 8.8 8.4 8.8 8 8.8 7.7 8.9 7.4 9S7 9.2 6.8 9.3c-0.2 0.2-0.4 0.5-0.5 0.8 -0.1 0.2-0.1 0.5-0.2 0.7 0 0.2 0.1 0.3 0.3 0.3h0.7c0.2 0 0.3-0.1 0.3-0.3 0-0.2 0.1-0.4 0.2-0.5C7.8 10.1 8 10 8.3 10 8.6 10 8.8 10 9 10.2c0.2 0.2 0.2 0.4 0.2 0.7 0 0.4-0.2 0.7-0.5 0.8 -0.1 0.1-0.3 0.1-0.6 0.1 -0.2 0-0.3 0.2-0.3 0.3v0.4c0 0.2 0.1 0.3 0.3 0.3 0.3 0 0.5 0.1 0.7 0.1 0.4 0.2 0.6 0.5 0.6 0.9 0 0.4-0.1 0.6-0.3 0.8C8.9 14.9 8.7 15 8.4 15c-0.4 0-0.8-0.2-0.9-0.5 -0.1-0.1-0.1-0.2-0.1-0.4 0-0.2-0.2-0.3-0.3-0.3H6.3c-0.2 0-0.3 0.1-0.3 0.3 0 0.4 0.2 0.8 0.3 1.1C6.7 15.8 7.4 16.1 8.4 16.1zM12.3 11.1h1.1c0.2 0 0.3 0.1 0.3 0.3v4.3c0 0.2 0.1 0.3 0.3 0.3h0.8c0.2 0 0.3-0.1 0.3-0.3V9.2c0-0.2-0.1-0.3-0.3-0.3h-0.5c-0.2 0-0.3 0.1-0.3 0.1 0 0 0 0.1 0 0.1 -0.1 0.2-0.2 0.4-0.3 0.5 -0.2 0.2-0.4 0.3-0.7 0.4 -0.1 0-0.3 0.1-0.6 0.1 -0.2 0-0.3 0.2-0.3 0.3v0.3C12 10.9 12.1 11.1 12.3 11.1z" />\n\t                </svg>\n\t            </div>','<div class="heartGroup dream">\n                    <span class="userCarCat fa fa-heart"></span>\n                </div>','<div class="soonGroup soonday">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">\n                            <path d="M10.4 2c-3.7 0-6.8 2.3-8 5.5l2.2 1c0.8-2.4 3.1-4.1 5.8-4.1 3.4 0 6.1 2.7 6.1 6.1s-2.7 6.1-6.1 6.1c-2.4 0-4.5-1.4-5.5-3.4l1.8-0.7L2.2 9.7l-1.2 5 1.6-0.7C4 17 7 19 10.4 19c4.7 0 8.6-3.8 8.6-8.5S15.2 2 10.4 2z"/>\n                            <rect x="9" y="6" width="2" height="5"/>\n                            <rect x="11" y="10" transform="matrix(0.6002 -0.7999 0.7999 0.6002 -5.2003 14.5968)" width="2" height="5"/>\n                    </svg>\n                </div>'],n="",a=["someday","dream","soonday"];
k||(Z(),d.forEach(function(s,i){var r="";$.map(a,function(t,a){t===s.tipo?n=e[a]:r+=e[a]});var l=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?o.pathnameRoot+"catalogo/specific-version?al="+localStorage.getItem("aUsrA")+"&brdId="+s.brand_id+"&mdlId="+s.model_id+"&cId="+s.version_id:o.pathnameRoot+"catalogo/specific-version?brdId="+s.brand_id+"&mdlId="+s.model_id+"&cId="+s.version_id,c=null!==s.esta_comparador&&"false"!==s.esta_comparador?'<span class="fa fa-check-circle circle"></span><span class="message">En comparador</span>':'<span class="fa fa-plus-circle circle"></span><span class="message">Agrega al comparador</span>',d=null!==s.esta_comparador&&"false"!==s.esta_comparador?"defaultPointer":"",g='<div class="col-xs-12 modelItem defaultPointer noPadding col-sm-6 col-md-4 garageImgCont '+s.tipo+'">\n\t\t                            <div class="sideInfoBar">\n\t\t                            \t<span class="msgErrAddCat hiddenItm">No se pudo cambiar la categor√≠a\n\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\tIntente m√°s tarde\n\t\t                            \t</span>\n\t\t                                <div class="userCarCatCont">\n\t\t                                    <div class="selectionContainer">\n\t\t                                        <div class="selectedCat">\n\t\t                                            '+n+'\n\t\t                                        </div>\n\t\t                                        <div class="notSelectedCat">\n\t\t                                            '+r+'\n\t\t                                        </div>\n\t\t                                    </div>\n\t\t                                </div>\n\t\t                                <div class="toggleableIcons">\n\t\t                                    <div class="compareGroup '+d+'">\n\t\t                                        <span class="fa fa-long-arrow-right right"></span>\n\t\t                                        <span class="fa fa-long-arrow-left left"></span>\n\t\t                                        '+c+'\n\t\t                                    </div>\n\t\t                                    <div class="shareGroup shareLink">\n\t\t                                        <svg class="shareLink" xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">\n\t\t                                          <g>\n\t\t                                                <path d="M17.8 6.2h-2.2c-0.4 0-0.8 0.4-0.8 0.8s0.4 0.8 0.8 0.8h1.4v10.7H4.2v-10.7h1.7c0.4 0 0.8-0.4 0.8-0.8s-0.4-0.8-0.9-0.8h-2.4c-0.5 0-0.8 0.4-0.8 0.8v12.3c0 0.4 0.3 0.7 0.8 0.7h14.5c0.4 0 0.8-0.3 0.8-0.7v-12.3C18.6 6.6 18.3 6.2 17.8 6.2zM9.4 3.9l0.3-0.1v10.2c0 0.4 0.4 0.8 0.8 0.8s0.8-0.4 0.8-0.8v-10.6l0.8 0.5c0.1 0.1 0.3 0.2 0.5 0.2 0.2 0 0.4-0.1 0.6-0.3 0.3-0.3 0.3-0.8-0.1-1.1l-2-1.5c-0.3-0.2-0.7-0.3-1 0 -0.1 0.1-1.8 1.5-1.8 1.5 -0.3 0.3-0.3 0.8 0 1.1C8.6 4.2 9.1 4.2 9.4 3.9z" />\n\t\t                                          </g>\n\t\t                                        </svg>\n\t\t                                        <!-- <span class="fa fa-long-arrow-up arUp"></span>\n\t\t                                        <span class="fa fa-square-o sqEmp"></span> -->\n\t\t                                        <span class="message">Compartir</span>\n\t\t                                    </div>\n\t\t                                    <div class="toggleTrashGrp">\n\t\t                                        <span class="fa fa-trash trash"></span>\n\t\t                                        <span class="message">Eliminar</span>\n\t\t                                    </div>\n\t\t                                </div>\n\t\t                                <span class="fa fa-ellipsis-h dots"></span>\n\t\t                            </div>\n\t\t                            <a href="'+l+'" class="garageItmAnchor">\n\t\t\t                            <img  src="'+s.pic_url+'" class="noMargin garageImg img-responsive" border="0"/>\n\t\t\t                            <span class="hiddenItm garageVersionId">'+s.version_id+'</span>\n\t\t\t                            <span class="hiddenItm garageModelId">'+s.model_id+'</span>\n\t\t\t                            <span class="hiddenItm garageModelName">'+s.model_name+'</span>\n\t\t\t                            <span class="hiddenItm garageModelPrice">'+s.starting_price+'</span>\n\t\t\t                            <span class="hiddenItm garageUsrCarId">'+s.garage_id+'</span>\n\t\t\t                            <span class="hiddenItm garageUsrBrandId">'+s.brand_id+"</span>\n\t\t                            </a>\n\t\t                        </div>";f.length&&f.remove(),t.prepend(g)})),(0,i.sizingModelItms)(),k=!0},Z=function(){var e=(localStorage.getItem("aUPP"),localStorage.getItem("aUsr")),n=(localStorage.getItem("aUsrA"),sessionStorage.getItem("currentUserInfo")),s=sessionStorage.getItem("currentUserId"),i=null!==n&&void 0!==n&&"nothing stored"!==n,r={};if(i&&($.isArray(n)?r=n[0]:"object"===("undefined"==typeof n?"undefined":a(n))&&null!==n&&(r=n)),void 0!==e&&null!==e){e=parseInt(e);var l=void 0!==s&&null!==s?parseInt(s):parseInt(r.id);if(e===l){if(w.removeClass("hiddenItm"),x.removeClass("hiddenItm"),h.removeClass("hiddenItm"),y.addClass("p-profilePhoto").removeClass("p-profPict"),B.hasClass("hiddenItm")?null:B.addClass("hiddenItm"),G.hasClass("hiddenItm")?G.removeClass("hiddenItm"):null,t.hasClass("noToggleArea")?t.removeClass("noToggleArea"):null,$("nav.myNavBar").length){var c=$("nav.myNavBar");"/web/perfil/"===o.myLocation||"/web/perfil/index"===o.myLocation||"/web/perfil/index.html"===o.myLocation?c.addClass("noPhoto"):null}}else if(w.addClass("hiddenItm"),x.addClass("hiddenItm"),h.addClass("hiddenItm"),y.removeClass("p-profilePhoto").addClass("p-profPict"),B.hasClass("hiddenItm")?null:B.addClass("hiddenItm"),G.hasClass("hiddenItm")?G.removeClass("hiddenItm"):null,t.hasClass("noToggleArea")?null:t.addClass("noToggleArea"),$("nav.myNavBar").length&&i){var c=$("nav.myNavBar");c.removeClass("noPhoto")}}else"yes"!==localStorage.getItem("activeSession")&&(w.addClass("hiddenItm"),x.addClass("hiddenItm"),h.addClass("hiddenItm"),y.removeClass("p-profilePhoto").addClass("p-profPict"),G.hasClass("hiddenItm")?null:G.addClass("hiddenItm"),B.hasClass("hiddenItm")?B.removeClass("hiddenItm"):null,t.hasClass("noToggleArea")?null:t.addClass("noToggleArea"))};e=$("select#filterSelect"),t=$("div.garageGrid"),n=[],d=[],g=$("span.aliasSpan"),m=$("h4.fullName"),u=$("p.usrGarageInitialTxt"),f=$("div.sk-circle"),v=$("div.addGarageBtnCon"),p=$("span.selectCaret"),h=$("a.editProfileAnchor"),I=$("span.editProfileSpan"),S=0,b=$("span.carsNumb"),C=$("span.memDateNumb"),y=$("div#profilePict"),w=$("span.profImgCameraIcon"),x=$("span.cameraIconHead"),P=[g,C,m,b,y],N=["alias","created_at","full_name","total_garage","foto_perfil"],k=!1,T=!1,A=$("meta.metaTitle"),_=$("meta.metaDescrip"),U=$("meta.metaImg"),O=setInterval(function(){var e=sessionStorage.getItem("currentUserInfo");W(e)},5),F=setInterval(function(){var e=sessionStorage.getItem("currentUserGarage");H(e),S++},5),$(document).ready(function(){M();var e=null!==localStorage.getItem("aUsrA")&&void 0!==localStorage.getItem("aUsrA")?o.pathnameRoot+"perfil/configuracion?al="+localStorage.getItem("aUsrA"):o.pathnameRoot+"perfil/configuracion";h.attr("href",e)}),$(window).resize(function(){M();var e=$("div.modelItem");e.length&&(0,i.alleGleichlich)(e)}),h.click(function(e){}),$(document).on("click","span.dots",function(){var e=$(this).closest("div.sideInfoBar"),t=e.find("div.toggleableIcons");t.css({display:"flex"}),e.height("100%"),$(this).hide()}),$(document).on("click","div.toggleableIcons div",function(){var e=$(this).closest("div.sideInfoBar"),t=$(this).closest("div.toggleableIcons"),n=e.find("span.dots");t.css({display:"none"}),e.height("auto"),n.show()}),$(document).on("click","div.selectedCat",function(){var e=$(this).closest("div.userCarCatCont"),t=$(this).closest("div.selectionContainer"),a=$(this).find("div"),o=t.find("div.notSelectedCat");if("yes"===localStorage.getItem("activeSession")){var s=localStorage.getItem("aUsr"),i=sessionStorage.getItem("currentUserId");if(null!==s&&void 0!==s){s=parseInt(s);var r=void 0!==i&&null!==i?parseInt(i):parseInt(n.id);s===r?R(e,t,a,o):null}}}),E="",$(document).on("click","div.notSelectedCat div",function(){var e=$(this).closest("div.userCarCatCont"),t=e.find("div.selectionContainer"),n=$(this).closest("div.notSelectedCat"),a=n.prev("div.selectedCat");E=a.children("div");var o=$(this),s=e.closest("div.garageImgCont");D(o,s,null),E.appendTo(n),a.append($(this)),R(e,t,E,n)}),J=!1,$(document).on("click","div.modelItem",function(e){var t=$(e).find("a.garageItmAnchor"),n=t.children("span.garageModelId").text(),a=t.children("span.garageModelName").text(),o=t.children("span.garageModelPrice").text();(0,c.getVersions)(n,a,o,"prof")}),$(document).on("click","div.compareGroup",function(e){var t=$(this),n=t.closest("div.garageImgCont"),a=n.find("span.garageVersionId").text();console.log(t,n,a),a=parseInt(a);var o=parseInt(localStorage.getItem("aUsr")),i=sessionStorage.getItem("deviceId"),r=null!==localStorage.getItem("addedInComAutosArr")&&void 0!==localStorage.getItem("addedInComAutosArr")?JSON.parse(localStorage.getItem("addedInComAutosArr")):[],l=JSON.stringify({device:i,idUsr:o,version:a});(0,s.con)(l),$.post("https://vrummapp.net/ws/v2/comparador/agregar",l).then(function(e){1===e.estado&&($("#successComparador").modal(),r.push(a),r=JSON.stringify(r),localStorage.setItem("addedInComAutosArr",r),t.find("span.circle").removeClass("fa-plus-circle").addClass("fa-check-circle"),t.addClass("defaultPointer"),t.find("span.message").text("En Comparador"))})}),$(document).on("click","span.trash",function(){var e=$(this),t=e.closest("div.garageImgCont"),n=t.find("span.garageUsrCarId").text(),a=t.find("span.garageVersionId").text(),o=localStorage.getItem("aUsr"),i=sessionStorage.getItem("deviceId"),r={user:o,device:i,garage:n};r=JSON.stringify(r),$.post("https://vrummapp.net/ws/v2/garage/quitar",r).then(function(e){if(1===e.estado){if((0,s.con)(e),t.remove(),null!==localStorage.getItem("addedAutosArr")&&void 0!==localStorage.getItem("addedAutosArr")){var n=JSON.parse(localStorage.getItem("addedAutosArr"));a=parseInt(a);var o=$.grep(n,function(e,t){var n=parseInt(e);return n!==a});o=JSON.stringify(o),localStorage.setItem("addedAutosArr",o)}}else(0,s.con)(e),alert("No se pudo eliminar el auto, intenta m√°s tarde")}).fail(function(e){(0,s.con)("No se pudo eliminar el auto, intenta m√°s tarde"),console.log(e)})}),L=$("div.p-headerBackImg"),$(document).on("click","div.ok",function(){if("yes"===localStorage.getItem("activeSession")){var e=localStorage.getItem("aUsr"),t=sessionStorage.getItem("currentUserId");if(null!==e&&void 0!==e){e=parseInt(e);var a=void 0!==t&&null!==t?parseInt(t):parseInt(n.id);e===a?setTimeout(function(){if(y.find("img").length){y.css({"background-image":"none"});var e=y.find("img").attr("src").replace(/^data:image\/(png|jpg);base64,/,"");sessionStorage.setItem("temptyImgForLocal",e.toString()),y.append('<span class="glyphicon glyphicon-camera profImgCameraIcon"></span>'),(0,l.changeProfilePhoto)(e,j)}if(L.find("img").length)var e=L.find("img").attr("src").replace(/^data:image\/(png|jpg);base64,/,"")},200):(alert("tienes estar logueado y usar tu perfil para cambiar la foto"),setTimeout(function(){y.find("img").length&&y.find("img").remove()},200))}}}),G=$("div.membershipDateCounter"),B=$("div.dateProfileRgtBtnCont"),e.change(function(){var e=$(this).val();$("div.garageImgCont").each(function(t,n){$(n).hasClass(e)?$(n).show():$(n).hide()})})}()}})},{"./commonFunc/changeProfilePhoto.js":8,"./commonFunc/consoling.js":9,"./commonFunc/getversiones.js":11,"./commonFunc/httpProcesor.js":12,"./commonFunc/locating.js":13,"./commonFunc/sizingGarageImgs.js":14,"./commonFunc/urlEncoder.js":15}],25:[function(e,t,n){"use strict";$(function(){function e(){i.modal();var e=l.length?l.css("background-image"):c.css("background-image"),t=e.indexOf('"')+1,n=e.lastIndexOf('"');I=e.substring(t,n),S=!0}function t(e,t,n,a,o,s){console.log("fbShare",e,t,n,a);var r=e.indexOf("/web");e="http://vrummapp.net/web"+e.slice(r+4);var l=screen.height/2-s/2,c=screen.width/2-o/2;window.open("http://www.facebook.com/sharer.php?s=100&p[title]="+t+"&p[summary]="+n+"&p[images][0]="+a,"sharer","top="+l+",left="+c+",toolbar=0,status=0,width="+o+",height="+s),i.modal("hide")}function n(e){var t=$("<input>");$("#col-share").append(t),t.val(e).select(),document.execCommand("copy"),t.remove(),console.log(e),u.animate({opacity:1,right:"18px"},500).delay(1e3).animate({opacity:0,right:"-200px"},500)}var a=$("meta.metaUrl"),o=$("span.sharePage"),s=$("svg.sharePage"),i=$("div#modal-share"),r=$("a#copy-to-clipboard"),l=$("div#profilePict"),c=$("div.versionsCarousel"),d=$("a.shareButtonFB"),g=$("meta.metaTitle"),m=$("meta.metaDescrip"),u=($("meta.metaImg"),$("div.modalClipboard")),f="",v="",p="En Vrumm podr√°s encontrar los mejores autos del mercado en M√©xico",h="",I="",S=!1,b=!1;s.click(e),o.click(e),$(document).on("click","a.shareVrumm",function(){e()}),$(document).on("click","button.shareVrumm",function(){e()}),$(document).on("click","svg.shareLink",function(){var e=$(this),t=e.closest("div.garageImgCont"),n=t.find("span.garageModelName").text();p+=", como el "+n,f=t.find("a").attr("href"),v="Checa el "+n+" en Vrumm",h=t.find("img.garageImg").attr("src"),b=!0,i.modal()}),d.click(function(){S?(t(window.location.href,g.attr("content"),m.attr("content"),I,550,500),S=!1):b&&(t(f,v,p,h,550,500),b=!1)}),a.attr("content",window.location.href),r.click(function(){n(S?window.location.href:f)}),$("#tokenfield").length&&$("#tokenfield").on("tokenfield:createtoken",function(e){var t=e.attrs.value.split("|");e.attrs.value=t[1]||t[0],e.attrs.label=t[1]?t[0]+" ("+t[1]+")":t[0]}).on("tokenfield:createdtoken",function(e){var t=/\S+@\S+\.\S+/,n=t.test(e.attrs.value);n||$(e.relatedTarget).remove()}).on("tokenfield:edittoken",function(e){if(e.attrs.label!==e.attrs.value){var t=e.attrs.label.split(" (");e.attrs.value=t[0]+"|"+e.attrs.value}}).tokenfield(),$("#invitation-form").submit(function(){return $("#tokenfield").tokenfield("getTokens").length>0?($("#btn-send-invitation").button("loading"),$.ajax({type:"POST",cache:!1,url:$(this).attr("action"),data:$(this).serializeArray(),success:function(e){alert(e)},error:function(){alert("Ha ocurrido un error, intentelo m√°s tarde")},complete:function(){$("#btn-send-invitation").button("reset"),$("#invitation-form")[0].reset()}})):alert("Agregue una direcci√≥n de correo valida"),!1})})},{}],26:[function(e,t,n){"use strict";var a=e("./commonFunc/consoling.js"),o=e("./commonFunc/locating.js"),s=e("./commonFunc/urlEncoder.js");$(function(){if("/web/catalogo/specific-version.html"==o.myLocation||"/web/catalogo/specific-version"==o.myLocation){var e,t,n,i,r,l,c,d,g,m,u,f;!function(){var o=function(){setTimeout(function(){if(null!==sessionStorage.getItem("versionStored"))if(e=JSON.parse(sessionStorage.getItem("versionStored")),t=JSON.parse(sessionStorage.getItem("versionsArr")),s.hashesExist){var n=parseInt(e.id),a=parseInt(s.queriesT.cId);n===a?(I("wait"),p(t,"wait")):h(t,"wait")}else I("wait"),p(t,"wait");else v()},1600)},v=function(){if(s.hashesExist){var e=null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?{device:sessionStorage.getItem("deviceId"),modelId:parseInt(s.queriesT.mdlId),user:localStorage.getItem("aUsr")}:{device:sessionStorage.getItem("deviceId"),modelId:parseInt(s.queriesT.mdlId)};e=JSON.stringify(e),$.post("https://vrummapp.net/ws/v2/catalogo/getversiones",e).then(function(e){1===e.estado&&(t=e.mensaje.rs,p(t,"askVersionsAgain"),h(t,"askVersionsAgain"))}).fail(function(e){console.log(e)})}else o()},p=function(e,t){e.length>1?null:(E.hide(),J.css({margin:"0 auto"}))},h=function(t,n){var a=parseInt(s.queriesT.cId),o=$.grep(t,function(e,t){var n=parseInt(e.id);if(n===a)return e});e=o[0],void 0!==e&&null!==e?I("selectVersionStart"):v()},I=function(e){j(),U(),b(),C(null),S()},S=function(){var e=$("ul.fichaRenglon").children("li");e.map(function(e,t){var n=$(t).attr("class").split(/\s+/);$.each(n,function(e,a){if(a.search("pct")!==-1){var o=n[e].substring(3);$(t).css({width:o+"%"})}})})},b=function(){var t=$("div.thumbImgsCont"),n=$("div.arrowsCont");l?(i=[],$.isArray(c.pic_web)?i=c.pic_web:i[0]=c.pic_web):$.isArray(e.pic_web)?i=e.pic_web:i[0]=e.pic_web,H.attr("content",i[0]),O.find("div.sk-circle").remove(),$(O).css({"background-image":"url("+i[0]+")"}),r=i[0];var a="";t.find("div.carThumbImgUnit").remove(),i.forEach(function(e,n){a=0===n?"carThumb active":"carThumb";var o='<div class="carThumbImgUnit"><img src="'+e+'" class="'+a+' img-responsive"></div>';t.append(o)}),i.length<=1&&n.hide()},C=function(n){var a=[];if(l){if(n.length>0&&l){d=!1,y();var o,s=t.length-1;o=0===f?"right"===n?2:t.length:f===s?"right"===n?1:f:"right"===n?parseInt(L.text())+1:parseInt(L.text())-1,L.text(o),c=0===f?"left"===n?t[s]:t[f+1]:f===s?"left"===n?t[f-1]:t[0]:"left"===n?t[f-1]:t[f+1],a=c.ficha_tecnica,w(c.id),x(a),j(),b()}}else y(),L.text(f+1),G.text(t.length),a=e.ficha_tecnica,x(a)},y=function(){$.map(t,function(t,n){void 0!==c.id&&null!==c.id?t.id===c.id&&(f=n):t.id===e.id&&(f=n)})},w=function(e){var t=window.location.href,n=t.search("cId");if(n!==-1){var o=t.indexOf("&",n),s=t.slice(0,n),i="cId="+e,r=o!==-1?""+s+i+t.slice(o):""+s+i;(0,a.con)(r)}},x=function(e){var t=e[0].tab;e.forEach(function(e,n){if(e.tab!==t&&!F.find("div."+e.tab).length){t=e.tab;var o='<div class="'+t+' fichaCat">\n\t\t\t\t\t\t\t\t\t<h2>'+t+"</h2>\n\t\t\t\t\t\t\t\t</div>";F.append(o)}if(null!==e.dato&&void 0!==e.dato)if(F.find("div."+e.tab).find("li.dato"+e.dato).length)if(l){F.find("div."+e.tab).find("li.dato"+e.dato).children("p.datoVal").removeClass("diffData");var s=e.valor,i=F.find("div."+e.tab).find("li.dato"+e.dato).children("p.datoVal").text();if(F.find("div."+e.tab).find("li.dato"+e.dato).children("p.datoVal").empty().text(e.valor),s!==i){var r=F.find("div."+e.tab);r.hasClass("active")?r.find("li.dato"+e.dato).children("p.datoVal").addClass("diffData"):null}}else F.find("div."+e.tab).find("li.dato"+e.dato).children("p.datoVal").empty().text(e.valor);else{var c='<p class="'+e.tab+'">'+e.valor+" : "+e.dato+"</p>";$("p."+e.tab).length?$("p."+e.tab).empty().text(e.valor+" : "+e.dato):F.find("div."+e.tab).append(c)}else(0,a.con)(e.dato)})},P=function(t){var n=localStorage.getItem("aUsr"),a=sessionStorage.getItem("deviceId"),o=l?c.id:e.id,s=null!==localStorage.getItem("addedAutosArr")&&void 0!==localStorage.getItem("addedAutosArr")?JSON.parse(localStorage.getItem("addedAutosArr")):[],i={device:a,user:n,version:o,tipo:t};i=JSON.stringify(i),d||$.post("https://vrummapp.net/ws/v2/garage/agregar",i).then(function(e){1===e.estado&&($("#success-modal").modal(),s.push(o),s=JSON.stringify(s),localStorage.setItem("addedAutosArr",s),B.attr("src","../img/ic_OKGarage@2x.png"))})},N=function(t){var o=parseInt(t),s=sessionStorage.getItem("deviceId"),i=l?c.id:e.id,r=null!==localStorage.getItem("addedInComAutosArr")&&void 0!==localStorage.getItem("addedInComAutosArr")?JSON.parse(localStorage.getItem("addedInComAutosArr")):[],d=JSON.stringify({device:s,idUsr:o,version:i});(0,a.con)(d),g||$.post("https://vrummapp.net/ws/v2/comparador/agregar",d).then(function(e){1===e.estado&&($("#successComparador").modal(),r.push(i),r=JSON.stringify(r),localStorage.setItem("addedInComAutosArr",r),n.find("span.circle").removeClass("fa-plus-circle").addClass("fa-check-circle"))})},j=function(){var n=$("div.versionsBrandImg"),a=$("p.modelName"),o=$("p.modelPrice"),s=$("p.versionName"),i=e.pic_marca,r=null!==localStorage.getItem("modelName")?localStorage.getItem("modelName"):e.model_name;sessionStorage.setItem("currentBrandAutos",t[0].brand_id),localStorage.setItem("modelPrice",t[0].starting_price+" - "+t[t.length-1].starting_price),sessionStorage.setItem("currentBrandImg",e.pic_marca),localStorage.setItem("modelName",e.model_name);var d="",g="";l?(d=c.starting_price,g=c.name,k(c),T(c)):(d=e.starting_price,g=e.name,k(e),T(e)),n.css({"background-image":"url("+i+")"}),D.attr("content","Checa el "+r+" en Vrumm"),z.attr("content","Vrumm te permite ver todos los autos del mercado mexicano, como el "+r),a.text(r),o.text(d),s.text(g)},k=function(e){if(null!==localStorage.getItem("addedAutosArr")&&void 0!==localStorage.getItem("addedAutosArr")){var t=JSON.parse(localStorage.getItem("addedAutosArr")),n=t.length-1,a=parseInt(e.id);"string"==typeof e.esta_garage?A():t.length>0?$.each(t,function(e,t){var o=parseInt(t);a===o&&A(),e!==n||a===o||d||(B.attr("src","../img/ic_AddGarage@2x.png"),null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?(d=!1,V.text("Agregar a Mi Garage"),M.removeClass("defaultPointer")):(d=!0,R.addClass("hiddenItm")))}):(B.attr("src","../img/ic_AddGarage@2x.png"),null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?(d=!1,V.text("Agregar a Mi Garage"),M.removeClass("defaultPointer")):(d=!0,R.addClass("hiddenItm")))}else"string"==typeof e.esta_garage?A():(B.attr("src","../img/ic_AddGarage@2x.png"),null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?(d=!1,V.text("Agregar a Mi Garage"),M.removeClass("defaultPointer")):(d=!0,R.addClass("hiddenItm")))},T=function(e){if(null!==localStorage.getItem("addedInComAutosArr")&&void 0!==localStorage.getItem("addedInComAutosArr")){var t=JSON.parse(localStorage.getItem("addedInComAutosArr")),a=(t.length-1,parseInt(e.id));if(null!==e.esta_comparador&&"false"!==e.esta_comparador)_();else if(t.length>0){var o=$.grep(t,function(e,t){var n=parseInt(e);return n===a});o.length>0&&a===parseInt(o[0])?_():(n.find("span.circle").addClass("fa-plus-circle").removeClass("fa-check-circle"),g=!1,q.text("Agregar al Comparador"),n.removeClass("defaultPointer"))}}else null!==e.esta_comparador&&"false"!==e.esta_comparador&&_()},A=function(){d=!0,B.attr("src","../img/ic_OKGarage@2x.png"),R.addClass("hiddenItm"),M.addClass("defaultPointer"),V.text("Agregado al Garage")},_=function(){g=!0,n.find("span.circle").removeClass("fa-plus-circle").addClass("fa-check-circle"),n.addClass("defaultPointer"),q.text("Agregado al Comparador")},U=function(){var e=O.width(),t=.6309*e;O.height(t)};e={},t=[];var O=$("div.versionsCarousel"),F=$("div.versionDetailCont"),E=$("span.versionArrow"),J=$("div.versionRecognizerGroup"),L=$("span.versionNum"),G=$("span.versionTotal"),B=$("#btnAddToGarage img.isGarage"),M=$("a#btnAddToGarage"),V=$("span.addToGrgMsg"),q=$("span.addToCmpMsg"),R=$("ul.addToGarage"),D=$("meta.metaTitle"),z=$("meta.metaDescrip"),H=$("meta.metaImg");n=$("div.compareGroup.specificVersion"),i=[],r="",l=!1,c={},d=!1,g=!1,null!==sessionStorage.getItem("versionsArr")&&null!==sessionStorage.getItem("versionStored")?(e=JSON.parse(sessionStorage.getItem("versionStored")),t=JSON.parse(sessionStorage.getItem("versionsArr")),s.hashesExist?(m=parseInt(e.id),u=parseInt(s.queriesT.cId),m===u?(I("start"),p(t,"start")):h(t,"start")):(I("start"),p(t,"start"))):o(),$(window).resize(function(){U()}),E.on("click",function(){var e=$(this);l=!0,e.hasClass("left")?C("left"):e.hasClass("right")&&C("right")}),f=-1,$(".addToGarage a").on("click",function(e){e.preventDefault();var t=$(this).data("type");P(t)}),B.click(function(){null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?null:$("div#failLog").modal()}),n.click(function(e){null!==localStorage.getItem("aUsr")&&void 0!==localStorage.getItem("aUsr")?N(localStorage.getItem("aUsr")):$("div#failLog").modal()})}()}})},{"./commonFunc/consoling.js":9,"./commonFunc/locating.js":13,"./commonFunc/urlEncoder.js":15}]},{},[19,18,17,22,21,1,20,4,23,24,3,26,16,25,2]);