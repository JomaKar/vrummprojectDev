!function e(n,i,t){function o(a,r){if(!i[a]){if(!n[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};n[a][0].call(u.exports,function(e){var i=n[a][1][e];return o(i?i:e)},u,u.exports,e,n,i,t)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<t.length;a++)o(t[a]);return o}({1:[function(e,n,i){$(function(){function e(){s.next("label#referido-error").css({display:"none"})}function n(e){console.log(e)}function i(e){if(t(),e.length>0){e=e.replace(/ /g,"");var i=JSON.stringify({abuscar:e});n(i),$.post("https://vrummapp.net/ws/v2/usuario/buscarqtinv",i).then(function(e){n(e),o(e)}).fail(function(e){o("noOne")})}}function t(){var e='<li class="posibleFriend noFriends regInputs"><span class="psFrName"></span><span class="psFrAlias">Nadie con ese nombre </span> </li>';$("li.posibleFriend").each(function(e,n){e>0&&n.remove()}),s.val().length>0&&a.append(e)}function o(e){var n=[];"noOne"!==e&&(n=e.mensaje.rs,n.forEach(function(e,n){var i='<li class="posibleFriend regInputs"><span class="psFrName">'+e.full_name+'</span><span class="friendId">'+e.id+'</span><span class="psFrAlias"> '+e.alias+" </span> </li>";$("li.noFriends")&&$("li.noFriends").remove(),e.id.length>0&&a.append(i)}));var i=a.children("li").length;a.animate({height:25*i},20)}var s=$("input#referido"),a=$("ul.posibleFriendsList"),r=$("div.errorFriendNick");$(document).ready(function(){a.css({height:0,border:0,width:380})}),s.on("keyup",function(n){var t=$(this).val();8===n.which&&setTimeout(e,5),t.length>0&&i(t)}),s.focus(function(){var n=$(this).val();n.length>0?i(n):t(),setTimeout(e,5),r.css({display:"none"});var o=a.children("li").length;a.animate({height:25*o},20)}).blur(function(){setTimeout(e,5),setTimeout(function(){a.animate({height:0},20)},190)}),$(document).on("click","li.posibleFriend",function(){var e=($(this).children("span.friendId").html(),$(this).children("span.psFrAlias").html());void 0!==e&&s.val(e)})})},{}],2:[function(e,n,i){$(function(){function e(){var e=o.css("width");o.css({height:e}),n(e)}function n(e){var n=$(window).width();s.css({top:-(e/2)+"px"}),n>420&&n<767.5?o.removeClass("col-xs-4").addClass("col-xs-3"):n<420&&o.removeClass("col-xs-3").addClass("col-xs-4")}function i(e){console.log(e)}function t(){var e=$(window).width();i(e),e<975?(b.forEach(function(e,n){$.map(d,function(i,t){n<=1?e.removeClass(i).addClass("noPadding butVertHalf"):e.removeClass(i).addClass("noPadding")})}),v.addClass("NoleftP halfR").removeClass("NorightP"),p.css({height:"100%"}).addClass("NorightP halfL"),e<880&&u.css({width:"397",left:"-6%",top:"11%"})):e>975&&(b.forEach(function(e,n){$.map(d,function(n,i){e.removeClass("noPadding butVertHalf").addClass(n)})}),v.removeClass("NoleftP halfR butVertHalf").css({"padding-top":"7.5px","padding-bottom":"7.5px"}).addClass("NorightP"),p.css({height:"auto"}).removeClass("NorightP halfL"),u.closest("div").css({"text-align":"center"}),e>975&&e<1188?u.css({width:"459.19",left:"0",top:"4%"}):e>1188&&(u.css({width:"487.1"}),e<1368?f.removeClass("col-lg-offset-2 col-lg-4").addClass("col-lg-offset-1 col-lg-5"):e>1368&&f.removeClass("col-lg-offset-1 col-lg-5").addClass("col-lg-offset-2 col-lg-4")))}var o=$("div.p-profilePhoto"),s=$("div.p-profileInfoCont"),a=$("#inputPassword").closest("div.col-md-6"),r=$("#inputPassword2").closest("div.col-md-6"),l=$("#inputPaterno").closest("div.col-md-6"),c=$("#inputMaterno").closest("div.col-md-6"),u=$("img.sideImage"),f=$("div.sideImageCont"),d=["NorightP","NoleftP"],v=$("#r-fileInputGrp"),p=$("#r-textACont"),m=($("#registrationTitle"),$("div.errorLogin")),g=$("input#l-pass"),h=$("input#l-email");$("#simInputsCont");h.focus(function(){"block"===m.css("display")&&m.css({display:"none"})}),g.focus(function(){"block"===m.css("display")&&m.css({display:"none"})});var b=[a,l,r,c];$(document).ready(function(){n(o.width()),e(),t()}),$(window).resize(function(){n(o.width()),e();var i=$(window).width();console.log(i),t()})})},{}],3:[function(e,n,i){$(function(){function e(){var e=window.location.pathname;if("/pages/perfil.html"===e){var i="",o=sessionStorage.getItem("deviceId");sessionStorage.removeItem("nickGood"),sessionStorage.removeItem("mailGood"),null!==o&&void 0!==o?i=sessionStorage.getItem("deviceId"):(n("el device id no fue el mismo"),i=t(),n(i));var s=sessionStorage.getItem("currentUser");null!==s&&void 0!==s&&$(".fullName").html(s)}else sessionStorage.removeItem("activeSession"),sessionStorage.removeItem("currentUser")}function n(e){console.log(e)}function i(e){var n={},i=a(),o=e,s=["device","type","serie","os"],r={device:i},l={type:"web"},c={serie:i},u=[];void 0===o?o={os:"noAccesible"}:(o={os:o},u=[r,l,c,o]),0!==u.length&&(s.forEach(function(e,i){n[e]=u[i][e]}),n=JSON.stringify(n),$.post("https://vrummapp.net/ws/v2/acceso/getdevice",n).then(function(e){if(1===e.estado){var n=e.mensaje.rs[0].id;t(n)}}).fail(function(e){console.log(e)}))}function t(e){return 0===y?(b=e,void y++):b}function o(e){x=e.value,i(x)}function s(){(new Fingerprint2).get(function(e,n){a(e),o(n[0])})}function a(e){return 0===w?(g=e,void w++):g}function r(e){return 0===h?(m=e,void h++):m}function l(e){return 0===S?(p=e,void S++):p}function c(){var e=sessionStorage.getItem("location");void 0!==e&&null!==e?r(e):navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var n=e.coords.latitude,i=e.coords.longitude;v=n+", "+i,r(v),sessionStorage.setItem("location",v)})}function u(e){var n=C.children("li");return $.map(n,function(i,t){var o=$(n[t]).find("span.psFrAlias").html(),s=$(n[t]).find("span.friendId").html();if(o===e)return void 0!==s&&null!==s&&s.length>0&&(s=s.toString(),sessionStorage.setItem("id",s)),!0})}function f(e){var n={},i=t(),o=i,s={device:o},a=r(),c=l();if(a=void 0===a?{geoloc:"noAccesible"}:{geoloc:a},c=void 0===c?{photo:"profileDafault.png"}:{photo:c},void 0!==e&&e.length>0){e.unshift(s,a,c),$.each(e,function(i,t){if(i<=2)for(var o in t)n[o]=e[i][o];else"refered_by"===t.name?n[t.name]=sessionStorage.getItem("id"):"tags"===t.name?n[t.name]=t.value+", "+n.alias+", "+n.email+", "+n.nombre:n[t.name]=t.value});var u=JSON.stringify(n),f=sessionStorage.getItem("mailGood"),v=sessionStorage.getItem("nickGood");if("yes"===f&&"yes"===v)d(u);else{var p="<p id='nicknameText' class='badText'>Te falto algún dato o escribiste algo mal</p>";F.before(p)}}}function d(e){$.post("https://vrummapp.net/ws/v2/usuario/registro",e).then(function(e){console.log(e);var n=I.val().toString(),i=t();i=i.toString(),sessionStorage.setItem("currentUser",n),sessionStorage.setItem("deviceId",i),sessionStorage.setItem("activeSession","yes"),window.location="perfil.html"}).fail(function(e){console.log(e)})}e();var v,p,m,g=0,h=0,b=0,y=0,x="",w=0,S=0,I=$("#alias"),T=$("button#goToLogin"),k=$("input#referido"),C=$("ul.posibleFriendsList"),N=$("div.errorFriendNick"),F=$("button.registrarbtn");T.click(function(){window.location="../index.html"}),$(document).ready(function(){$(this).scrollTop(0),s(),c()});var P=$("form#registro");$("input.genderM"),$("input.genderF");P.on("submit",function(e){e.preventDefault();var n=$(this).serializeArray(),i=k.val();if(i.length>0&&"Sin invitación"!==i){var t=u(i);t.length>0&&t[0]===!0?f(n):N.toggle()}else"Sin invitación"===i&&f(n)}),$("#image_file").on("change",function(){if($(this)[0].files.length>0){var e=$(this)[0].files[0].name;l(e)}else console.log("no hay archivos")})})},{}],4:[function(e,n,i){$(function(){function e(e){var i={},t=o(),s=e,a=["device","type","serie","os"],r={device:t},l={type:"web"},c={serie:t},u=[];void 0===s?s={os:"noAccesible"}:(s={os:s},u=[r,l,c,s]),0!==u.length&&(a.forEach(function(e,n){i[e]=u[n][e]}),i=JSON.stringify(i),$.post("https://vrummapp.net/ws/v2/acceso/getdevice",i).then(function(e){if(1===e.estado){var i=e.mensaje.rs[0].id;n(i)}}).fail(function(e){console.log(e)}))}function n(e){return 0===f?(u=e,void f++):u}function i(n){d=n.value,e(d)}function t(){(new Fingerprint2).get(function(e,n){o(e),i(n[0])})}function o(e){return 0===v?(c=e,void v++):c}function s(){b.css({display:"none"}),y.animate({height:"toggle"},200).remove(),h.animate({height:"toggle"},200).remove(),S.css({display:"none"}),T.css({display:"none"}),k.css({display:"block"}),I.css({display:"block"}),w=!0}function a(e){var i=JSON.stringify(e);$.post("https://vrummapp.net/ws/v2/usuario/login",i).then(function(e){if(console.log(e),1===e.estado){var i=p.val().toString(),t=n();t=t.toString();var o=e.mensaje.rs;sessionStorage.setItem("currentUser",i),sessionStorage.setItem("deviceId",t),sessionStorage.setItem("currentUserId",o),sessionStorage.setItem("activeSession","yes"),window.location="pages/perfil.html"}else r(e)}).fail(function(e){console.log(e)})}function r(e){b.css({display:"block"}),p.val(""),m.val("")}$(document).ready(function(){t()});var l=$("#login"),c=0,u=0,f=0,d="",v=0,p=$("#l-email"),m=$("#l-pass"),g=$("button#goToReg"),h=$("div.passRecover"),b=$("div.errorLogin"),y=$("div#l-passCont"),x=$("div#r-emailInputGrp"),w=!1,S=$("span#normalText"),I=$("span#recoverPassTxt"),T=$("span#subBtnNrTxt"),k=$("span#subBtnRecTxt");h.click(function(){s()}),g.click(function(){window.location="pages/registro.html"}),l.submit(function(e){if(e.preventDefault(),w)w=!1,console.log("revisa tu mensajería para recuperar tu contraseña"),x.after(y),b.after(h),I.css({display:"none"}),S.css({display:"block"}),k.css({display:"none"}),T.css({display:"block"}),y.animate({height:"toggle"},200),h.animate({height:"toggle"},200).click(s);else{var i=$(this).serializeArray(),t=n();t=t.toString();var o={device:t};$.map(i,function(e,n){o[e.name]=e.value}),a(o)}})})},{}],5:[function(e,n,i){$(function(){function e(){(new Fingerprint2).get(function(e,i){n(e)})}function n(e){return 0===r?(a=e,void r++):a}var i=$("input#inputEmail"),t=$("#l-email"),o=$("input#inputPassword"),s=$("input#inputPassword2"),a=0,r=0;$(document).ready(function(){e()}),$.fn.validatePass=function(){function e(e){var n=o.val();if(n.length>0&&n!==e){var i="<p id='passConfText' class='badText'>Las contraseñas no coinciden</p>";s.after(i)}}return $(this).keyup(function(){var e=$("p#passConfText");e.remove()}),$(this).focus(function(){var e=$("p#passConfText");e.remove()}).blur(function(){var n=$(this).val();e(n)}),this},s.validatePass(),$.fn.validateMail=function(e,i){function t(e){if(e.length>0){var i=n(),t=[i.slice(0,8),i.slice(8,12),i.slice(12,16),i.slice(16,20),i.slice(20)],a=t.join("-"),r=JSON.stringify({email:e,device:a});$.post("https://vrummapp.net/ws/v2/usuario/validacorreo",r).then(function(e){2===e.estado?o(e):1===e.estado&&s(e)}).fail(function(e){o("noOne")})}}function o(n){var t=e.val();if("noOne"!==n&&"l"===i){var o="<p id='mailValText' class='goodText'>"+t+" es un buen mail</p>";e.after(o)}else if("noOne"===n){var s="<p id='mailValText' class='badText'>"+t+" es un mail incorrecto</p>";e.after(s),sessionStorage.setItem("mailGood","no")}else if("noOne"!==n&&"r"===i){sessionStorage.setItem("mailGood","no");var a="<p id='mailValText' class='badText'>"+t+" es un mail que ya existe</p>";e.after(a)}}function s(n){var t=e.val();if("r"===i){var o="<p id='mailValText' class='goodText'>"+t+" es un buen mail</p>";sessionStorage.setItem("mailGood","yes"),e.after(o)}else if("l"===i){var s="<p id='mailValText' class='badText'>"+t+" es un mail que no existe aún</p>";e.after(s)}}return $(this).keyup(function(){var e=$("p#mailValText");e.remove()}),$(this).focus(function(){var e=$("p#mailValText");e.remove()}).blur(function(){var e=$(this).val();t(e)}),this},i.validateMail(i,"r"),t.validateMail(t,"l")})},{}],6:[function(e,n,i){$(function(){function e(e){console.log(e)}var n=$("input#alias");$.fn.nicknameValidation=function(n){function i(n){if(n.length>0){var i=JSON.stringify({nickname:n});$.post("https://vrummapp.net/ws/v2/usuario/validanickname",i).then(function(n){e(n),2===n.estado?o(n):1===n.estado&&t(n)}).fail(function(e){t("noOne")})}}function t(e){var i=n.val();if("noOne"!==e){var t="<p id='nicknameText' class='goodText'>"+i+" es un nickname bueno</p>";sessionStorage.setItem("nickGood","yes"),n.after(t)}else{var o="<p id='nicknameText' class='badText'>"+i+" es un nickname que ya existe</p>";n.after(o),sessionStorage.setItem("nickGood","no")}}function o(){var e=n.val(),i="<p id='nicknameText' class='badText'>"+e+" es un nickname que ya existe</p>";sessionStorage.setItem("nickGood","no"),n.after(i)}$(this).keyup(function(){var e=$("p#nicknameText");e.remove()}),$(this).focus(function(){var e=$("p#nicknameText");e.remove()}).blur(function(){var e=$(this).val();i(e)})},n.nicknameValidation(n)})},{}]},{},[3,2,1,6,5,4]);