!function e(n,i,o){function t(a,l){if(!i[a]){if(!n[a]){var r="function"==typeof require&&require;if(!l&&r)return r(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=i[a]={exports:{}};n[a][0].call(f.exports,function(e){var i=n[a][1][e];return t(i?i:e)},f,f.exports,e,n,i,o)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<o.length;a++)t(o[a]);return t}({1:[function(e,n,i){$(function(){function e(){t.next("label#referido-error").css({display:"none"})}function n(e){if(i(),e.length>0){e=e.replace(/ /g,"");var n=JSON.stringify({abuscar:e});$.post("https://vrummapp.net/ws/v2/usuario/buscarqtinv",n).then(function(e){o(e)}).fail(function(e){o("noOne")})}}function i(){var e='<li class="posibleFriend noFriends regInputs"><span class="psFrName"></span><span class="psFrAlias">Nadie con ese nombre </span> </li>';$("li.posibleFriend").each(function(e,n){e>0&&n.remove()}),t.val().length>0&&s.append(e)}function o(e){var n=[],i=s.children("li"),o=[];$.map(i,function(e,n){var i=$(e).find("span.friendId").html();o.push(i)}),"noOne"!==e&&(n=e.mensaje.rs,n.forEach(function(e,n){var i='<li class="posibleFriend regInputs"><span class="psFrName">'+e.full_name+'</span><span class="friendId">'+e.id+'</span><span class="psFrAlias"> '+e.alias+" </span> </li>";if($("li.noFriends")&&$("li.noFriends").remove(),e.id.length>0){var t=parseInt(e.id),a=e.id.toString(),l=o.indexOf(t),r=o.indexOf(a);r===-1&&l===-1&&s.append(i)}}));var i=s.children("li").length;s.animate({height:25*i},20)}var t=$("input#referido"),s=$("ul.posibleFriendsList"),a=$("div.errorFriendNick");$(document).ready(function(){s.css({height:0,border:0,width:380})}),t.on("keyup",function(i){var o=$(this).val();8===i.which&&setTimeout(e,5),o.length>0&&n(o)}),t.focus(function(){var o=$(this).val();o.length>0?n(o):i(),setTimeout(e,5),a.css({display:"none"});var t=s.children("li").length;s.animate({height:25*t},20)}).blur(function(){setTimeout(e,5),setTimeout(function(){s.animate({height:0},20)},190)}),$(document).on("click","li.posibleFriend",function(){var e=($(this).children("span.friendId").html(),$(this).children("span.psFrAlias").html());void 0!==e&&t.val(e)})})},{}],2:[function(e,n,i){$(function(){function e(){var e=t.css("width");t.css({height:e}),n(e)}function n(e){var n=$(window).width();s.css({top:-(e/2)+"px"}),n>420&&n<767.5?t.removeClass("col-xs-4").addClass("col-xs-3"):n<420&&t.removeClass("col-xs-3").addClass("col-xs-4")}function i(e){console.log(e)}function o(){var e=$(window).width();i(e),e<975?(x.forEach(function(e,n){$.map(d,function(i,o){n<=1?e.removeClass(i).css({padding:"0 0 6.5px 0"}):e.removeClass(i).css({padding:"6.5px 0 0 0"})})}),v.addClass("NoleftP halfR").removeClass("NorightP"),p.css({height:"100%"}).addClass("NorightP halfL"),e<880?f.css({width:"387",left:"-6%"}):f.css({width:"459",left:"0"})):e>=975&&(x.forEach(function(e,n){$.map(d,function(n,i){e.addClass(n).css({"padding-top":0,"padding-bottom":0})})}),v.removeClass("NoleftP halfR butVertHalf").css({"padding-top":"7.5px","padding-bottom":"7.5px"}).addClass("NorightP halfL"),p.css({height:"auto"}).removeClass("NorightP halfL"),f.closest("div").css({"text-align":"center"}),f.css({width:"459",left:"0"}),e>1070&&e<1278?(f.css({width:"535"}),u.removeClass("col-lg-5 col-lg-offset-1")):e>1278&&(u.addClass("col-lg-5 col-lg-offset-1").removeClass("col-lg-offset-2 col-lg-4"),e<1472?u.removeClass("col-lg-offset-2 col-lg-4").addClass("col-lg-offset-1 col-lg-5"):e>1472&&u.removeClass("col-lg-offset-1 col-lg-5").addClass("col-lg-offset-2 col-lg-4")))}var t=$("div.p-profilePhoto"),s=$("div.p-profileInfoCont"),a=$("#inputPassword").closest("div.col-md-6"),l=$("#inputPassword2").closest("div.col-md-6"),r=$("#inputPaterno").closest("div.col-md-6"),c=$("#inputMaterno").closest("div.col-md-6"),f=$("img.sideImage"),u=$("div.sideImageCont"),d=["NorightP","NoleftP"],v=$("#r-fileInputGrp"),p=$("#r-textACont"),m=($("#registrationTitle"),$("div.errorLogin")),g=$("input#l-pass"),h=$("input#l-email");$("#simInputsCont");h.focus(function(){"block"===m.css("display")&&m.css({display:"none"})}),g.focus(function(){"block"===m.css("display")&&m.css({display:"none"})});var x=[a,r,l,c];$(document).ready(function(){n(t.width()),e(),o()}),$(window).resize(function(){n(t.width()),e();var i=$(window).width();console.log(i),o()})})},{}],3:[function(e,n,i){$(function(){function e(){var e=window.location.pathname;if("/pages/perfil.html"===e){var i="",t=sessionStorage.getItem("deviceId");sessionStorage.removeItem("nickGood"),sessionStorage.removeItem("mailGood"),null!==t&&void 0!==t?i=t:(n("el device id no fue el mismo"),i=o(),n(i));var s=sessionStorage.getItem("currentUser");null!==s&&void 0!==s&&$(".fullName").html(s)}else sessionStorage.removeItem("activeSession"),sessionStorage.removeItem("currentUser")}function n(e){console.log(e)}function i(e){var n={},i=a(),t=e,s=["device","type","serie","os"],l={device:i},r={type:"web"},c={serie:i},f=[];void 0===t?t={os:"noAccesible"}:(t={os:t},f=[l,r,c,t]),0!==f.length&&(s.forEach(function(e,i){n[e]=f[i][e]}),n=JSON.stringify(n),$.post("https://vrummapp.net/ws/v2/acceso/getdevice",n).then(function(e){if(1===e.estado){var n=e.mensaje.rs[0].id;o(n)}}).fail(function(e){console.log(e)}))}function o(e){return 0===b?(x=e.toString(),b++,void sessionStorage.setItem("deviceId",x)):x}function t(e){y=e.value,i(y)}function s(){(new Fingerprint2).get(function(e,n){a(e),t(n[0])})}function a(e){return 0===S?(g=e,void S++):g}function l(e){return 0===h?(m=e,void h++):m}function r(e){return 0===w?(p=e,void w++):p}function c(){var e=sessionStorage.getItem("location");void 0!==e&&null!==e?l(e):navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var n=e.coords.latitude,i=e.coords.longitude;v=n+", "+i,l(v),sessionStorage.setItem("location",v)})}function f(e){var n=C.children("li");return $.map(n,function(i,o){var t=$(n[o]).find("span.psFrAlias").html(),s=$(n[o]).find("span.friendId").html();if(t===e)return void 0!==s&&null!==s&&s.length>0&&(s=s.toString(),sessionStorage.setItem("id",s)),!0})}function u(e){var n={},i=o(),t=i,s={device:t},a=l(),c=r();if(a=void 0===a?{geoloc:"noAccesible"}:{geoloc:a},c=void 0===c?{photo:"profileDafault.png"}:{photo:c},void 0!==e&&e.length>0){e.unshift(s,a,c),$.each(e,function(i,o){if(i<=2)for(var t in o)n[t]=e[i][t];else"refered_by"===o.name?n[o.name]=sessionStorage.getItem("id"):"tags"===o.name?n[o.name]=o.value+", "+n.alias+", "+n.email+", "+n.nombre:n[o.name]=o.value});var f=JSON.stringify(n),u=sessionStorage.getItem("mailGood"),v=sessionStorage.getItem("nickGood");if("yes"===u&&"yes"===v)d(f);else{var p="<p id='nicknameText' class='badText'>Te falto algún dato o escribiste algo mal</p>";F.before(p)}}}function d(e){$.post("https://vrummapp.net/ws/v2/usuario/registro",e).then(function(e){console.log(e);var n=I.val().toString();sessionStorage.setItem("currentUser",n),sessionStorage.setItem("activeSession","yes"),window.location="perfil.html"}).fail(function(e){console.log(e)})}e();var v,p,m,g=0,h=0,x=0,b=0,y="",S=0,w=0,I=$("#alias"),T=$("button#goToLogin"),k=$("input#referido"),C=$("ul.posibleFriendsList"),N=$("div.errorFriendNick"),F=$("button.registrarbtn");T.click(function(){window.location="../index.html"}),$(document).ready(function(){$(this).scrollTop(0),s(),c()});var O=$("form#registro");$("input.genderM"),$("input.genderF");O.on("submit",function(e){e.preventDefault();var n=$(this).serializeArray(),i=k.val();if(i.length>0&&"Sin invitación"!==i){var o=f(i);o.length>0&&o[0]===!0?u(n):N.toggle()}else"Sin invitación"===i&&u(n)}),$("#image_file").on("change",function(){if($(this)[0].files.length>0){var e=$(this)[0].files[0].name;r(e)}else console.log("no hay archivos")})})},{}],4:[function(e,n,i){$(function(){function e(){f.css({display:"none"}),u.animate({height:"toggle"},200).remove(),c.animate({height:"toggle"},200).remove(),p.css({display:"none"}),g.css({display:"none"}),h.css({display:"block"}),m.css({display:"block"}),v=!0}function n(e){var n=JSON.stringify(e);$.post("https://vrummapp.net/ws/v2/usuario/login",n).then(function(e){if(1===e.estado){var n=a.val().toString(),i=e.mensaje.rs;sessionStorage.setItem("currentUser",n),sessionStorage.setItem("currentUserId",i),sessionStorage.setItem("activeSession","yes"),window.location="pages/perfil.html"}else o(e)}).fail(function(e){console.log(e)})}function i(e){$.post("https://vrummapp.net/ws/v2/usuario/getpasswd",e).then(function(e){console.log(e),2===e.mensaje&&console.log(e.mensaje)}).fail(function(e){console.log(e)})}function o(e){f.css({display:"block"}),a.val(""),l.val("")}function t(){var e=x.prev("p#nicknameText");e.remove()}var s=$("#login"),a=$("#l-email"),l=$("#l-pass"),r=$("button#goToReg"),c=$("div.passRecover"),f=$("div.errorLogin"),u=$("div#l-passCont"),d=$("div#r-emailInputGrp"),v=!1,p=$("span#normalText"),m=$("span#recoverPassTxt"),g=$("span#subBtnNrTxt"),h=$("span#subBtnRecTxt"),x=$("button.registrarbtn");a.focus(t),l.focus(t),c.click(function(){e()}),r.click(function(){window.location="pages/registro.html"}),s.submit(function(o){o.preventDefault();var s=sessionStorage.getItem("deviceId");if(s=s.toString(),v){v=!1,d.after(u),f.after(c),m.css({display:"none"}),p.css({display:"block"}),h.css({display:"none"}),g.css({display:"block"}),u.animate({height:"toggle"},200),c.animate({height:"toggle"},200).click(e);var l=a.val(),r=sessionStorage.getItem("location"),b={device:s,mail:l,geoloc:r};b=JSON.stringify(b);var y=sessionStorage.getItem("mailGood");if("yes"===y)i(b);else{var S="<p id='nicknameText' class='badText'>Te falto algún dato o escribiste algo mal</p>";x.before(S)}}else{var w=$(this).serializeArray(),I={device:s};$.map(w,function(e,n){I[e.name]=e.value});var y=sessionStorage.getItem("mailGood");if("yes"===y)n(I);else{t();var S="<p id='nicknameText' class='badText'>Te falto algún dato o escribiste algo mal</p>";x.before(S)}}})})},{}],5:[function(e,n,i){$(function(){function e(){(new Fingerprint2).get(function(e,i){n(e)})}function n(e){return 0===l?(a=e,void l++):a}var i=$("input#inputEmail"),o=$("#l-email"),t=$("input#inputPassword"),s=$("input#inputPassword2"),a=0,l=0;$(document).ready(function(){e()}),$.fn.validatePass=function(){function e(e){var n=t.val();if(n.length>0&&n!==e){var i="<p id='passConfText' class='badText'>Las contraseñas no coinciden</p>";s.after(i)}}return $(this).keyup(function(){var e=$("p#passConfText");e.remove()}),$(this).focus(function(){var e=$("p#passConfText");e.remove()}).blur(function(){var n=$(this).val();e(n)}),this},s.validatePass(),$.fn.validateMail=function(e,i){function o(e){if(e.length>0){var i=n(),o=[i.slice(0,8),i.slice(8,12),i.slice(12,16),i.slice(16,20),i.slice(20)],a=o.join("-"),l=JSON.stringify({email:e,device:a});$.post("https://vrummapp.net/ws/v2/usuario/validacorreo",l).then(function(e){2===e.estado?(console.log(e.mensaje),t(e)):1===e.estado&&s(e)}).fail(function(e){t("noOne")})}}function t(n){var o=e.val();if("noOne"!==n&&"l"===i){var t="<p id='mailValText' class='goodText'>"+o+" es un buen mail</p>";sessionStorage.setItem("mailGood","yes"),a(),e.after(t)}else if("noOne"===n){$("p#mailValText");a(),sessionStorage.setItem("mailGood","no")}else if("noOne"!==n&&"r"===i){sessionStorage.setItem("mailGood","no");var s="<p id='mailValText' class='badText'>"+o+" es un mail que ya existe</p>";a(),e.after(s)}}function s(n){var o=e.val();if("r"===i){var t="<p id='mailValText' class='goodText'>"+o+" es un buen mail</p>";sessionStorage.setItem("mailGood","yes"),a(),e.after(t)}else if("l"===i){var s="<p id='mailValText' class='badText'>"+o+" es un mail que no existe aún</p>";sessionStorage.setItem("mailGood","no"),a(),e.after(s)}}function a(){var e=$("p#mailValText");e.remove()}return $(this).keyup(function(){var e=$("p#mailValText");e.remove()}),$(this).focus(function(){var e=$("p#mailValText");e.remove();var n=$(this).val();n.length>0&&o(n)}).blur(function(){var e=$(this).val();o(e)}),this},i.validateMail(i,"r"),o.validateMail(o,"l")})},{}],6:[function(e,n,i){$(function(){function e(e){console.log(e)}var n=$("input#alias");$.fn.nicknameValidation=function(n){function i(n){if(n.length>0){var i=JSON.stringify({nickname:n});$.post("https://vrummapp.net/ws/v2/usuario/validanickname",i).then(function(n){e(n),2===n.estado?t(n):1===n.estado&&o(n)}).fail(function(e){o("noOne")})}}function o(e){var i=n.val();if("noOne"!==e){var o="<p id='nicknameText' class='goodText'>"+i+" es un nickname bueno</p>";sessionStorage.setItem("nickGood","yes"),n.after(o)}else{var t="<p id='nicknameText' class='badText'>"+i+" es un nickname que ya existe</p>";n.after(t),sessionStorage.setItem("nickGood","no")}}function t(){var e=n.val(),i="<p id='nicknameText' class='badText'>"+e+" es un nickname que ya existe</p>";sessionStorage.setItem("nickGood","no"),n.after(i)}$(this).keyup(function(){var e=$("p#nicknameText");e.remove()}),$(this).focus(function(){var e=$("p#nicknameText");e.remove()}).blur(function(){var e=$(this).val();i(e)})},n.nicknameValidation(n)})},{}]},{},[3,2,1,6,5,4]);